(function(c){var a=/^\s*|\s*$/g,d;var b={majorVersion:"3",minorVersion:"3.8",releaseDate:"2010-06-30",_init:function(){var r=this,o=document,m=navigator,f=m.userAgent,l,e,k,j,h,q;r.isOpera=c.opera&&opera.buildNumber;r.isWebKit=/WebKit/.test(f);r.isIE=!r.isWebKit&&!r.isOpera&&(/MSIE/gi).test(f)&&(/Explorer/gi).test(m.appName);r.isIE6=r.isIE&&/MSIE [56]/.test(f);r.isGecko=!r.isWebKit&&/Gecko/.test(f);r.isMac=f.indexOf("Mac")!=-1;r.isAir=/adobeair/i.test(f);r.isIDevice=/(iPad|iPhone)/.test(f);if(c.tinyMCEPreInit){r.suffix=tinyMCEPreInit.suffix;r.baseURL=tinyMCEPreInit.base;r.query=tinyMCEPreInit.query;return}r.suffix="";e=o.getElementsByTagName("base");for(l=0;l<e.length;l++){if(q=e[l].href){if(/^https?:\/\/[^\/]+$/.test(q)){q+="/"}j=q?q.match(/.*\//)[0]:""}}function g(p){if(p.src&&/tiny_mce(|_gzip|_jquery|_prototype)(_dev|_src)?.js/.test(p.src)){if(/_(src|dev)\.js/g.test(p.src)){r.suffix="_src"}if((h=p.src.indexOf("?"))!=-1){r.query=p.src.substring(h+1)}r.baseURL=p.src.substring(0,p.src.lastIndexOf("/"));if(j&&r.baseURL.indexOf("://")==-1&&r.baseURL.indexOf("/")!==0){r.baseURL=j+r.baseURL}return r.baseURL}return null}e=o.getElementsByTagName("script");for(l=0;l<e.length;l++){if(g(e[l])){return}}k=o.getElementsByTagName("head")[0];if(k){e=k.getElementsByTagName("script");for(l=0;l<e.length;l++){if(g(e[l])){return}}}return},is:function(f,e){if(!e){return f!==d}if(e=="array"&&(f.hasOwnProperty&&f instanceof Array)){return true}return typeof(f)==e},each:function(h,e,g){var j,f;if(!h){return 0}g=g||h;if(h.length!==d){for(j=0,f=h.length;j<f;j++){if(e.call(g,h[j],j,h)===false){return 0}}}else{for(j in h){if(h.hasOwnProperty(j)){if(e.call(g,h[j],j,h)===false){return 0}}}}return 1},trim:function(e){return(e?""+e:"").replace(a,"")},create:function(n,e){var m=this,f,h,j,k,g,l=0;n=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(n);j=n[3].match(/(^|\.)(\w+)$/i)[2];h=m.createNS(n[3].replace(/\.\w+$/,""));if(h[j]){return}if(n[2]=="static"){h[j]=e;if(this.onCreate){this.onCreate(n[2],n[3],h[j])}return}if(!e[j]){e[j]=function(){};l=1}h[j]=e[j];m.extend(h[j].prototype,e);if(n[5]){f=m.resolve(n[5]).prototype;k=n[5].match(/\.(\w+)$/i)[1];g=h[j];if(l){h[j]=function(){return f[k].apply(this,arguments)}}else{h[j]=function(){this.parent=f[k];return g.apply(this,arguments)}}h[j].prototype[j]=h[j];m.each(f,function(o,p){h[j].prototype[p]=f[p]});m.each(e,function(o,p){if(f[p]){h[j].prototype[p]=function(){this.parent=f[p];return o.apply(this,arguments)}}else{if(p!=j){h[j].prototype[p]=o}}})}m.each(e["static"],function(o,p){h[j][p]=o});if(this.onCreate){this.onCreate(n[2],n[3],h[j].prototype)}},walk:function(h,g,j,e){e=e||this;if(h){if(j){h=h[j]}b.each(h,function(k,f){if(g.call(e,k,f,j)===false){return false}b.walk(k,g,j,e)})}},createNS:function(h,g){var f,e;g=g||c;h=h.split(".");for(f=0;f<h.length;f++){e=h[f];if(!g[e]){g[e]={}}g=g[e]}return g},resolve:function(h,g){var f,e;g=g||c;h=h.split(".");for(f=0,e=h.length;f<e;f++){g=g[h[f]];if(!g){break}}return g},addUnload:function(j,h){var g=this;j={func:j,scope:h||this};if(!g.unloads){function e(){var f=g.unloads,l,m;if(f){for(m in f){l=f[m];if(l&&l.func){l.func.call(l.scope,1)}}if(c.detachEvent){c.detachEvent("onbeforeunload",k);c.detachEvent("onunload",e)}else{if(c.removeEventListener){c.removeEventListener("unload",e,false)}}g.unloads=l=f=w=e=0;if(c.CollectGarbage){CollectGarbage()}}}function k(){var l=document;if(l.readyState=="interactive"){function f(){l.detachEvent("onstop",f);if(e){e()}l=0}if(l){l.attachEvent("onstop",f)}c.setTimeout(function(){if(l){l.detachEvent("onstop",f)}},0)}}if(c.attachEvent){c.attachEvent("onunload",e);c.attachEvent("onbeforeunload",k)}else{if(c.addEventListener){c.addEventListener("unload",e,false)}}g.unloads=[j]}else{g.unloads.push(j)}return j},removeUnload:function(h){var e=this.unloads,g=null;b.each(e,function(j,f){if(j&&j.func==h){e.splice(f,1);g=h;return false}});return g},explode:function(e,f){return e?b.map(e.split(f||","),b.trim):e},_addVer:function(f){var e;if(!this.query){return f}e=(f.indexOf("?")==-1?"?":"&")+this.query;if(f.indexOf("#")==-1){return f+e}return f.replace("#",e+"#")}};b._init();c.tinymce=c.tinyMCE=b})(window);(function(e,d){var c=d.is,b=/^(href|src|style)$/i,f;if(!e){return alert("Load jQuery first!")}d.$=e;d.adapter={patchEditor:function(k){var j=e.fn;function h(o,p){var n=this;if(p){n.removeAttr("_mce_style")}return j.css.apply(n,arguments)}function g(o,p){var n=this;if(b.test(o)){if(p!==f){n.each(function(q,r){k.dom.setAttrib(r,o,p)});return n}else{return n.attr("_mce_"+o)}}return j.attr.apply(n,arguments)}function l(n){return function(o){if(o){o=k.dom.processHTML(o)}return n.call(this,o)}}function m(n){if(n.css!==h){n.css=h;n.attr=g;n.html=l(j.html);n.append=l(j.append);n.prepend=l(j.prepend);n.after=l(j.after);n.before=l(j.before);n.replaceWith=l(j.replaceWith);n.tinymce=k;n.pushStack=function(){return m(j.pushStack.apply(this,arguments))}}return n}k.$=function(n,o){var p=k.getDoc();return m(e(n||p,p||o))}}};d.extend=e.extend;d.extend(d,{map:e.map,grep:function(g,h){return e.grep(g,h||function(){return 1})},inArray:function(g,h){return e.inArray(h,g||[])}});var a={"tinymce.dom.DOMUtils":{select:function(j,h){var g=this;return e.find(j,g.get(h)||g.get(g.settings.root_element)||g.doc,[])},is:function(h,g){return e(this.get(h)).is(g)}}};d.onCreate=function(g,j,h){d.extend(h,a[j])}})(window.jQuery,tinymce);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(a,b){this.listeners.push({cb:a,scope:b||this.scope});return a},addToTop:function(a,b){this.listeners.unshift({cb:a,scope:b||this.scope});return a},remove:function(a){var b=this.listeners,c=null;tinymce.each(b,function(e,d){if(a==e.cb){c=a;b.splice(d,1);return false}});return c},dispatch:function(){var f,d=arguments,e,b=this.listeners,g;for(e=0;e<b.length;e++){g=b[e];f=g.cb.apply(g.scope,d);if(f===false){break}}return f}});(function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(e,g){var f=this,h,d,c;e=tinymce.trim(e);g=f.settings=g||{};if(/^(mailto|tel|news|javascript|about|data):/i.test(e)||/^\s*#/.test(e)){f.source=e;return}if(e.indexOf("/")===0&&e.indexOf("//")!==0){e=(g.base_uri?g.base_uri.protocol||"http":"http")+"://mce_host"+e}if(!/^\w*:?\/\//.test(e)){e=(g.base_uri.protocol||"http")+"://mce_host"+f.toAbsPath(g.base_uri.path,e)}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(b,j){var k=e[j];if(k){k=k.replace(/\(mce_at\)/g,"@@")}f[b]=k});if(c=g.base_uri){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host=="mce_host"){f.port=c.port}if(!f.host||f.host=="mce_host"){f.host=c.host}f.source=""}},setPath:function(c){var b=this;c=/^(.*?)\/?(\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source="";b.getURI()},toRelative:function(b){var c=this,d;if(b==="./"){return b}b=new tinymce.util.URI(b,{base_uri:c});if((b.host!="mce_host"&&c.host!=b.host&&b.host)||c.port!=b.port||c.protocol!=b.protocol){return b.getURI()}d=c.toRelPath(c.path,b.path);if(b.query){d+="?"+b.query}if(b.anchor){d+="#"+b.anchor}return d},toAbsolute:function(b,c){var b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(g,h){var c,f=0,d="",e,b;g=g.substring(0,g.lastIndexOf("/"));g=g.split("/");c=h.split("/");if(g.length>=c.length){for(e=0,b=g.length;e<b;e++){if(e>=c.length||g[e]!=c[e]){f=e+1;break}}}if(g.length<c.length){for(e=0,b=c.length;e<b;e++){if(e>=g.length||g[e]!=c[e]){f=e+1;break}}}if(f==1){return h}for(e=0,b=g.length-(f-1);e<b;e++){d+="../"}for(e=f-1,b=c.length;e<b;e++){if(e!=f-1){d+="/"+c[e]}else{d+=c[e]}}return d},toAbsPath:function(e,f){var c,b=0,h=[],d,g;d=/\/$/.test(f)?"/":"";e=e.split("/");f=f.split("/");a(e,function(j){if(j){h.push(j)}});e=h;for(c=f.length-1,h=[];c>=0;c--){if(f[c].length==0||f[c]=="."){continue}if(f[c]==".."){b++;continue}if(b>0){b--;continue}h.push(f[c])}c=e.length-b;if(c<=0){g=h.reverse().join("/")}else{g=e.slice(0,c).join("/")+"/"+h.reverse().join("/")}if(g.indexOf("/")!==0){g="/"+g}if(d&&g.lastIndexOf("/")!==g.length-1){g+=d}return g},getURI:function(d){var c,b=this;if(!b.source||d){c="";if(!d){if(b.protocol){c+=b.protocol+"://"}if(b.userInfo){c+=b.userInfo+"@"}if(b.host){c+=b.host}if(b.port){c+=":"+b.port}}if(b.path){c+=b.path}if(b.query){c+="?"+b.query}if(b.anchor){c+="#"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split("&"),function(e){e=e.split("=");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(k,b,g,f,j,c){var h="";a(b,function(e,d){h+=(!h?"":"&")+escape(d)+"="+escape(e)});this.set(k,h,g,f,j,c)},get:function(j){var h=document.cookie,g,f=j+"=",d;if(!h){return}d=h.indexOf("; "+f);if(d==-1){d=h.indexOf(f);if(d!=0){return null}}else{d+=2}g=h.indexOf(";",d);if(g==-1){g=h.length}return unescape(h.substring(d+f.length,g))},set:function(j,b,g,f,h,c){document.cookie=j+"="+escape(b)+((g)?"; expires="+g.toGMTString():"")+((f)?"; path="+escape(f):"")+((h)?"; domain="+h:"")+((c)?"; secure":"")},remove:function(e,b){var c=new Date();c.setTime(c.getTime()-1000);this.set(e,"",c,b,c)}})})();tinymce.create("static tinymce.util.JSON",{serialize:function(e){var c,a,d=tinymce.util.JSON.serialize,b;if(e==null){return"null"}b=typeof e;if(b=="string"){a="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+e.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(g,f){c=a.indexOf(f);if(c+1){return"\\"+a.charAt(c+1)}g=f.charCodeAt().toString(16);return"\\u"+"0000".substring(g.length)+g})+'"'}if(b=="object"){if(e.hasOwnProperty&&e instanceof Array){for(c=0,a="[";c<e.length;c++){a+=(c>0?",":"")+d(e[c])}return a+"]"}a="{";for(c in e){a+=typeof e[c]!="function"?(a.length>1?',"':'"')+c+'":'+d(e[c]):""}return a+"}"}return""+e},parse:function(s){try{return eval("("+s+")")}catch(ex){}}});tinymce.create("static tinymce.util.XHR",{send:function(g){var a,e,b=window,h=0;g.scope=g.scope||this;g.success_scope=g.success_scope||g.scope;g.error_scope=g.error_scope||g.scope;g.async=g.async===false?false:true;g.data=g.data||"";function d(j){a=0;try{a=new ActiveXObject(j)}catch(c){}return a}a=b.XMLHttpRequest?new XMLHttpRequest():d("Microsoft.XMLHTTP")||d("Msxml2.XMLHTTP");if(a){if(a.overrideMimeType){a.overrideMimeType(g.content_type)}a.open(g.type||(g.data?"POST":"GET"),g.url,g.async);if(g.content_type){a.setRequestHeader("Content-Type",g.content_type)}a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(g.data);function f(){if(!g.async||a.readyState==4||h++>10000){if(g.success&&h<10000&&a.status==200){g.success.call(g.success_scope,""+a.responseText,a,g)}else{if(g.error){g.error.call(g.error_scope,h>10000?"TIMED_OUT":"GENERAL",a,g)}}a=null}else{b.setTimeout(f,10)}}if(!g.async){return f()}e=b.setTimeout(f,10)}}});(function(){var c=tinymce.extend,b=tinymce.util.JSON,a=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(d){this.settings=c({},d);this.count=0},send:function(f){var e=f.error,d=f.success;f=c(this.settings,f);f.success=function(h,g){h=b.parse(h);if(typeof(h)=="undefined"){h={error:"JSON Parse error."}}if(h.error){e.call(f.error_scope||f.scope,h.error,g)}else{d.call(f.success_scope||f.scope,h.result)}};f.error=function(h,g){e.call(f.error_scope||f.scope,h,g)};f.data=b.serialize({id:f.id||"c"+(this.count++),method:f.method,params:f.params});f.content_type="application/json";a.send(f)},"static":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(n){var l=n.each,k=n.is,j=n.isWebKit,d=n.isIE,a=/^(H[1-6R]|P|DIV|ADDRESS|PRE|FORM|T(ABLE|BODY|HEAD|FOOT|H|R|D)|LI|OL|UL|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|MENU|ISINDEX|SAMP)$/,e=g("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=g("src,href,style,coords,shape"),c={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},o=/[<>&\"]/g,b=/^([a-z0-9],?)+$/i,h=/<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)(\s*\/?)>/g,m=/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;function g(r){var q={},p;r=r.split(",");for(p=r.length;p>=0;p--){q[r[p]]=1}return q}n.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(v,r){var q=this,p;q.doc=v;q.win=window;q.files={};q.cssFlicker=false;q.counter=0;q.boxModel=!n.isIE||v.compatMode=="CSS1Compat";q.stdMode=v.documentMode===8;q.settings=r=n.extend({keep_values:false,hex_colors:1,process_html:1},r);if(n.isIE6){try{v.execCommand("BackgroundImageCache",false,true)}catch(u){q.cssFlicker=true}}if(r.valid_styles){q._styles={};l(r.valid_styles,function(t,s){q._styles[s]=n.explode(t)})}n.addUnload(q.destroy,q)},getRoot:function(){var p=this,q=p.settings;return(q&&p.get(q.root_element))||p.doc.body},getViewPort:function(q){var r,p;q=!q?this.win:q;r=q.document;p=this.boxModel?r.documentElement:r.body;return{x:q.pageXOffset||p.scrollLeft,y:q.pageYOffset||p.scrollTop,w:q.innerWidth||p.clientWidth,h:q.innerHeight||p.clientHeight}},getRect:function(u){var s,q=this,r;u=q.get(u);s=q.getPos(u);r=q.getSize(u);return{x:s.x,y:s.y,w:r.w,h:r.h}},getSize:function(s){var q=this,p,r;s=q.get(s);p=q.getStyle(s,"width");r=q.getStyle(s,"height");if(p.indexOf("px")===-1){p=0}if(r.indexOf("px")===-1){r=0}return{w:parseInt(p)||s.offsetWidth||s.clientWidth,h:parseInt(r)||s.offsetHeight||s.clientHeight}},getParent:function(s,q,p){return this.getParents(s,q,p,false)},getParents:function(B,v,s,A){var q=this,p,u=q.settings,z=[];B=q.get(B);A=A===undefined;if(u.strict_root){s=s||q.getRoot()}if(k(v,"string")){p=v;if(v==="*"){v=function(r){return r.nodeType==1}}else{v=function(r){return q.is(r,p)}}}while(B){if(B==s||!B.nodeType||B.nodeType===9){break}if(!v||v(B)){if(A){z.push(B)}else{return B}}B=B.parentNode}return A?z:null},get:function(p){var q;if(p&&this.doc&&typeof(p)=="string"){q=p;p=this.doc.getElementById(p);if(p&&p.id!==q){return this.doc.getElementsByName(q)[1]}}return p},getNext:function(q,p){return this._findSib(q,p,"nextSibling")},getPrev:function(q,p){return this._findSib(q,p,"previousSibling")},add:function(u,z,q,s,v){var r=this;return this.run(u,function(B){var A,t;A=k(z,"string")?r.doc.createElement(z):z;r.setAttribs(A,q);if(s){if(s.nodeType){A.appendChild(s)}else{r.setHTML(A,s)}}return !v?B.appendChild(A):A})},create:function(r,p,q){return this.add(this.doc.createElement(r),r,p,q,1)},createHTML:function(v,p,s){var u="",r=this,q;u+="<"+v;for(q in p){if(p.hasOwnProperty(q)){u+=" "+q+'="'+r.encode(p[q])+'"'}}if(n.is(s)){return u+">"+s+"</"+v+">"}return u+" />"},remove:function(p,q){return this.run(p,function(s){var r,t;r=s.parentNode;if(!r){return null}if(q){while(t=s.firstChild){if(!n.isIE||t.nodeType!==3||t.nodeValue){r.insertBefore(t,s)}else{s.removeChild(t)}}}return r.removeChild(s)})},setStyle:function(s,p,q){var r=this;return r.run(s,function(v){var u,t;u=v.style;p=p.replace(/-(\D)/g,function(A,z){return z.toUpperCase()});if(r.pixelStyles.test(p)&&(n.is(q,"number")||/^[\-0-9\.]+$/.test(q))){q+="px"}switch(p){case"opacity":if(d){u.filter=q===""?"":"alpha(opacity="+(q*100)+")";if(!s.currentStyle||!s.currentStyle.hasLayout){u.display="inline-block"}}u[p]=u["-moz-opacity"]=u["-khtml-opacity"]=q||"";break;case"float":d?u.styleFloat=q:u.cssFloat=q;break;default:u[p]=q||""}if(r.settings.update_styles){r.setAttrib(v,"_mce_style")}})},getStyle:function(s,p,r){s=this.get(s);if(!s){return false}if(this.doc.defaultView&&r){p=p.replace(/[A-Z]/g,function(t){return"-"+t});try{return this.doc.defaultView.getComputedStyle(s,null).getPropertyValue(p)}catch(q){return null}}p=p.replace(/-(\D)/g,function(u,t){return t.toUpperCase()});if(p=="float"){p=d?"styleFloat":"cssFloat"}if(s.currentStyle&&r){return s.currentStyle[p]}return s.style[p]},setStyles:function(u,v){var q=this,r=q.settings,p;p=r.update_styles;r.update_styles=0;l(v,function(s,t){q.setStyle(u,t,s)});r.update_styles=p;if(r.update_styles){q.setAttrib(u,r.cssText)}},setAttrib:function(r,s,p){var q=this;if(!r||!s){return}if(q.settings.strict){s=s.toLowerCase()}return this.run(r,function(u){var t=q.settings;switch(s){case"style":if(!k(p,"string")){l(p,function(z,A){q.setStyle(u,A,z)});return}if(t.keep_values){if(p&&!q._isRes(p)){u.setAttribute("_mce_style",p,2)}else{u.removeAttribute("_mce_style",2)}}u.style.cssText=p;break;case"class":u.className=p||"";break;case"src":case"href":if(t.keep_values){if(t.url_converter){p=t.url_converter.call(t.url_converter_scope||q,p,s,u)}q.setAttrib(u,"_mce_"+s,p,2)}break;case"shape":u.setAttribute("_mce_style",p);break}if(k(p)&&p!==null&&p.length!==0){u.setAttribute(s,""+p,2)}else{u.removeAttribute(s,2)}})},setAttribs:function(q,r){var p=this;return this.run(q,function(s){l(r,function(t,u){p.setAttrib(s,u,t)})})},getAttrib:function(s,u,r){var p,q=this;s=q.get(s);if(!s||s.nodeType!==1){return false}if(!k(r)){r=""}if(/^(src|href|style|coords|shape)$/.test(u)){p=s.getAttribute("_mce_"+u);if(p){return p}}if(d&&q.props[u]){p=s[q.props[u]];p=p&&p.nodeValue?p.nodeValue:p}if(!p){p=s.getAttribute(u,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(u)){if(s[q.props[u]]===true&&p===""){return u}return p?u:""}if(s.nodeName==="FORM"&&s.getAttributeNode(u)){return s.getAttributeNode(u).nodeValue}if(u==="style"){p=p||s.style.cssText;if(p){p=q.serializeStyle(q.parseStyle(p),s.nodeName);if(q.settings.keep_values&&!q._isRes(p)){s.setAttribute("_mce_style",p)}}}if(j&&u==="class"&&p){p=p.replace(/(apple|webkit)\-[a-z\-]+/gi,"")}if(d){switch(u){case"rowspan":case"colspan":if(p===1){p=""}break;case"size":if(p==="+0"||p===20||p===0){p=""}break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":if(p===0){p=""}break;case"hspace":if(p===-1){p=""}break;case"maxlength":case"tabindex":if(p===32768||p===2147483647||p==="32768"){p=""}break;case"multiple":case"compact":case"noshade":case"nowrap":if(p===65535){return u}return r;case"shape":p=p.toLowerCase();break;default:if(u.indexOf("on")===0&&p){p=(""+p).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1")}}}return(p!==undefined&&p!==null&&p!=="")?""+p:r},getPos:function(B,u){var q=this,p=0,A=0,v,z=q.doc,s;B=q.get(B);u=u||z.body;if(B){if(d&&!q.stdMode){B=B.getBoundingClientRect();v=q.boxModel?z.documentElement:z.body;p=q.getStyle(q.select("html")[0],"borderWidth");p=(p=="medium"||q.boxModel&&!q.isIE6)&&2||p;return{x:B.left+v.scrollLeft-p,y:B.top+v.scrollTop-p}}s=B;while(s&&s!=u&&s.nodeType){p+=s.offsetLeft||0;A+=s.offsetTop||0;s=s.offsetParent}s=B.parentNode;while(s&&s!=u&&s.nodeType){p-=s.scrollLeft||0;A-=s.scrollTop||0;s=s.parentNode}}return{x:p,y:A}},parseStyle:function(r){var u=this,v=u.settings,z={};if(!r){return z}function p(G,D,F){var C,E,A,B;C=z[G+"-top"+D];if(!C){return}E=z[G+"-right"+D];if(C!=E){return}A=z[G+"-bottom"+D];if(E!=A){return}B=z[G+"-left"+D];if(A!=B){return}z[F]=B;delete z[G+"-top"+D];delete z[G+"-right"+D];delete z[G+"-bottom"+D];delete z[G+"-left"+D]}function q(B,A,s,D){var C;C=z[A];if(!C){return}C=z[s];if(!C){return}C=z[D];if(!C){return}z[B]=z[A]+" "+z[s]+" "+z[D];delete z[A];delete z[s];delete z[D]}r=r.replace(/&(#?[a-z0-9]+);/g,"&$1_MCE_SEMI_");l(r.split(";"),function(t){var s,A=[];if(t){t=t.replace(/_MCE_SEMI_/g,";");t=t.replace(/url\([^\)]+\)/g,function(B){A.push(B);return"url("+A.length+")"});t=t.split(":");s=n.trim(t[1]);s=s.replace(/url\(([^\)]+)\)/g,function(C,B){return A[parseInt(B)-1]});s=s.replace(/rgb\([^\)]+\)/g,function(B){return u.toHex(B)});if(v.url_converter){s=s.replace(/url\([\'\"]?([^\)\'\"]+)[\'\"]?\)/g,function(B,C){return"url("+v.url_converter.call(v.url_converter_scope||u,u.decode(C),"style",null)+")"})}z[n.trim(t[0]).toLowerCase()]=s}});p("border","","border");p("border","-width","border-width");p("border","-color","border-color");p("border","-style","border-style");p("padding","","padding");p("margin","","margin");q("border","border-width","border-style","border-color");if(d){if(z.border=="medium none"){z.border=""}}return z},serializeStyle:function(v,p){var q=this,r="";function u(t,s){if(s&&t){if(s.indexOf("-")===0){return}switch(s){case"font-weight":if(t==700){t="bold"}break;case"color":case"background-color":t=t.toLowerCase();break}r+=(r?" ":"")+s+": "+t+";"}}if(p&&q._styles){l(q._styles["*"],function(s){u(v[s],s)});l(q._styles[p.toLowerCase()],function(s){u(v[s],s)})}else{l(v,u)}return r},loadCSS:function(p){var r=this,s=r.doc,q;if(!p){p=""}q=r.select("head")[0];l(p.split(","),function(t){var v;if(r.files[t]){return}r.files[t]=true;v=r.create("link",{rel:"stylesheet",href:n._addVer(t)});if(d&&s.documentMode){v.onload=function(){s.recalc();v.onload=null}}q.appendChild(v)})},addClass:function(p,q){return this.run(p,function(r){var s;if(!q){return 0}if(this.hasClass(r,q)){return r.className}s=this.removeClass(r,q);return r.className=(s!=""?(s+" "):"")+q})},removeClass:function(r,s){var p=this,q;return p.run(r,function(u){var t;if(p.hasClass(u,s)){if(!q){q=new RegExp("(^|\\s+)"+s+"(\\s+|$)","g")}t=u.className.replace(q," ");t=n.trim(t!=" "?t:"");u.className=t;if(!t){u.removeAttribute("class");u.removeAttribute("className")}return t}return u.className})},hasClass:function(q,p){q=this.get(q);if(!q||!p){return false}return(" "+q.className+" ").indexOf(" "+p+" ")!==-1},show:function(p){return this.setStyle(p,"display","block")},hide:function(p){return this.setStyle(p,"display","none")},isHidden:function(p){p=this.get(p);return !p||p.style.display=="none"||this.getStyle(p,"display")=="none"},uniqueId:function(q){return(!q?"mce_":q)+(this.counter++)},setHTML:function(r,q){var p=this;return this.run(r,function(z){var s,u,t,B,v,s;q=p.processHTML(q);if(d){function A(){while(z.firstChild){z.firstChild.removeNode()}try{z.innerHTML="<br />"+q;z.removeChild(z.firstChild)}catch(C){s=p.create("div");s.innerHTML="<br />"+q;l(s.childNodes,function(E,D){if(D){z.appendChild(E)}})}}if(p.settings.fix_ie_paragraphs){q=q.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _mce_keep="true">&nbsp;</p>')}A();if(p.settings.fix_ie_paragraphs){t=z.getElementsByTagName("p");for(u=t.length-1,s=0;u>=0;u--){B=t[u];if(!B.hasChildNodes()){if(!B._mce_keep){s=1;break}B.removeAttribute("_mce_keep")}}}if(s){q=q.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _mce_tmp="1">');q=q.replace(/<\/p>/gi,"</div>");A();if(p.settings.fix_ie_paragraphs){t=z.getElementsByTagName("DIV");for(u=t.length-1;u>=0;u--){B=t[u];if(B._mce_tmp){v=p.doc.createElement("p");B.cloneNode(false).outerHTML.replace(/([a-z0-9\-_]+)=/gi,function(D,C){var E;if(C!=="_mce_tmp"){E=B.getAttribute(C);if(!E&&C==="class"){E=B.className}v.setAttribute(C,E)}});for(s=0;s<B.childNodes.length;s++){v.appendChild(B.childNodes[s].cloneNode(true))}B.swapNode(v)}}}}}else{z.innerHTML=q}return q})},processHTML:function(u){var q=this,r=q.settings,z=[];if(!r.process_html){return u}if(d){u=u.replace(/&apos;/g,"&#39;");u=u.replace(/\s+(disabled|checked|readonly|selected)\s*=\s*[\"\']?(false|0)[\"\']?/gi,"")}u=u.replace(/<a( )([^>]+)\/>|<a\/>/gi,"<a$1$2></a>");if(r.keep_values){if(/<script|noscript|style/i.test(u)){function p(t){t=t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n");t=t.replace(/^[\r\n]*|[\r\n]*$/g,"");t=t.replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,"");t=t.replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,"");return t}u=u.replace(/<script([^>]+|)>([\s\S]*?)<\/script>/gi,function(s,A,t){if(!A){A=' type="text/javascript"'}A=A.replace(/src=\"([^\"]+)\"?/i,function(B,C){if(r.url_converter){C=q.encode(r.url_converter.call(r.url_converter_scope||q,q.decode(C),"src","script"))}return'_mce_src="'+C+'"'});if(n.trim(t)){z.push(p(t));t="<!--\nMCE_SCRIPT:"+(z.length-1)+"\n// -->"}return"<mce:script"+A+">"+t+"</mce:script>"});u=u.replace(/<style([^>]+|)>([\s\S]*?)<\/style>/gi,function(s,A,t){if(t){z.push(p(t));t="<!--\nMCE_SCRIPT:"+(z.length-1)+"\n-->"}return"<mce:style"+A+">"+t+"</mce:style><style "+A+' _mce_bogus="1">'+t+"</style>"});u=u.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(s,A,t){return"<mce:noscript"+A+"><!--"+q.encode(t).replace(/--/g,"&#45;&#45;")+"--></mce:noscript>"})}u=u.replace(/<!\[CDATA\[([\s\S]+)\]\]>/g,"<!--[CDATA[$1]]-->");function v(s){return s.replace(h,function(B,C,A,t){return"<"+C+A.replace(m,function(E,D,H,G,F){var I;D=D.toLowerCase();H=H||G||F||"";if(e[D]){if(H==="false"||H==="0"){return}return D+'="'+D+'"'}if(f[D]&&A.indexOf("_mce_"+D)==-1){I=q.decode(H);if(r.url_converter&&(D=="src"||D=="href")){I=r.url_converter.call(r.url_converter_scope||q,I,D,C)}if(D=="style"){I=q.serializeStyle(q.parseStyle(I),D)}return D+'="'+H+'" _mce_'+D+'="'+q.encode(I)+'"'}return E})+t+">"})}u=v(u);u=u.replace(/MCE_SCRIPT:([0-9]+)/g,function(t,s){return z[s]})}return u},getOuterHTML:function(p){var q;p=this.get(p);if(!p){return null}if(p.outerHTML!==undefined){return p.outerHTML}q=(p.ownerDocument||this.doc).createElement("body");q.appendChild(p.cloneNode(true));return q.innerHTML},setOuterHTML:function(s,q,u){var p=this;function r(v,t,A){var B,z;z=A.createElement("body");z.innerHTML=t;B=z.lastChild;while(B){p.insertAfter(B.cloneNode(true),v);B=B.previousSibling}p.remove(v)}return this.run(s,function(v){v=p.get(v);if(v.nodeType==1){u=u||v.ownerDocument||p.doc;if(d){try{if(d&&v.nodeType==1){v.outerHTML=q}else{r(v,q,u)}}catch(t){r(v,q,u)}}else{r(v,q,u)}}})},decode:function(q){var r,t,p;if(/&[\w#]+;/.test(q)){r=this.doc.createElement("div");r.innerHTML=q;t=r.firstChild;p="";if(t){do{p+=t.nodeValue}while(t=t.nextSibling)}return p||q}return q},encode:function(p){return(""+p).replace(o,function(q){return c[q]})},insertAfter:function(p,q){q=this.get(q);return this.run(p,function(s){var r,t;r=q.parentNode;t=q.nextSibling;if(t){r.insertBefore(s,t)}else{r.appendChild(s)}return s})},isBlock:function(p){if(p.nodeType&&p.nodeType!==1){return false}p=p.nodeName||p;return a.test(p)},replace:function(s,r,p){var q=this;if(k(r,"array")){s=s.cloneNode(true)}return q.run(r,function(t){if(p){l(n.grep(t.childNodes),function(u){s.appendChild(u)})}return t.parentNode.replaceChild(s,t)})},rename:function(s,p){var r=this,q;if(s.nodeName!=p.toUpperCase()){q=r.create(p);l(r.getAttribs(s),function(t){r.setAttrib(q,t.nodeName,r.getAttrib(s,t.nodeName))});r.replace(q,s,1)}return q||s},findCommonAncestor:function(r,p){var s=r,q;while(s){q=p;while(q&&s!=q){q=q.parentNode}if(s==q){break}s=s.parentNode}if(!s&&r.ownerDocument){return r.ownerDocument.documentElement}return s},toHex:function(p){var r=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(p);function q(t){t=parseInt(t).toString(16);return t.length>1?t:"0"+t}if(r){p="#"+q(r[1])+q(r[2])+q(r[3]);return p}return p},getClasses:function(){var u=this,p=[],s,v={},z=u.settings.class_filter,r;if(u.classes){return u.classes}function A(t){l(t.imports,function(B){A(B)});l(t.cssRules||t.rules,function(B){switch(B.type||1){case 1:if(B.selectorText){l(B.selectorText.split(","),function(C){C=C.replace(/^\s*|\s*$|^\s\./g,"");if(/\.mce/.test(C)||!/\.[\w\-]+$/.test(C)){return}r=C;C=C.replace(/.*\.([a-z0-9_\-]+).*/i,"$1");if(z&&!(C=z(C,r))){return}if(!v[C]){p.push({"class":C});v[C]=1}})}break;case 3:A(B.styleSheet);break}})}try{l(u.doc.styleSheets,A)}catch(q){}if(p.length>0){u.classes=p}return p},run:function(u,r,q){var p=this,v;if(p.doc&&typeof(u)==="string"){u=p.get(u)}if(!u){return false}q=q||this;if(!u.nodeType&&(u.length||u.length===0)){v=[];l(u,function(t,s){if(t){if(typeof(t)=="string"){t=p.doc.getElementById(t)}v.push(r.call(q,t,s))}});return v}return r.call(q,u)},getAttribs:function(q){var p;q=this.get(q);if(!q){return[]}if(d){p=[];if(q.nodeName=="OBJECT"){return q.attributes}if(q.nodeName==="OPTION"&&this.getAttrib(q,"selected")){p.push({specified:1,nodeName:"selected"})}q.cloneNode(false).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(r){p.push({specified:1,nodeName:r})});return p}return q.attributes},destroy:function(q){var p=this;if(p.events){p.events.destroy()}p.win=p.doc=p.root=p.events=null;if(!q){n.removeUnload(p.destroy)}},createRng:function(){var p=this.doc;return p.createRange?p.createRange():new n.dom.Range(this)},nodeIndex:function(t,u){var p=0,r,s,q;if(t){for(r=t.nodeType,t=t.previousSibling,s=t;t;t=t.previousSibling){q=t.nodeType;if(u&&q==3){if(q==r||!t.nodeValue.length){continue}}p++;r=q}}return p},split:function(v,u,B){var C=this,p=C.createRng(),z,s,A;function q(D){var t,r=D.childNodes;if(D.nodeType==1&&D.getAttribute("_mce_type")=="bookmark"){return}for(t=r.length-1;t>=0;t--){q(r[t])}if(D.nodeType!=9){if(D.nodeType==3&&D.nodeValue.length>0){return}if(D.nodeType==1){r=D.childNodes;if(r.length==1&&r[0]&&r[0].nodeType==1&&r[0].getAttribute("_mce_type")=="bookmark"){D.parentNode.insertBefore(r[0],D)}if(r.length||/^(br|hr|input|img)$/i.test(D.nodeName)){return}}C.remove(D)}return D}if(v&&u){p.setStart(v.parentNode,C.nodeIndex(v));p.setEnd(u.parentNode,C.nodeIndex(u));z=p.extractContents();p=C.createRng();p.setStart(u.parentNode,C.nodeIndex(u)+1);p.setEnd(v.parentNode,C.nodeIndex(v)+1);s=p.extractContents();A=v.parentNode;A.insertBefore(q(z),v);if(B){A.replaceChild(B,u)}else{A.insertBefore(u,v)}A.insertBefore(q(s),v);C.remove(v);return B||u}},bind:function(u,p,s,r){var q=this;if(!q.events){q.events=new n.dom.EventUtils()}return q.events.add(u,p,s,r||this)},unbind:function(s,p,r){var q=this;if(!q.events){q.events=new n.dom.EventUtils()}return q.events.remove(s,p,r)},_findSib:function(s,p,q){var r=this,u=p;if(s){if(k(u,"string")){u=function(t){return r.is(t,p)}}for(s=s[q];s;s=s[q]){if(u(s)){return s}}}return null},_isRes:function(p){return/^(top|left|bottom|right|width|height)/i.test(p)||/;\s*(top|left|bottom|right|width|height)/i.test(p)}});n.DOM=new n.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(c){var Q=this,e=c.doc,V=0,H=1,k=2,G=true,U=false,X="startOffset",h="startContainer",S="endContainer",C="endOffset",l=tinymce.extend,o=c.nodeIndex;l(Q,{startContainer:e,startOffset:0,endContainer:e,endOffset:0,collapsed:G,commonAncestorContainer:e,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:u,setStartBefore:g,setStartAfter:L,setEndBefore:M,setEndAfter:v,collapse:D,selectNode:A,selectNodeContents:I,compareBoundaryPoints:z,deleteContents:q,extractContents:K,cloneContents:d,insertNode:F,surroundContents:P,cloneRange:N});function r(Y,t){E(G,Y,t)}function u(Y,t){E(U,Y,t)}function g(t){r(t.parentNode,o(t))}function L(t){r(t.parentNode,o(t)+1)}function M(t){u(t.parentNode,o(t))}function v(t){u(t.parentNode,o(t)+1)}function D(t){if(t){Q[S]=Q[h];Q[C]=Q[X]}else{Q[h]=Q[S];Q[X]=Q[C]}Q.collapsed=G}function A(t){g(t);v(t)}function I(t){r(t,0);u(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function z(Z,aa){var ac=Q[h],ab=Q[X],Y=Q[S],t=Q[C];if(Z===0){return J(ac,ab,ac,ab)}if(Z===1){return J(ac,ab,Y,t)}if(Z===2){return J(Y,t,Y,t)}if(Z===3){return J(Y,t,ac,ab)}}function q(){n(k)}function K(){return n(V)}function d(){return n(H)}function F(ab){var Y=this[h],t=this[X],aa,Z;if((Y.nodeType===3||Y.nodeType===4)&&Y.nodeValue){if(!t){Y.parentNode.insertBefore(ab,Y)}else{if(t>=Y.nodeValue.length){c.insertAfter(ab,Y)}else{aa=Y.splitText(t);Y.parentNode.insertBefore(ab,aa)}}}else{if(Y.childNodes.length>0){Z=Y.childNodes[t]}if(Z){Y.insertBefore(ab,Z)}else{Y.appendChild(ab)}}}function P(Y){var t=Q.extractContents();Q.insertNode(Y);Y.appendChild(t);Q.selectNode(Y)}function N(){return l(new b(c),{startContainer:Q[h],startOffset:Q[X],endContainer:Q[S],endOffset:Q[C],collapsed:Q.collapsed,commonAncestorContainer:Q.commonAncestorContainer})}function R(t,Y){var Z;if(t.nodeType==3){return t}if(Y<0){return t}Z=t.firstChild;while(Z&&Y>0){--Y;Z=Z.nextSibling}if(Z){return Z}return t}function m(){return(Q[h]==Q[S]&&Q[X]==Q[C])}function J(aa,ac,Y,ab){var ad,Z,t,ae,ag,af;if(aa==Y){if(ac==ab){return 0}if(ac<ab){return -1}return 1}ad=Y;while(ad&&ad.parentNode!=aa){ad=ad.parentNode}if(ad){Z=0;t=aa.firstChild;while(t!=ad&&Z<ac){Z++;t=t.nextSibling}if(ac<=Z){return -1}return 1}ad=aa;while(ad&&ad.parentNode!=Y){ad=ad.parentNode}if(ad){Z=0;t=Y.firstChild;while(t!=ad&&Z<ab){Z++;t=t.nextSibling}if(Z<ab){return -1}return 1}ae=c.findCommonAncestor(aa,Y);ag=aa;while(ag&&ag.parentNode!=ae){ag=ag.parentNode}if(!ag){ag=ae}af=Y;while(af&&af.parentNode!=ae){af=af.parentNode}if(!af){af=ae}if(ag==af){return 0}t=ae.firstChild;while(t){if(t==ag){return -1}if(t==af){return 1}t=t.nextSibling}}function E(Y,ab,aa){var t,Z;if(Y){Q[h]=ab;Q[X]=aa}else{Q[S]=ab;Q[C]=aa}t=Q[S];while(t.parentNode){t=t.parentNode}Z=Q[h];while(Z.parentNode){Z=Z.parentNode}if(Z==t){if(J(Q[h],Q[X],Q[S],Q[C])>0){Q.collapse(Y)}}else{Q.collapse(Y)}Q.collapsed=m();Q.commonAncestorContainer=c.findCommonAncestor(Q[h],Q[S])}function n(ae){var ad,aa=0,ag=0,Y,ac,Z,ab,t,af;if(Q[h]==Q[S]){return f(ae)}for(ad=Q[S],Y=ad.parentNode;Y;ad=Y,Y=Y.parentNode){if(Y==Q[h]){return s(ad,ae)}++aa}for(ad=Q[h],Y=ad.parentNode;Y;ad=Y,Y=Y.parentNode){if(Y==Q[S]){return W(ad,ae)}++ag}ac=ag-aa;Z=Q[h];while(ac>0){Z=Z.parentNode;ac--}ab=Q[S];while(ac<0){ab=ab.parentNode;ac++}for(t=Z.parentNode,af=ab.parentNode;t!=af;t=t.parentNode,af=af.parentNode){Z=t;ab=af}return p(Z,ab,ae)}function f(ac){var ae,ab,aa,ad,t,Z,Y;if(ac!=k){ae=e.createDocumentFragment()}if(Q[X]==Q[C]){return ae}if(Q[h].nodeType==3){ab=Q[h].nodeValue;aa=ab.substring(Q[X],Q[C]);if(ac!=H){Q[h].deleteData(Q[X],Q[C]-Q[X]);Q.collapse(G)}if(ac==k){return}ae.appendChild(e.createTextNode(aa));return ae}ad=R(Q[h],Q[X]);t=Q[C]-Q[X];while(t>0){Z=ad.nextSibling;Y=B(ad,ac);if(ae){ae.appendChild(Y)}--t;ad=Z}if(ac!=H){Q.collapse(G)}return ae}function s(ae,ab){var ad,ac,Y,t,aa,Z;if(ab!=k){ad=e.createDocumentFragment()}ac=j(ae,ab);if(ad){ad.appendChild(ac)}Y=o(ae);t=Y-Q[X];if(t<=0){if(ab!=H){Q.setEndBefore(ae);Q.collapse(U)}return ad}ac=ae.previousSibling;while(t>0){aa=ac.previousSibling;Z=B(ac,ab);if(ad){ad.insertBefore(Z,ad.firstChild)}--t;ac=aa}if(ab!=H){Q.setEndBefore(ae);Q.collapse(U)}return ad}function W(ac,ab){var ae,Y,ad,t,aa,Z;if(ab!=k){ae=e.createDocumentFragment()}ad=T(ac,ab);if(ae){ae.appendChild(ad)}Y=o(ac);++Y;t=Q[C]-Y;ad=ac.nextSibling;while(t>0){aa=ad.nextSibling;Z=B(ad,ab);if(ae){ae.appendChild(Z)}--t;ad=aa}if(ab!=H){Q.setStartAfter(ac);Q.collapse(G)}return ae}function p(ac,t,af){var Z,ah,ab,ad,ae,Y,ag,aa;if(af!=k){ah=e.createDocumentFragment()}Z=T(ac,af);if(ah){ah.appendChild(Z)}ab=ac.parentNode;ad=o(ac);ae=o(t);++ad;Y=ae-ad;ag=ac.nextSibling;while(Y>0){aa=ag.nextSibling;Z=B(ag,af);if(ah){ah.appendChild(Z)}ag=aa;--Y}Z=j(t,af);if(ah){ah.appendChild(Z)}if(af!=H){Q.setStartAfter(ac);Q.collapse(G)}return ah}function j(ad,ae){var Z=R(Q[S],Q[C]-1),af,ac,ab,t,Y,aa=Z!=Q[S];if(Z==ad){return O(Z,aa,U,ae)}af=Z.parentNode;ac=O(af,U,U,ae);while(af){while(Z){ab=Z.previousSibling;t=O(Z,aa,U,ae);if(ae!=k){ac.insertBefore(t,ac.firstChild)}aa=G;Z=ab}if(af==ad){return ac}Z=af.previousSibling;af=af.parentNode;Y=O(af,U,U,ae);if(ae!=k){Y.appendChild(ac)}ac=Y}}function T(ad,ae){var aa=R(Q[h],Q[X]),ab=aa!=Q[h],af,ac,Z,t,Y;if(aa==ad){return O(aa,ab,G,ae)}af=aa.parentNode;ac=O(af,U,G,ae);while(af){while(aa){Z=aa.nextSibling;t=O(aa,ab,G,ae);if(ae!=k){ac.appendChild(t)}ab=G;aa=Z}if(af==ad){return ac}aa=af.nextSibling;af=af.parentNode;Y=O(af,U,G,ae);if(ae!=k){Y.appendChild(ac)}ac=Y}}function O(t,ab,ae,af){var aa,Z,ac,Y,ad;if(ab){return B(t,af)}if(t.nodeType==3){aa=t.nodeValue;if(ae){Y=Q[X];Z=aa.substring(Y);ac=aa.substring(0,Y)}else{Y=Q[C];Z=aa.substring(0,Y);ac=aa.substring(Y)}if(af!=H){t.nodeValue=ac}if(af==k){return}ad=t.cloneNode(U);ad.nodeValue=Z;return ad}if(af==k){return}return t.cloneNode(U)}function B(Y,t){if(t!=k){return t==H?Y.cloneNode(G):Y}Y.parentNode.removeChild(Y)}}a.Range=b})(tinymce.dom);(function(){function a(g){var j=this,k="\uFEFF",e,h,d=g.dom,c=true,f=false;function b(){var o=g.getRng(),l=d.createRng(),n,p;n=o.item?o.item(0):o.parentElement();if(n.ownerDocument!=d.doc){return l}if(o.item||!n.hasChildNodes()){l.setStart(n.parentNode,d.nodeIndex(n));l.setEnd(l.startContainer,l.startOffset+1);return l}p=g.isCollapsed();function m(t){var v,r,u,q,D=0,A,B,C,s,z;s=o.duplicate();s.collapse(t);v=d.create("a");C=s.parentElement();if(!C.hasChildNodes()){l[t?"setStart":"setEnd"](C,0);return}C.appendChild(v);s.moveToElementText(v);z=o.compareEndPoints(t?"StartToStart":"EndToEnd",s);if(z>0){l[t?"setStartAfter":"setEndAfter"](C);d.remove(v);return}q=tinymce.grep(C.childNodes);A=q.length-1;while(D<=A){B=Math.floor((D+A)/2);C.insertBefore(v,q[B]);s.moveToElementText(v);z=o.compareEndPoints(t?"StartToStart":"EndToEnd",s);if(z>0){D=B+1}else{if(z<0){A=B-1}else{found=true;break}}}r=z>0||B==0?v.nextSibling:v.previousSibling;if(r.nodeType==1){d.remove(v);u=d.nodeIndex(r);r=r.parentNode;if(!t||B>0){u++}}else{if(z>0||B==0){s.setEndPoint(t?"StartToStart":"EndToEnd",o);u=s.text.length}else{s.setEndPoint(t?"StartToStart":"EndToEnd",o);u=r.nodeValue.length-s.text.length}d.remove(v)}l[t?"setStart":"setEnd"](r,u)}m(true);if(!p){m()}return l}this.addRange=function(l){var q,o,n,s,v,t,u=g.dom.doc,p=u.body;function m(E){var A,D,z,C,B;z=d.create("a");A=E?n:v;D=E?s:t;C=q.duplicate();if(A==u){A=p;D=0}if(A.nodeType==3){A.parentNode.insertBefore(z,A);C.moveToElementText(z);C.moveStart("character",D);d.remove(z);q.setEndPoint(E?"StartToStart":"EndToEnd",C)}else{B=A.childNodes;if(B.length){if(D>=B.length){d.insertAfter(z,B[B.length-1])}else{A.insertBefore(z,B[D])}C.moveToElementText(z)}else{z=u.createTextNode(k);A.appendChild(z);C.moveToElementText(z.parentNode);C.collapse(c)}q.setEndPoint(E?"StartToStart":"EndToEnd",C);d.remove(z)}}this.destroy();n=l.startContainer;s=l.startOffset;v=l.endContainer;t=l.endOffset;q=p.createTextRange();if(n==v&&n.nodeType==1&&s==t-1){if(s==t-1){try{o=p.createControlRange();o.addElement(n.childNodes[s]);o.select();o.scrollIntoView();return}catch(r){}}}m(true);m();q.select();q.scrollIntoView()};this.getRangeAt=function(){if(!e||!tinymce.dom.RangeUtils.compareRanges(h,g.getRng())){e=b();h=g.getRng()}try{e.startContainer.nextSibling}catch(l){e=b();h=null}return e};this.destroy=function(){h=e=null};if(g.dom.boxModel){(function(){var r=d.doc,m=r.body,o,p;r.documentElement.unselectable=c;function q(s,v){var t=m.createTextRange();try{t.moveToPoint(s,v)}catch(u){t=null}return t}function n(t){var s;if(t.button){s=q(t.x,t.y);if(s){if(s.compareEndPoints("StartToStart",p)>0){s.setEndPoint("StartToStart",p)}else{s.setEndPoint("EndToEnd",p)}s.select()}}else{l()}}function l(){d.unbind(r,"mouseup",l);d.unbind(r,"mousemove",n);o=0}d.bind(r,"mousedown",function(s){if(s.target.nodeName==="HTML"){if(o){l()}o=1;p=q(s.x,s.y);if(p){d.bind(r,"mouseup",l);d.bind(r,"mousemove",n);p.select()}}})})()}}tinymce.dom.TridentSelection=a})();(function(d){var f=d.each,c=d.DOM,b=d.isIE,e=d.isWebKit,a;d.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function(p,q,m,k){var g,h=this,j=h.events,l;if(q instanceof Array){l=[];f(q,function(o){l.push(h.add(p,o,m,k))});return l}if(p&&p.hasOwnProperty&&p instanceof Array){l=[];f(p,function(n){n=c.get(n);l.push(h.add(n,q,m,k))});return l}p=c.get(p);if(!p){return}g=function(n){if(h.disabled){return}n=n||window.event;if(n&&b){if(!n.target){n.target=n.srcElement}d.extend(n,h._stoppers)}if(!k){return m(n)}return m.call(k,n)};if(q=="unload"){d.unloads.unshift({func:g});return g}if(q=="init"){if(h.domLoaded){g()}else{h.inits.push(g)}return g}j.push({obj:p,name:q,func:m,cfunc:g,scope:k});h._add(p,q,g);return m},remove:function(m,p,l){var h=this,g=h.events,j=false,k;if(m&&m.hasOwnProperty&&m instanceof Array){k=[];f(m,function(n){n=c.get(n);k.push(h.remove(n,p,l))});return k}m=c.get(m);f(g,function(o,n){if(o.obj==m&&o.name==p&&(!l||(o.func==l||o.cfunc==l))){g.splice(n,1);h._remove(m,p,o.cfunc);j=true;return false}});return j},clear:function(l){var j=this,g=j.events,h,k;if(l){l=c.get(l);for(h=g.length-1;h>=0;h--){k=g[h];if(k.obj===l){j._remove(k.obj,k.name,k.cfunc);k.obj=k.cfunc=null;g.splice(h,1)}}}},cancel:function(g){if(!g){return false}this.stop(g);return this.prevent(g)},stop:function(g){if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}return false},prevent:function(g){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}return false},destroy:function(){var g=this;f(g.events,function(j,h){g._remove(j.obj,j.name,j.cfunc);j.obj=j.cfunc=null});g.events=[];g=null},_add:function(h,j,g){if(h.attachEvent){h.attachEvent("on"+j,g)}else{if(h.addEventListener){h.addEventListener(j,g,false)}else{h["on"+j]=g}}},_remove:function(j,k,h){if(j){try{if(j.detachEvent){j.detachEvent("on"+k,h)}else{if(j.removeEventListener){j.removeEventListener(k,h,false)}else{j["on"+k]=null}}}catch(g){}}},_pageInit:function(h){var g=this;if(g.domLoaded){return}g.domLoaded=true;f(g.inits,function(j){j()});g.inits=[]},_wait:function(j){var g=this,h=j.document;if(j.tinyMCE_GZ&&tinyMCE_GZ.loaded){g.domLoaded=1;return}if(h.attachEvent){h.attachEvent("onreadystatechange",function(){if(h.readyState==="complete"){h.detachEvent("onreadystatechange",arguments.callee);g._pageInit(j)}});if(h.documentElement.doScroll&&j==j.top){(function(){if(g.domLoaded){return}try{h.documentElement.doScroll("left")}catch(k){setTimeout(arguments.callee,0);return}g._pageInit(j)})()}}else{if(h.addEventListener){g._add(j,"DOMContentLoaded",function(){g._pageInit(j)})}}g._add(j,"load",function(){g._pageInit(j)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});a=d.dom.Event=new d.dom.EventUtils();a._wait(window);d.addUnload(function(){a.destroy()})})(tinymce);(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each(("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get").split(/,/),function(g){b[g]=function(){var h=[f],j;for(j=0;j<arguments.length;j++){h.push(arguments[j])}h=e[g].apply(e,h);b.update(g);return h}});a.extend(b,{on:function(j,h,g){return a.dom.Event.add(b.id,j,h,g)},getXY:function(){return{x:parseInt(b.getStyle("left")),y:parseInt(b.getStyle("top"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle("width")||g.clientWidth),h:parseInt(b.getStyle("height")||g.clientHeight)}},moveTo:function(g,h){b.setStyles({left:g,top:h})},moveBy:function(g,j){var h=b.getXY();b.moveTo(h.x+g,h.y+j)},resizeTo:function(g,j){b.setStyles({width:g,height:j})},resizeBy:function(g,k){var j=b.getSize();b.resizeTo(j.w+g,j.h+k)},update:function(h){var g;if(a.isIE6&&d.blocker){h=h||"";if(h.indexOf("get")===0||h.indexOf("has")===0||h.indexOf("is")===0){return}if(h=="remove"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),"iframe",{id:b.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'});e.setStyle(g,"opacity",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle("left",1),top:b.getStyle("top",1),width:b.getStyle("width",1),height:b.getStyle("height",1),display:b.getStyle("display",1),zIndex:parseInt(b.getStyle("zIndex",1)||0)-1})}}})}})(tinymce);(function(c){function e(f){return f.replace(/[\n\r]+/g,"")}var b=c.is,a=c.isIE,d=c.each;c.create("tinymce.dom.Selection",{Selection:function(j,h,g){var f=this;f.dom=j;f.win=h;f.serializer=g;d(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(k){f[k]=new c.util.Dispatcher(f)});if(!f.win.getSelection){f.tridentSel=new c.dom.TridentSelection(f)}c.addUnload(f.destroy,f)},getContent:function(g){var f=this,h=f.getRng(),m=f.dom.create("body"),k=f.getSel(),j,l,o;g=g||{};j=l="";g.get=true;g.format=g.format||"html";f.onBeforeGetContent.dispatch(f,g);if(g.format=="text"){return f.isCollapsed()?"":(h.text||(k.toString?k.toString():""))}if(h.cloneContents){o=h.cloneContents();if(o){m.appendChild(o)}}else{if(b(h.item)||b(h.htmlText)){m.innerHTML=h.item?h.item(0).outerHTML:h.htmlText}else{m.innerHTML=h.toString()}}if(/^\s/.test(m.innerHTML)){j=" "}if(/\s+$/.test(m.innerHTML)){l=" "}g.getInner=true;g.content=f.isCollapsed()?"":j+f.serializer.serialize(m,g)+l;f.onGetContent.dispatch(f,g);return g.content},setContent:function(j,g){var f=this,k=f.getRng(),m,l=f.win.document;g=g||{format:"html"};g.set=true;j=g.content=f.dom.processHTML(j);f.onBeforeSetContent.dispatch(f,g);j=g.content;if(k.insertNode){j+='<span id="__caret">_</span>';if(k.startContainer==l&&k.endContainer==l){l.body.innerHTML=j}else{k.deleteContents();if(l.body.childNodes.length==0){l.body.innerHTML=j}else{k.insertNode(k.createContextualFragment(j))}}m=f.dom.get("__caret");k=l.createRange();k.setStartBefore(m);k.setEndBefore(m);f.setRng(k);f.dom.remove("__caret")}else{if(k.item){l.execCommand("Delete",false,null);k=f.getRng()}k.pasteHTML(j)}f.onSetContent.dispatch(f,g)},getStart:function(){var g=this.getRng(),h,f,k,j;if(g.duplicate||g.item){if(g.item){return g.item(0)}k=g.duplicate();k.collapse(1);h=k.parentElement();f=j=g.parentElement();while(j=j.parentNode){if(j==h){h=f;break}}if(h&&h.nodeName=="BODY"){return h.firstChild||h}return h}else{h=g.startContainer;if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[Math.min(h.childNodes.length-1,g.startOffset)]}if(h&&h.nodeType==3){return h.parentNode}return h}},getEnd:function(){var g=this,h=g.getRng(),j,f;if(h.duplicate||h.item){if(h.item){return h.item(0)}h=h.duplicate();h.collapse(0);j=h.parentElement();if(j&&j.nodeName=="BODY"){return j.lastChild||j}return j}else{j=h.endContainer;f=h.endOffset;if(j.nodeType==1&&j.hasChildNodes()){j=j.childNodes[f>0?f-1:f]}if(j&&j.nodeType==3){return j.parentNode}return j}},getBookmark:function(r,s){var v=this,n=v.dom,g,k,j,o,h,p,q,m="\uFEFF",u;function f(z,A){var t=0;d(n.select(z),function(C,B){if(C==A){t=B}});return t}if(r==2){function l(){var z=v.getRng(true),t=n.getRoot(),A={};function B(E,J){var D=E[J?"startContainer":"endContainer"],I=E[J?"startOffset":"endOffset"],C=[],F,H,G=0;if(D.nodeType==3){if(s){for(F=D.previousSibling;F&&F.nodeType==3;F=F.previousSibling){I+=F.nodeValue.length}}C.push(I)}else{H=D.childNodes;if(I>=H.length&&H.length){G=1;I=Math.max(0,H.length-1)}C.push(v.dom.nodeIndex(H[I],s)+G)}for(;D&&D!=t;D=D.parentNode){C.push(v.dom.nodeIndex(D,s))}return C}A.start=B(z,true);if(!v.isCollapsed()){A.end=B(z)}return A}return l()}if(r){return{rng:v.getRng()}}g=v.getRng();j=n.uniqueId();o=tinyMCE.activeEditor.selection.isCollapsed();u="overflow:hidden;line-height:0px";if(g.duplicate||g.item){if(!g.item){k=g.duplicate();g.collapse();g.pasteHTML('<span _mce_type="bookmark" id="'+j+'_start" style="'+u+'">'+m+"</span>");if(!o){k.collapse(false);k.pasteHTML('<span _mce_type="bookmark" id="'+j+'_end" style="'+u+'">'+m+"</span>")}}else{p=g.item(0);h=p.nodeName;return{name:h,index:f(h,p)}}}else{p=v.getNode();h=p.nodeName;if(h=="IMG"){return{name:h,index:f(h,p)}}k=g.cloneRange();if(!o){k.collapse(false);k.insertNode(n.create("span",{_mce_type:"bookmark",id:j+"_end",style:u},m))}g.collapse(true);g.insertNode(n.create("span",{_mce_type:"bookmark",id:j+"_start",style:u},m))}v.moveToBookmark({id:j,keep:1});return{id:j}},moveToBookmark:function(o){var s=this,m=s.dom,j,h,f,r,k,u,p,q;if(s.tridentSel){s.tridentSel.destroy()}if(o){if(o.start){f=m.createRng();r=m.getRoot();function g(C){var t=o[C?"start":"end"],z,A,B,v;if(t){for(A=r,z=t.length-1;z>=1;z--){v=A.childNodes;if(v.length){A=v[t[z]]}}if(C){f.setStart(A,t[0])}else{f.setEnd(A,t[0])}}}g(true);g();s.setRng(f)}else{if(o.id){function l(D){var v=m.get(o.id+"_"+D),C,t,A,B,z=o.keep;if(v){C=v.parentNode;if(D=="start"){if(!z){t=m.nodeIndex(v)}else{C=v.firstChild;t=1}k=u=C;p=q=t}else{if(!z){t=m.nodeIndex(v)}else{C=v.firstChild;t=1}u=C;q=t}if(!z){B=v.previousSibling;A=v.nextSibling;d(c.grep(v.childNodes),function(E){if(E.nodeType==3){E.nodeValue=E.nodeValue.replace(/\uFEFF/g,"")}});while(v=m.get(o.id+"_"+D)){m.remove(v,1)}if(B&&A&&B.nodeType==A.nodeType&&B.nodeType==3){t=B.nodeValue.length;B.appendData(A.nodeValue);m.remove(A);if(D=="start"){k=u=B;p=q=t}else{u=B;q=t}}}}}function n(t){if(!a&&m.isBlock(t)&&!t.innerHTML){t.innerHTML='<br _mce_bogus="1" />'}return t}l("start");l("end");f=m.createRng();f.setStart(n(k),p);f.setEnd(n(u),q);s.setRng(f)}else{if(o.name){s.select(m.select(o.name)[o.index])}else{if(o.rng){s.setRng(o.rng)}}}}}},select:function(l,k){var j=this,m=j.dom,g=m.createRng(),f;f=m.nodeIndex(l);g.setStart(l.parentNode,f);g.setEnd(l.parentNode,f+1);if(k){function h(n,p){var o=new c.dom.TreeWalker(n,n);do{if(n.nodeType==3&&c.trim(n.nodeValue).length!=0){if(p){g.setStart(n,0)}else{g.setEnd(n,n.nodeValue.length)}return}if(n.nodeName=="BR"){if(p){g.setStartBefore(n)}else{g.setEndBefore(n)}return}}while(n=(p?o.next():o.prev()))}h(l,1);h(l)}j.setRng(g);return l},isCollapsed:function(){var f=this,h=f.getRng(),g=f.getSel();if(!h||h.item){return false}if(h.compareEndPoints){return h.compareEndPoints("StartToEnd",h)===0}return !g||h.collapsed},collapse:function(f){var g=this,h=g.getRng(),j;if(h.item){j=h.item(0);h=this.win.document.body.createTextRange();h.moveToElementText(j)}h.collapse(!!f);g.setRng(h)},getSel:function(){var g=this,f=this.win;return f.getSelection?f.getSelection():f.document.selection},getRng:function(k){var g=this,h,j;if(k&&g.tridentSel){return g.tridentSel.getRangeAt(0)}try{if(h=g.getSel()){j=h.rangeCount>0?h.getRangeAt(0):(h.createRange?h.createRange():g.win.document.createRange())}}catch(f){}if(!j){j=g.win.document.createRange?g.win.document.createRange():g.win.document.body.createTextRange()}if(g.selectedRange&&g.explicitRange){if(j.compareBoundaryPoints(j.START_TO_START,g.selectedRange)===0&&j.compareBoundaryPoints(j.END_TO_END,g.selectedRange)===0){j=g.explicitRange}else{g.selectedRange=null;g.explicitRange=null}}return j},setRng:function(j){var h,g=this;if(!g.tridentSel){h=g.getSel();if(h){g.explicitRange=j;h.removeAllRanges();h.addRange(j);g.selectedRange=h.getRangeAt(0)}}else{if(j.cloneRange){g.tridentSel.addRange(j);return}try{j.select()}catch(f){}}},setNode:function(g){var f=this;f.setContent(f.dom.getOuterHTML(g));return g},getNode:function(){var g=this,f=g.getRng(),h=g.getSel(),j;if(f.setStart){if(!f){return g.dom.getRoot()}j=f.commonAncestorContainer;if(!f.collapsed){if(f.startContainer==f.endContainer){if(f.startOffset-f.endOffset<2){if(f.startContainer.hasChildNodes()){j=f.startContainer.childNodes[f.startOffset]}}}if(c.isWebKit&&h.anchorNode&&h.anchorNode.nodeType==1){return h.anchorNode.childNodes[h.anchorOffset]}}if(j&&j.nodeType==3){return j.parentNode}return j}return f.item?f.item(0):f.parentElement()},getSelectedBlocks:function(g,f){var j=this,k=j.dom,o,h,m,l=[];o=k.getParent(g||j.getStart(),k.isBlock);h=k.getParent(f||j.getEnd(),k.isBlock);if(o){l.push(o)}if(o&&h&&o!=h){m=o;while((m=m.nextSibling)&&m!=h){if(k.isBlock(m)){l.push(m)}}}if(h&&o!=h){l.push(h)}return l},destroy:function(g){var f=this;f.win=null;if(f.tridentSel){f.tridentSel.destroy()}if(!g){c.removeUnload(f.destroy)}}})})(tinymce);(function(a){a.create("tinymce.dom.XMLWriter",{node:null,XMLWriter:function(c){function b(){var e=document.implementation;if(!e||!e.createDocument){try{return new ActiveXObject("MSXML2.DOMDocument")}catch(d){}try{return new ActiveXObject("Microsoft.XmlDom")}catch(d){}}else{return e.createDocument("","",null)}}this.doc=b();this.valid=a.isOpera||a.isWebKit;this.reset()},reset:function(){var b=this,c=b.doc;if(c.firstChild){c.removeChild(c.firstChild)}b.node=c.appendChild(c.createElement("html"))},writeStartElement:function(c){var b=this;b.node=b.node.appendChild(b.doc.createElement(c))},writeAttribute:function(c,b){if(this.valid){b=b.replace(/>/g,"%MCGT%")}this.node.setAttribute(c,b)},writeEndElement:function(){this.node=this.node.parentNode},writeFullEndElement:function(){var b=this,c=b.node;c.appendChild(b.doc.createTextNode(""));b.node=c.parentNode},writeText:function(b){if(this.valid){b=b.replace(/>/g,"%MCGT%")}this.node.appendChild(this.doc.createTextNode(b))},writeCDATA:function(b){this.node.appendChild(this.doc.createCDATASection(b))},writeComment:function(b){if(a.isIE){b=b.replace(/^\-|\-$/g," ")}this.node.appendChild(this.doc.createComment(b.replace(/\-\-/g," ")))},getContent:function(){var b;b=this.doc.xml||new XMLSerializer().serializeToString(this.doc);b=b.replace(/<\?[^?]+\?>|<html>|<\/html>|<html\/>|<!DOCTYPE[^>]+>/g,"");b=b.replace(/ ?\/>/g," />");if(this.valid){b=b.replace(/\%MCGT%/g,"&gt;")}return b}})})(tinymce);(function(a){a.create("tinymce.dom.StringWriter",{str:null,tags:null,count:0,settings:null,indent:null,StringWriter:function(b){this.settings=a.extend({indent_char:" ",indentation:0},b);this.reset()},reset:function(){this.indent="";this.str="";this.tags=[];this.count=0},writeStartElement:function(b){this._writeAttributesEnd();this.writeRaw("<"+b);this.tags.push(b);this.inAttr=true;this.count++;this.elementCount=this.count},writeAttribute:function(d,b){var c=this;c.writeRaw(" "+c.encode(d)+'="'+c.encode(b)+'"')},writeEndElement:function(){var b;if(this.tags.length>0){b=this.tags.pop();if(this._writeAttributesEnd(1)){this.writeRaw("</"+b+">")}if(this.settings.indentation>0){this.writeRaw("\n")}}},writeFullEndElement:function(){if(this.tags.length>0){this._writeAttributesEnd();this.writeRaw("</"+this.tags.pop()+">");if(this.settings.indentation>0){this.writeRaw("\n")}}},writeText:function(b){this._writeAttributesEnd();this.writeRaw(this.encode(b));this.count++},writeCDATA:function(b){this._writeAttributesEnd();this.writeRaw("<![CDATA["+b+"]]>");this.count++},writeComment:function(b){this._writeAttributesEnd();this.writeRaw("<!-- "+b+"-->");this.count++},writeRaw:function(b){this.str+=b},encode:function(b){return b.replace(/[<>&"]/g,function(c){switch(c){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;"}return c})},getContent:function(){return this.str},_writeAttributesEnd:function(b){if(!this.inAttr){return}this.inAttr=false;if(b&&this.elementCount==this.count){this.writeRaw(" />");return false}this.writeRaw(">");return true}})})(tinymce);(function(e){var g=e.extend,f=e.each,b=e.util.Dispatcher,d=e.isIE,a=e.isGecko;function c(h){return h.replace(/([?+*])/g,".$1")}e.create("tinymce.dom.Serializer",{Serializer:function(k){var j=this;j.key=0;j.onPreProcess=new b(j);j.onPostProcess=new b(j);try{j.writer=new e.dom.XMLWriter()}catch(h){j.writer=new e.dom.StringWriter()}j.settings=k=g({dom:e.DOM,valid_nodes:0,node_filter:0,attr_filter:0,invalid_attrs:/^(_mce_|_moz_|sizset|sizcache)/,closed:/^(br|hr|input|meta|img|link|param|area)$/,entity_encoding:"named",entities:"160,nbsp,161,iexcl,162,cent,163,pound,164,curren,165,yen,166,brvbar,167,sect,168,uml,169,copy,170,ordf,171,laquo,172,not,173,shy,174,reg,175,macr,176,deg,177,plusmn,178,sup2,179,sup3,180,acute,181,micro,182,para,183,middot,184,cedil,185,sup1,186,ordm,187,raquo,188,frac14,189,frac12,190,frac34,191,iquest,192,Agrave,193,Aacute,194,Acirc,195,Atilde,196,Auml,197,Aring,198,AElig,199,Ccedil,200,Egrave,201,Eacute,202,Ecirc,203,Euml,204,Igrave,205,Iacute,206,Icirc,207,Iuml,208,ETH,209,Ntilde,210,Ograve,211,Oacute,212,Ocirc,213,Otilde,214,Ouml,215,times,216,Oslash,217,Ugrave,218,Uacute,219,Ucirc,220,Uuml,221,Yacute,222,THORN,223,szlig,224,agrave,225,aacute,226,acirc,227,atilde,228,auml,229,aring,230,aelig,231,ccedil,232,egrave,233,eacute,234,ecirc,235,euml,236,igrave,237,iacute,238,icirc,239,iuml,240,eth,241,ntilde,242,ograve,243,oacute,244,ocirc,245,otilde,246,ouml,247,divide,248,oslash,249,ugrave,250,uacute,251,ucirc,252,uuml,253,yacute,254,thorn,255,yuml,402,fnof,913,Alpha,914,Beta,915,Gamma,916,Delta,917,Epsilon,918,Zeta,919,Eta,920,Theta,921,Iota,922,Kappa,923,Lambda,924,Mu,925,Nu,926,Xi,927,Omicron,928,Pi,929,Rho,931,Sigma,932,Tau,933,Upsilon,934,Phi,935,Chi,936,Psi,937,Omega,945,alpha,946,beta,947,gamma,948,delta,949,epsilon,950,zeta,951,eta,952,theta,953,iota,954,kappa,955,lambda,956,mu,957,nu,958,xi,959,omicron,960,pi,961,rho,962,sigmaf,963,sigma,964,tau,965,upsilon,966,phi,967,chi,968,psi,969,omega,977,thetasym,978,upsih,982,piv,8226,bull,8230,hellip,8242,prime,8243,Prime,8254,oline,8260,frasl,8472,weierp,8465,image,8476,real,8482,trade,8501,alefsym,8592,larr,8593,uarr,8594,rarr,8595,darr,8596,harr,8629,crarr,8656,lArr,8657,uArr,8658,rArr,8659,dArr,8660,hArr,8704,forall,8706,part,8707,exist,8709,empty,8711,nabla,8712,isin,8713,notin,8715,ni,8719,prod,8721,sum,8722,minus,8727,lowast,8730,radic,8733,prop,8734,infin,8736,ang,8743,and,8744,or,8745,cap,8746,cup,8747,int,8756,there4,8764,sim,8773,cong,8776,asymp,8800,ne,8801,equiv,8804,le,8805,ge,8834,sub,8835,sup,8836,nsub,8838,sube,8839,supe,8853,oplus,8855,otimes,8869,perp,8901,sdot,8968,lceil,8969,rceil,8970,lfloor,8971,rfloor,9001,lang,9002,rang,9674,loz,9824,spades,9827,clubs,9829,hearts,9830,diams,338,OElig,339,oelig,352,Scaron,353,scaron,376,Yuml,710,circ,732,tilde,8194,ensp,8195,emsp,8201,thinsp,8204,zwnj,8205,zwj,8206,lrm,8207,rlm,8211,ndash,8212,mdash,8216,lsquo,8217,rsquo,8218,sbquo,8220,ldquo,8221,rdquo,8222,bdquo,8224,dagger,8225,Dagger,8240,permil,8249,lsaquo,8250,rsaquo,8364,euro",valid_elements:"*[*]",extended_valid_elements:0,invalid_elements:0,fix_table_elements:1,fix_list_elements:true,fix_content_duplication:true,convert_fonts_to_spans:false,font_size_classes:0,apply_source_formatting:0,indent_mode:"simple",indent_char:"\t",indent_levels:1,remove_linebreaks:1,remove_redundant_brs:1,element_format:"xhtml"},k);j.dom=k.dom;j.schema=k.schema;if(k.entity_encoding=="named"&&!k.entities){k.entity_encoding="raw"}if(k.remove_redundant_brs){j.onPostProcess.add(function(l,m){m.content=m.content.replace(/(<br \/>\s*)+<\/(p|h[1-6]|div|li)>/gi,function(o,n,p){if(/^<br \/>\s*<\//.test(o)){return"</"+p+">"}return o})})}if(k.element_format=="html"){j.onPostProcess.add(function(l,m){m.content=m.content.replace(/<([^>]+) \/>/g,"<$1>")})}if(k.fix_list_elements){j.onPreProcess.add(function(z,t){var m,B,A=["ol","ul"],v,u,s,l=/^(OL|UL)$/,C;function q(r,D){var o=D.split(","),p;while((r=r.previousSibling)!=null){for(p=0;p<o.length;p++){if(r.nodeName==o[p]){return r}}}return null}for(B=0;B<A.length;B++){m=j.dom.select(A[B],t.node);for(v=0;v<m.length;v++){u=m[v];s=u.parentNode;if(l.test(s.nodeName)){C=q(u,"LI");if(!C){C=j.dom.create("li");C.innerHTML="&nbsp;";C.appendChild(u);s.insertBefore(C,s.firstChild)}else{C.appendChild(u)}}}}})}if(k.fix_table_elements){j.onPreProcess.add(function(l,m){if(!e.isOpera||opera.buildNumber()>=1767){f(j.dom.select("p table",m.node).reverse(),function(q){var p=j.dom.getParent(q.parentNode,"table,p");if(p.nodeName!="TABLE"){try{j.dom.split(p,q)}catch(o){}}})}})}},setEntities:function(o){var n=this,j,m,h={},k;if(n.entityLookup){return}j=o.split(",");for(m=0;m<j.length;m+=2){k=j[m];if(k==34||k==38||k==60||k==62){continue}h[String.fromCharCode(j[m])]=j[m+1];k=parseInt(j[m]).toString(16)}n.entityLookup=h},setRules:function(j){var h=this;h._setup();h.rules={};h.wildRules=[];h.validElements={};return h.addRules(j)},addRules:function(j){var h=this,k;if(!j){return}h._setup();f(j.split(","),function(n){var r=n.split(/\[|\]/),m=r[0].split("/"),t,l,q,o=[];if(k){l=e.extend([],k.attribs)}if(r.length>1){f(r[1].split("|"),function(v){var p={},u;l=l||[];v=v.replace(/::/g,"~");v=/^([!\-])?([\w*.?~_\-]+|)([=:<])?(.+)?$/.exec(v);v[2]=v[2].replace(/~/g,":");if(v[1]=="!"){t=t||[];t.push(v[2])}if(v[1]=="-"){for(u=0;u<l.length;u++){if(l[u].name==v[2]){l.splice(u,1);return}}}switch(v[3]){case"=":p.defaultVal=v[4]||"";break;case":":p.forcedVal=v[4];break;case"<":p.validVals=v[4].split("?");break}if(/[*.?]/.test(v[2])){q=q||[];p.nameRE=new RegExp("^"+c(v[2])+"$");q.push(p)}else{p.name=v[2];l.push(p)}o.push(v[2])})}f(m,function(z,v){var A=z.charAt(0),u=1,p={};if(k){if(k.noEmpty){p.noEmpty=k.noEmpty}if(k.fullEnd){p.fullEnd=k.fullEnd}if(k.padd){p.padd=k.padd}}switch(A){case"-":p.noEmpty=true;break;case"+":p.fullEnd=true;break;case"#":p.padd=true;break;default:u=0}m[v]=z=z.substring(u);h.validElements[z]=1;if(/[*.?]/.test(m[0])){p.nameRE=new RegExp("^"+c(m[0])+"$");h.wildRules=h.wildRules||{};h.wildRules.push(p)}else{p.name=m[0];if(m[0]=="@"){k=p}h.rules[z]=p}p.attribs=l;if(t){p.requiredAttribs=t}if(q){z="";f(o,function(s){if(z){z+="|"}z+="("+c(s)+")"});p.validAttribsRE=new RegExp("^"+z.toLowerCase()+"$");p.wildAttribs=q}})});j="";f(h.validElements,function(m,l){if(j){j+="|"}if(l!="@"){j+=l}});h.validElementsRE=new RegExp("^("+c(j.toLowerCase())+")$")},findRule:function(m){var j=this,l=j.rules,h,k;j._setup();k=l[m];if(k){return k}l=j.wildRules;for(h=0;h<l.length;h++){if(l[h].nameRE.test(m)){return l[h]}}return null},findAttribRule:function(h,l){var j,k=h.wildAttribs;for(j=0;j<k.length;j++){if(k[j].nameRE.test(l)){return k[j]}}return null},serialize:function(s,r){var p,l=this,q,j,k,m;l._setup();r=r||{};r.format=r.format||"html";l.processObj=r;if(d){m=[];f(s.getElementsByTagName("option"),function(o){var h=l.dom.getAttrib(o,"selected");m.push(h?h:null)})}s=s.cloneNode(true);if(d){f(s.getElementsByTagName("option"),function(o,h){l.dom.setAttrib(o,"selected",m[h])})}k=s.ownerDocument.implementation;if(k.createHTMLDocument&&(e.isOpera&&opera.buildNumber()>=1767)){q=k.createHTMLDocument("");f(s.nodeName=="BODY"?s.childNodes:[s],function(h){q.body.appendChild(q.importNode(h,true))});if(s.nodeName!="BODY"){s=q.body.firstChild}else{s=q.body}j=l.dom.doc;l.dom.doc=q}l.key=""+(parseInt(l.key)+1);if(!r.no_events){r.node=s;l.onPreProcess.dispatch(l,r)}l.writer.reset();l._info=r;l._serializeNode(s,r.getInner);r.content=l.writer.getContent();if(j){l.dom.doc=j}if(!r.no_events){l.onPostProcess.dispatch(l,r)}l._postProcess(r);r.node=null;return e.trim(r.content)},_postProcess:function(q){var j=this,l=j.settings,k=q.content,n=[],m;if(q.format=="html"){m=j._protect({content:k,patterns:[{pattern:/(<script[^>]*>)(.*?)(<\/script>)/g},{pattern:/(<noscript[^>]*>)(.*?)(<\/noscript>)/g},{pattern:/(<style[^>]*>)(.*?)(<\/style>)/g},{pattern:/(<pre[^>]*>)(.*?)(<\/pre>)/g,encode:1},{pattern:/(<!--\[CDATA\[)(.*?)(\]\]-->)/g}]});k=m.content;if(l.entity_encoding!=="raw"){k=j._encode(k)}if(!q.set){k=k.replace(/<p>\s+<\/p>|<p([^>]+)>\s+<\/p>/g,l.entity_encoding=="numeric"?"<p$1>&#160;</p>":"<p$1>&nbsp;</p>");if(l.remove_linebreaks){k=k.replace(/\r?\n|\r/g," ");k=k.replace(/(<[^>]+>)\s+/g,"$1 ");k=k.replace(/\s+(<\/[^>]+>)/g," $1");k=k.replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object) ([^>]+)>\s+/g,"<$1 $2>");k=k.replace(/<(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>\s+/g,"<$1>");k=k.replace(/\s+<\/(p|h[1-6]|blockquote|hr|div|table|tbody|tr|td|body|head|html|title|meta|style|pre|script|link|object)>/g,"</$1>")}if(l.apply_source_formatting&&l.indent_mode=="simple"){k=k.replace(/<(\/?)(ul|hr|table|meta|link|tbody|tr|object|body|head|html|map)(|[^>]+)>\s*/g,"\n<$1$2$3>\n");k=k.replace(/\s*<(p|h[1-6]|blockquote|div|title|style|pre|script|td|li|area)(|[^>]+)>/g,"\n<$1$2>");k=k.replace(/<\/(p|h[1-6]|blockquote|div|title|style|pre|script|td|li)>\s*/g,"</$1>\n");k=k.replace(/\n\n/g,"\n")}}k=j._unprotect(k,m);k=k.replace(/<!--\[CDATA\[([\s\S]+)\]\]-->/g,"<![CDATA[$1]]>");if(l.entity_encoding=="raw"){k=k.replace(/<p>&nbsp;<\/p>|<p([^>]+)>&nbsp;<\/p>/g,"<p$1>\u00a0</p>")}k=k.replace(/<noscript([^>]+|)>([\s\S]*?)<\/noscript>/g,function(h,p,o){return"<noscript"+p+">"+j.dom.decode(o.replace(/<!--|-->/g,""))+"</noscript>"})}q.content=k},_serializeNode:function(G,L){var C=this,D=C.settings,A=C.writer,q,j,u,I,H,K,E,h,B,k,r,F,p,m,J,o,z;if(!D.node_filter||D.node_filter(G)){switch(G.nodeType){case 1:if(G.hasAttribute?G.hasAttribute("_mce_bogus"):G.getAttribute("_mce_bogus")){return}p=J=false;q=G.hasChildNodes();k=G.getAttribute("_mce_name")||G.nodeName.toLowerCase();o=G.getAttribute("_mce_type");if(o){if(!C._info.cleanup){p=true;return}else{J=1}}if(d){z=G.scopeName;if(z&&z!=="HTML"&&z!=="html"){k=z+":"+k}}if(k.indexOf("mce:")===0){k=k.substring(4)}if(!J){if(!C.validElementsRE||!C.validElementsRE.test(k)||(C.invalidElementsRE&&C.invalidElementsRE.test(k))||L){p=true;break}}if(d){if(D.fix_content_duplication){if(G._mce_serialized==C.key){return}G._mce_serialized=C.key}if(k.charAt(0)=="/"){k=k.substring(1)}}else{if(a){if(G.nodeName==="BR"&&G.getAttribute("type")=="_moz"){return}}}if(D.validate_children){if(C.elementName&&!C.schema.isValid(C.elementName,k)){p=true;break}C.elementName=k}r=C.findRule(k);if(!r){p=true;break}k=r.name||k;m=D.closed.test(k);if((!q&&r.noEmpty)||(d&&!k)){p=true;break}if(r.requiredAttribs){K=r.requiredAttribs;for(I=K.length-1;I>=0;I--){if(this.dom.getAttrib(G,K[I])!==""){break}}if(I==-1){p=true;break}}A.writeStartElement(k);if(r.attribs){for(I=0,E=r.attribs,H=E.length;I<H;I++){K=E[I];B=C._getAttrib(G,K);if(B!==null){A.writeAttribute(K.name,B)}}}if(r.validAttribsRE){E=C.dom.getAttribs(G);for(I=E.length-1;I>-1;I--){h=E[I];if(h.specified){K=h.nodeName.toLowerCase();if(D.invalid_attrs.test(K)||!r.validAttribsRE.test(K)){continue}F=C.findAttribRule(r,K);B=C._getAttrib(G,F,K);if(B!==null){A.writeAttribute(K,B)}}}}if(o&&J){A.writeAttribute("_mce_type",o)}if(k==="script"&&e.trim(G.innerHTML)){A.writeText("// ");A.writeCDATA(G.innerHTML.replace(/<!--|-->|<\[CDATA\[|\]\]>/g,""));q=false;break}if(r.padd){if(q&&(u=G.firstChild)&&u.nodeType===1&&G.childNodes.length===1){if(u.hasAttribute?u.hasAttribute("_mce_bogus"):u.getAttribute("_mce_bogus")){A.writeText("\u00a0")}}else{if(!q){A.writeText("\u00a0")}}}break;case 3:if(D.validate_children&&C.elementName&&!C.schema.isValid(C.elementName,"#text")){return}return A.writeText(G.nodeValue);case 4:return A.writeCDATA(G.nodeValue);case 8:return A.writeComment(G.nodeValue)}}else{if(G.nodeType==1){q=G.hasChildNodes()}}if(q&&!m){u=G.firstChild;while(u){C._serializeNode(u);C.elementName=k;u=u.nextSibling}}if(!p){if(!m){A.writeFullEndElement()}else{A.writeEndElement()}}},_protect:function(k){var j=this;k.items=k.items||[];function h(m){return m.replace(/[\r\n\\]/g,function(n){if(n==="\n"){return"\\n"}else{if(n==="\\"){return"\\\\"}}return"\\r"})}function l(m){return m.replace(/\\[\\rn]/g,function(n){if(n==="\\n"){return"\n"}else{if(n==="\\\\"){return"\\"}}return"\r"})}f(k.patterns,function(m){k.content=l(h(k.content).replace(m.pattern,function(o,p,n,q){n=l(n);if(m.encode){n=j._encode(n)}k.items.push(n);return p+"<!--mce:"+(k.items.length-1)+"-->"+q}))});return k},_unprotect:function(j,k){j=j.replace(/\<!--mce:([0-9]+)--\>/g,function(l,h){return k.items[parseInt(h)]});k.items=[];return j},_encode:function(n){var k=this,m=k.settings,j;if(m.entity_encoding!=="raw"){if(m.entity_encoding.indexOf("named")!=-1){k.setEntities(m.entities);j=k.entityLookup;n=n.replace(/[\u007E-\uFFFF]/g,function(h){var l;if(l=j[h]){h="&"+l+";"}return h})}if(m.entity_encoding.indexOf("numeric")!=-1){n=n.replace(/[\u007E-\uFFFF]/g,function(h){return"&#"+h.charCodeAt(0)+";"})}}return n},_setup:function(){var h=this,j=this.settings;if(h.done){return}h.done=1;h.setRules(j.valid_elements);h.addRules(j.extended_valid_elements);if(j.invalid_elements){h.invalidElementsRE=new RegExp("^("+c(j.invalid_elements.replace(/,/g,"|").toLowerCase())+")$")}if(j.attrib_value_filter){h.attribValueFilter=j.attribValueFilter}},_getAttrib:function(m,j,h){var l,k;h=h||j.name;if(j.forcedVal&&(k=j.forcedVal)){if(k==="{$uid}"){return this.dom.uniqueId()}return k}k=this.dom.getAttrib(m,h);switch(h){case"rowspan":case"colspan":if(k=="1"){k=""}break}if(this.attribValueFilter){k=this.attribValueFilter(h,k,m)}if(j.validVals){for(l=j.validVals.length-1;l>=0;l--){if(k==j.validVals[l]){break}}if(l==-1){return null}}if(k===""&&typeof(j.defaultVal)!="undefined"){k=j.defaultVal;if(k==="{$uid}"){return this.dom.uniqueId()}return k}else{if(h=="class"&&this.processObj.get){k=k.replace(/\s?mceItem\w+\s?/g,"")}}if(k===""){return null}return k}})})(tinymce);(function(a){a.dom.ScriptLoader=function(h){var c=0,l=1,j=2,m={},k=[],f={},d=[],g=0,e;function b(n,v){var z=this,r=a.DOM,u,p,s,o;function q(){r.remove(o);if(u){u.onreadystatechange=u.onload=u=null}v()}o=r.uniqueId();if(a.isIE6){p=new a.util.URI(n);s=location;if(p.host==s.hostname&&p.port==s.port&&(p.protocol+":")==s.protocol){a.util.XHR.send({url:a._addVer(p.getURI()),success:function(A){var t=r.create("script",{type:"text/javascript"});t.text=A;document.getElementsByTagName("head")[0].appendChild(t);r.remove(t);q()}});return}}u=r.create("script",{id:o,type:"text/javascript",src:a._addVer(n)});u.onload=q;u.onreadystatechange=function(){var t=u.readyState;if(t=="complete"||t=="loaded"){q()}};(document.getElementsByTagName("head")[0]||document.body).appendChild(u)}this.isDone=function(n){return m[n]==j};this.markDone=function(n){m[n]=j};this.add=this.load=function(n,r,o){var p,q=m[n];if(q==e){k.push(n);m[n]=c}if(r){if(!f[n]){f[n]=[]}f[n].push({func:r,scope:o||this})}};this.loadQueue=function(o,n){this.loadScripts(k,o,n)};this.loadScripts=function(n,r,q){var p;function o(s){a.each(f[s],function(t){t.func.call(t.scope)});f[s]=e}d.push({func:r,scope:q||this});p=function(){var s=a.grep(n);n.length=0;a.each(s,function(t){if(m[t]==j){o(t);return}if(m[t]!=l){m[t]=l;g++;b(t,function(){m[t]=j;g--;o(t);p()})}});if(!g){a.each(d,function(t){t.func.call(t.scope)});d.length=0}};p()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(a,c){var b=a;function d(j,f,e,k){var h,g;if(j){if(!k&&j[f]){return j[f]}if(j!=c){h=j[e];if(h){return h}for(g=j.parentNode;g&&g!=c;g=g.parentNode){h=g[e];if(h){return h}}}}}this.current=function(){return b};this.next=function(e){return(b=d(b,"firstChild","nextSibling",e))};this.prev=function(e){return(b=d(b,"lastChild","lastSibling",e))}};(function(){var a={};function b(f,e){var d;function c(g){return g.replace(/[A-Z]+/g,function(h){return c(f[h])})}for(d in f){if(f.hasOwnProperty(d)){f[d]=c(f[d])}}c(e).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]/g,function(l,g,j){var h,k={};j=j.split(/\|/);for(h=j.length-1;h>=0;h--){k[j[h]]=1}a[g]=k})}b({Z:"#|H|K|N|O|P",Y:"#|X|form|R|Q",X:"p|T|div|U|W|isindex|fieldset|table",W:"pre|hr|blockquote|address|center|noframes",U:"ul|ol|dl|menu|dir",ZC:"#|p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"#|X|S|Q",S:"R|P",ZA:"#|a|G|J|M|O|P",R:"#|a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe"},"script[]style[]object[#|param|X|form|a|H|K|N|O|Q]param[]p[S]a[Z]br[]span[S]bdo[S]applet[#|param|X|form|a|H|K|N|O|Q]h1[S]img[]map[X|form|Q|area]h2[S]iframe[#|X|form|a|H|K|N|O|Q]h3[S]tt[S]i[S]b[S]u[S]s[S]strike[S]big[S]small[S]font[S]basefont[]em[S]strong[S]dfn[S]code[S]q[S]samp[S]kbd[S]var[S]cite[S]abbr[S]acronym[S]sub[S]sup[S]input[]select[optgroup|option]optgroup[option]option[]textarea[]label[S]button[#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[S]ins[#|X|form|a|H|K|N|O|Q]h5[S]del[#|X|form|a|H|K|N|O|Q]h6[S]div[#|X|form|a|H|K|N|O|Q]ul[li]li[#|X|form|a|H|K|N|O|Q]ol[li]dl[dt|dd]dt[S]dd[#|X|form|a|H|K|N|O|Q]menu[li]dir[li]pre[ZA]hr[]blockquote[#|X|form|a|H|K|N|O|Q]address[S|p]center[#|X|form|a|H|K|N|O|Q]noframes[#|X|form|a|H|K|N|O|Q]isindex[]fieldset[#|legend|X|form|a|H|K|N|O|Q]legend[S]table[caption|col|colgroup|thead|tfoot|tbody|tr]caption[S]col[]colgroup[col]thead[tr]tr[th|td]th[#|X|form|a|H|K|N|O|Q]form[#|X|a|H|K|N|O|Q]noscript[#|X|form|a|H|K|N|O|Q]td[#|X|form|a|H|K|N|O|Q]tfoot[tr]tbody[tr]area[]base[]body[#|X|form|a|H|K|N|O|Q]");tinymce.dom.Schema=function(){var c=this,d=a;c.isValid=function(f,e){var g=d[f];return !!(g&&(!e||g[e]))}}})();(function(a){a.dom.RangeUtils=function(c){var b="\uFEFF";this.walk=function(d,s){var h=d.startContainer,l=d.startOffset,t=d.endContainer,m=d.endOffset,j,f,o,g,r,q,e;e=c.select("td.mceSelected,th.mceSelected");if(e.length>0){a.each(e,function(u){s([u])});return}function p(z,v,u){var A=[];for(;z&&z!=u;z=z[v]){A.push(z)}return A}function n(v,u){do{if(v.parentNode==u){return v}v=v.parentNode}while(v)}function k(z,v,A){var u=A?"nextSibling":"previousSibling";for(g=z,r=g.parentNode;g&&g!=v;g=r){r=g.parentNode;q=p(g==z?g:g[u],u);if(q.length){if(!A){q.reverse()}s(q)}}}if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[l]}if(t.nodeType==1&&t.hasChildNodes()){t=t.childNodes[Math.min(l==m?m:m-1,t.childNodes.length-1)]}j=c.findCommonAncestor(h,t);if(h==t){return s([h])}for(g=h;g;g=g.parentNode){if(g==t){return k(h,j,true)}if(g==j){break}}for(g=t;g;g=g.parentNode){if(g==h){return k(t,j)}if(g==j){break}}f=n(h,j)||h;o=n(t,j)||t;k(h,f,true);q=p(f==h?f:f.nextSibling,"nextSibling",o==t?o.nextSibling:o);if(q.length){s(q)}k(t,o)}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(c){var b=c.DOM,a=c.is;c.create("tinymce.ui.Control",{Control:function(e,d){this.id=e;this.settings=d=d||{};this.rendered=false;this.onRender=new c.util.Dispatcher(this);this.classPrefix="";this.scope=d.scope||this;this.disabled=0;this.active=0},setDisabled:function(d){var f;if(d!=this.disabled){f=b.get(this.id);if(f&&this.settings.unavailable_prefix){if(d){this.prevTitle=f.title;f.title=this.settings.unavailable_prefix+": "+f.title}else{f.title=this.prevTitle}}this.setState("Disabled",d);this.setState("Enabled",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState("Active",d);this.active=d}},isActive:function(){return this.active},setState:function(f,d){var e=b.get(this.id);f=this.classPrefix+f;if(d){b.addClass(e,f)}else{b.removeClass(e,f)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){b.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(a(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(a(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){b.remove(this.id);this.destroy()},destroy:function(){c.dom.Event.clear(this.id)}})})(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(b,a){this.parent(b,a);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(b,a){this.parent(b,a);this.classPrefix="mceSeparator"},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix})}});(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix="mceMenuItem"},setSelected:function(f){this.setState("Selected",f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(c(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(h,g){var f=this;f.parent(h,g);f.items={};f.collapsed=false;f.menuCount=0;f.onAddItem=new d.util.Dispatcher(this)},expand:function(g){var f=this;if(g){a(f,function(h){if(h.expand){h.expand()}},"items",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){a(f,function(h){if(h.collapse){h.collapse()}},"items",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new d.ui.MenuItem(f.id||b.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;a(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},"items",f);f.items={}},createMenu:function(g){var f=new d.ui.Menu(g.id||b.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,a=e.dom.Event,b=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(h,g){g=g||{};g.container=g.container||c.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(d(g.icons)&&!g.icons){g["class"]+=" mceNoIcons"}this.parent(h,g);this.onShowMenu=new e.util.Dispatcher(this);this.onHideMenu=new e.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(k){var h=this,j=h.settings,g;k.container=k.container||j.container;k.parent=h;k.constrain=k.constrain||j.constrain;k["class"]=k["class"]||j["class"];k.vp_offset_x=k.vp_offset_x||j.vp_offset_x;k.vp_offset_y=k.vp_offset_y||j.vp_offset_y;g=new e.ui.DropMenu(k.id||c.uniqueId(),k);g.onAddItem.add(h.onAddItem.dispatch,h.onAddItem);return g},update:function(){var j=this,k=j.settings,g=c.get("menu_"+j.id+"_tbl"),m=c.get("menu_"+j.id+"_co"),h,l;h=k.max_width?Math.min(g.clientWidth,k.max_width):g.clientWidth;l=k.max_height?Math.min(g.clientHeight,k.max_height):g.clientHeight;if(!c.boxModel){j.element.setStyles({width:h+2,height:l+2})}else{j.element.setStyles({width:h,height:l})}if(k.max_width){c.setStyle(m,"width",h)}if(k.max_height){c.setStyle(m,"height",l);if(g.clientHeight<k.max_height){c.setStyle(m,"overflow","hidden")}}},showMenu:function(q,o,u){var A=this,B=A.settings,p,g=c.getViewPort(),v,m,z,r,j=2,l,k,n=A.classPrefix;A.collapse(1);if(A.isMenuVisible){return}if(!A.rendered){p=c.add(A.settings.container,A.renderNode());f(A.items,function(h){h.postRender()});A.element=new b("menu_"+A.id,{blocker:1,container:B.container})}else{p=c.get("menu_"+A.id)}if(!e.isOpera){c.setStyles(p,{left:-65535,top:-65535})}c.show(p);A.update();q+=B.offset_x||0;o+=B.offset_y||0;g.w-=4;g.h-=4;if(B.constrain){v=p.clientWidth-j;m=p.clientHeight-j;z=g.x+g.w;r=g.y+g.h;if((q+B.vp_offset_x+v)>z){q=u?u-v:Math.max(0,(z-B.vp_offset_x)-v)}if((o+B.vp_offset_y+m)>r){o=Math.max(0,(r-B.vp_offset_y)-m)}}c.setStyles(p,{left:q,top:o});A.element.update();A.isMenuVisible=1;A.mouseClickFunc=a.add(p,"click",function(s){var h;s=s.target;if(s&&(s=c.getParent(s,"tr"))&&!c.hasClass(s,n+"ItemSub")){h=A.items[s.id];if(h.isDisabled()){return}l=A;while(l){if(l.hideMenu){l.hideMenu()}l=l.settings.parent}if(h.settings.onclick){h.settings.onclick(s)}return a.cancel(s)}});if(A.hasMenus()){A.mouseOverFunc=a.add(p,"mouseover",function(C){var h,t,s;C=C.target;if(C&&(C=c.getParent(C,"tr"))){h=A.items[C.id];if(A.lastMenu){A.lastMenu.collapse(1)}if(h.isDisabled()){return}if(C&&c.hasClass(C,n+"ItemSub")){t=c.getRect(C);h.showMenu((t.x+t.w-j),t.y-j,t.x);A.lastMenu=h;c.addClass(c.get(h.id).firstChild,n+"ItemActive")}}})}A.onShowMenu.dispatch(A);if(B.keyboard_focus){a.add(p,"keydown",A._keyHandler,A);c.select("a","menu_"+A.id)[0].focus();A._focusIdx=0}},hideMenu:function(k){var g=this,j=c.get("menu_"+g.id),h;if(!g.isMenuVisible){return}a.remove(j,"mouseover",g.mouseOverFunc);a.remove(j,"click",g.mouseClickFunc);a.remove(j,"keydown",g._keyHandler);c.hide(j);g.isMenuVisible=0;if(!k){g.collapse(1)}if(g.element){g.element.hide()}if(h=c.get(g.id)){c.removeClass(h.firstChild,g.classPrefix+"ItemActive")}g.onHideMenu.dispatch(g)},add:function(j){var g=this,h;j=g.parent(j);if(g.isRendered&&(h=c.get("menu_"+g.id))){g._add(c.select("tbody",h)[0],j)}return j},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){c.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,h=c.get("menu_"+g.id);a.remove(h,"mouseover",g.mouseOverFunc);a.remove(h,"click",g.mouseClickFunc);if(g.element){g.element.remove()}c.remove(h)},renderNode:function(){var j=this,k=j.settings,m,h,l,g;g=c.create("div",{id:"menu_"+j.id,"class":k["class"],style:"position:absolute;left:0;top:0;z-index:200000"});l=c.add(g,"div",{id:"menu_"+j.id+"_co","class":j.classPrefix+(k["class"]?" "+k["class"]:"")});j.element=new b("menu_"+j.id,{blocker:1,container:k.container});if(k.menu_line){c.add(l,"span",{"class":j.classPrefix+"Line"})}m=c.add(l,"table",{id:"menu_"+j.id+"_tbl",border:0,cellPadding:0,cellSpacing:0});h=c.add(m,"tbody");f(j.items,function(n){j._add(h,n)});j.rendered=true;return g},_keyHandler:function(k){var j=this,h=k.keyCode;function g(n){var l=j._focusIdx+n,m=c.select("a","menu_"+j.id)[l];if(m){j._focusIdx=l;m.focus()}}switch(h){case 38:g(-1);return;case 40:g(1);return;case 13:return;case 27:return this.hideMenu()}},_add:function(k,h){var j,r=h.settings,q,m,l,p=this.classPrefix,g;if(r.separator){m=c.add(k,"tr",{id:h.id,"class":p+"ItemSeparator"});c.add(m,"td",{"class":p+"ItemSeparator"});if(j=m.previousSibling){c.addClass(j,"mceLast")}return}j=m=c.add(k,"tr",{id:h.id,"class":p+"Item "+p+"ItemEnabled"});j=l=c.add(j,"td");j=q=c.add(j,"a",{href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});c.addClass(l,r["class"]);g=c.add(j,"span",{"class":"mceIcon"+(r.icon?" mce_"+r.icon:"")});if(r.icon_src){c.add(g,"img",{src:r.icon_src})}j=c.add(j,r.element||"span",{"class":"mceText",title:h.settings.title},h.settings.title);if(h.settings.style){c.setAttrib(j,"style",h.settings.style)}if(k.childNodes.length==1){c.addClass(m,"mceFirst")}if((j=m.previousSibling)&&c.hasClass(j,p+"ItemSeparator")){c.addClass(m,"mceFirst")}if(h.collapse){c.addClass(m,p+"ItemSub")}if(j=m.previousSibling){c.removeClass(j,"mceLast")}c.addClass(m,"mceLast")}})})(tinymce);(function(b){var a=b.DOM;b.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(d,c){this.parent(d,c);this.classPrefix="mceButton"},renderHTML:function(){var f=this.classPrefix,e=this.settings,d,c;c=a.encode(e.label||"");d='<a id="'+this.id+'" href="javascript:;" class="'+f+" "+f+"Enabled "+e["class"]+(c?" "+f+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" title="'+a.encode(e.title)+'">';if(e.image){d+='<img class="mceIcon" src="'+e.image+'" />'+c+"</a>"}else{d+='<span class="mceIcon '+e["class"]+'"></span>'+(c?'<span class="'+f+'Label">'+c+"</span>":"")+"</a>"}return d},postRender:function(){var c=this,d=c.settings;b.dom.Event.add(c.id,"click",function(f){if(!c.isDisabled()){return d.onclick.call(d.scope,f)}})}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(h,g){var f=this;f.parent(h,g);f.items=[];f.onChange=new a(f);f.onPostRender=new a(f);f.onAdd=new a(f);f.onRenderMenu=new d.util.Dispatcher(this);f.classPrefix="mceListBox"},select:function(h){var g=this,k,j;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){j=h}else{j=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(l,f){if(j(l.value)){k=1;g.selectByIndex(f);return false}});if(!k){g.selectByIndex(-1)}}},selectByIndex:function(f){var g=this,h,j;if(f!=g.selectedIndex){h=c.get(g.id+"_text");j=g.items[f];if(j){g.selectedValue=j.value;g.selectedIndex=f;c.setHTML(h,c.encode(j.title));c.removeClass(h,"mceTitle")}else{c.setHTML(h,c.encode(g.settings.title));c.addClass(h,"mceTitle");g.selectedValue=g.selectedIndex=null}h=0}},add:function(j,f,h){var g=this;h=h||{};h=d.extend(h,{title:j,value:f});g.items.push(h);g.onAdd.dispatch(g,h)},getLength:function(){return this.items.length},renderHTML:function(){var j="",f=this,g=f.settings,k=f.classPrefix;j='<table id="'+f.id+'" cellpadding="0" cellspacing="0" class="'+k+" "+k+"Enabled"+(g["class"]?(" "+g["class"]):"")+'"><tbody><tr>';j+="<td>"+c.createHTML("a",{id:f.id+"_text",href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},c.encode(f.settings.title))+"</td>";j+="<td>"+c.createHTML("a",{id:f.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},"<span></span>")+"</td>";j+="</tr></tbody></table>";return j},showMenu:function(){var g=this,k,j,h=c.get(this.id),f;if(g.isDisabled()||g.items.length==0){return}if(g.menu&&g.menu.isMenuVisible){return g.hideMenu()}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}k=c.getPos(this.settings.menu_container);j=c.getPos(h);f=g.menu;f.settings.offset_x=j.x;f.settings.offset_y=j.y;f.settings.keyboard_focus=!d.isOpera;if(g.oldID){f.items[g.oldID].setSelected(0)}e(g.items,function(l){if(l.value===g.selectedValue){f.items[l.id].setSelected(1);g.oldID=l.id}});f.showMenu(0,h.clientHeight);b.add(c.doc,"mousedown",g.hideMenu,g);c.addClass(g.id,g.classPrefix+"Selected")},hideMenu:function(g){var f=this;if(f.menu&&f.menu.isMenuVisible){if(g&&g.type=="mousedown"&&(g.target.id==f.id+"_text"||g.target.id==f.id+"_open")){return}if(!g||!c.getParent(g.target,".mceMenu")){c.removeClass(f.id,f.classPrefix+"Selected");b.remove(c.doc,"mousedown",f.hideMenu,f);f.menu.hideMenu()}}},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+"_menu",{menu_line:1,"class":g.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});f.onHideMenu.add(g.hideMenu,g);f.add({title:g.settings.title,"class":"mceMenuItemTitle",onclick:function(){if(g.settings.onselect("")!==false){g.select("")}}});e(g.items,function(h){if(h.value===undefined){f.add({title:h.title,"class":"mceMenuItemTitle",onclick:function(){if(g.settings.onselect("")!==false){g.select("")}}})}else{h.id=c.uniqueId();h.onclick=function(){if(g.settings.onselect(h.value)!==false){g.select(h.value)}};f.add(h)}});g.onRenderMenu.dispatch(g,f);g.menu=f},postRender:function(){var f=this,g=f.classPrefix;b.add(f.id,"click",f.showMenu,f);b.add(f.id+"_text","focus",function(){if(!f._focused){f.keyDownHandler=b.add(f.id+"_text","keydown",function(l){var h=-1,j,k=l.keyCode;e(f.items,function(m,n){if(f.selectedValue==m.value){h=n}});if(k==38){j=f.items[h-1]}else{if(k==40){j=f.items[h+1]}else{if(k==13){j=f.selectedValue;f.selectedValue=null;f.settings.onselect(j);return b.cancel(l)}}}if(j){f.hideMenu();f.select(j.value)}})}f._focused=1});b.add(f.id+"_text","blur",function(){b.remove(f.id+"_text","keydown",f.keyDownHandler);f._focused=0});if(d.isIE6||!c.boxModel){b.add(f.id,"mouseover",function(){if(!c.hasClass(f.id,g+"Disabled")){c.addClass(f.id,g+"Hover")}});b.add(f.id,"mouseout",function(){if(!c.hasClass(f.id,g+"Disabled")){c.removeClass(f.id,g+"Hover")}})}f.onPostRender.dispatch(f,c.get(f.id))},destroy:function(){this.parent();b.clear(this.id+"_text");b.clear(this.id+"_open")}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(g,f){this.parent(g,f);this.classPrefix="mceNativeListBox"},setDisabled:function(f){c.get(this.id).disabled=f},isDisabled:function(){return c.get(this.id).disabled},select:function(h){var g=this,k,j;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){j=h}else{j=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(l,f){if(j(l.value)){k=1;g.selectByIndex(f);return false}});if(!k){g.selectByIndex(-1)}}},selectByIndex:function(f){c.get(this.id).selectedIndex=f+1;this.selectedValue=this.items[f]?this.items[f].value:null},add:function(k,g,f){var j,h=this;f=f||{};f.value=g;if(h.isRendered()){c.add(c.get(this.id),"option",f,k)}j={title:k,value:g,attribs:f};h.items.push(j);h.onAdd.dispatch(h,j)},getLength:function(){return this.items.length},renderHTML:function(){var g,f=this;g=c.createHTML("option",{value:""},"-- "+f.settings.title+" --");e(f.items,function(h){g+=c.createHTML("option",{value:h.value},h.title)});g=c.createHTML("select",{id:f.id,"class":"mceNativeListBox"},g);return g},postRender:function(){var g=this,h;g.rendered=true;function f(k){var j=g.items[k.target.selectedIndex-1];if(j&&(j=j.value)){g.onChange.dispatch(g,j);if(g.settings.onselect){g.settings.onselect(j)}}}b.add(g.id,"change",f);b.add(g.id,"keydown",function(k){var j;b.remove(g.id,"change",h);j=b.add(g.id,"blur",function(){b.add(g.id,"change",f);b.remove(g.id,"blur",j)});if(k.keyCode==13||k.keyCode==32){f(k);return b.cancel(k)}});g.onPostRender.dispatch(g,c.get(g.id))}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(f,e){this.parent(f,e);this.onRenderMenu=new c.util.Dispatcher(this);e.menu_container=e.menu_container||b.doc.body},showMenu:function(){var g=this,k,j,h=b.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}k=b.getPos(g.settings.menu_container);j=b.getPos(h);f=g.menu;f.settings.offset_x=j.x;f.settings.offset_y=j.y;f.settings.vp_offset_x=j.x;f.settings.vp_offset_y=j.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,h.clientHeight);a.add(b.doc,"mousedown",g.hideMenu,g);g.setState("Selected",1);g.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:f.settings.icons});e.onHideMenu.add(f.hideMenu,f);f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&b.getParent(g.target,function(h){return h.id===f.id||h.id===f.id+"_open"})){return}if(!g||!b.getParent(g.target,".mceMenu")){f.setState("Selected",0);a.remove(b.doc,"mousedown",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;a.add(e.id,"click",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(f,e){this.parent(f,e);this.classPrefix="mceSplitButton"},renderHTML:function(){var j,f=this,g=f.settings,e;j="<tbody><tr>";if(g.image){e=b.createHTML("img ",{src:g.image,"class":"mceAction "+g["class"]})}else{e=b.createHTML("span",{"class":"mceAction "+g["class"]},"")}j+="<td>"+b.createHTML("a",{id:f.id+"_action",href:"javascript:;","class":"mceAction "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";e=b.createHTML("span",{"class":"mceOpen "+g["class"]});j+="<td>"+b.createHTML("a",{id:f.id+"_open",href:"javascript:;","class":"mceOpen "+g["class"],onclick:"return false;",onmousedown:"return false;",title:g.title},e)+"</td>";j+="</tr></tbody>";return b.createHTML("table",{id:f.id,"class":"mceSplitButton mceSplitButtonEnabled "+g["class"],cellpadding:"0",cellspacing:"0",onmousedown:"return false;",title:g.title},j)},postRender:function(){var e=this,f=e.settings;if(f.onclick){a.add(e.id+"_action","click",function(){if(!e.isDisabled()){f.onclick(e.value)}})}a.add(e.id+"_open","click",e.showMenu,e);a.add(e.id+"_open","focus",function(){e._focused=1});a.add(e.id+"_open","blur",function(){e._focused=0});if(c.isIE6||!b.boxModel){a.add(e.id,"mouseover",function(){if(!b.hasClass(e.id,"mceSplitButtonDisabled")){b.addClass(e.id,"mceSplitButtonHover")}});a.add(e.id,"mouseout",function(){if(!b.hasClass(e.id,"mceSplitButtonDisabled")){b.removeClass(e.id,"mceSplitButtonHover")}})}},destroy:function(){this.parent();a.clear(this.id+"_action");a.clear(this.id+"_open")}})})(tinymce);(function(d){var c=d.DOM,a=d.dom.Event,b=d.is,e=d.each;d.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(h,g){var f=this;f.parent(h,g);f.settings=g=d.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},f.settings);f.onShowMenu=new d.util.Dispatcher(f);f.onHideMenu=new d.util.Dispatcher(f);f.value=g.default_color},showMenu:function(){var f=this,g,k,j,h;if(f.isDisabled()){return}if(!f.isMenuRendered){f.renderMenu();f.isMenuRendered=true}if(f.isMenuVisible){return f.hideMenu()}j=c.get(f.id);c.show(f.id+"_menu");c.addClass(j,"mceSplitButtonSelected");h=c.getPos(j);c.setStyles(f.id+"_menu",{left:h.x,top:h.y+j.clientHeight,zIndex:200000});j=0;a.add(c.doc,"mousedown",f.hideMenu,f);f.onShowMenu.dispatch(f);if(f._focused){f._keyHandler=a.add(f.id+"_menu","keydown",function(l){if(l.keyCode==27){f.hideMenu()}});c.select("a",f.id+"_menu")[0].focus()}f.isMenuVisible=1},hideMenu:function(g){var f=this;if(g&&g.type=="mousedown"&&c.getParent(g.target,function(h){return h.id===f.id+"_open"})){return}if(!g||!c.getParent(g.target,".mceSplitButtonMenu")){c.removeClass(f.id,"mceSplitButtonSelected");a.remove(c.doc,"mousedown",f.hideMenu,f);a.remove(f.id+"_menu","keydown",f._keyHandler);c.hide(f.id+"_menu")}f.onHideMenu.dispatch(f);f.isMenuVisible=0},renderMenu:function(){var k=this,f,j=0,l=k.settings,p,h,o,g;g=c.add(l.menu_container,"div",{id:k.id+"_menu","class":l.menu_class+" "+l["class"],style:"position:absolute;left:0;top:-1000px;"});f=c.add(g,"div",{"class":l["class"]+" mceSplitButtonMenu"});c.add(f,"span",{"class":"mceMenuLine"});p=c.add(f,"table",{"class":"mceColorSplitMenu"});h=c.add(p,"tbody");j=0;e(b(l.colors,"array")?l.colors:l.colors.split(","),function(m){m=m.replace(/^#/,"");if(!j--){o=c.add(h,"tr");j=l.grid_width-1}p=c.add(o,"td");p=c.add(p,"a",{href:"javascript:;",style:{backgroundColor:"#"+m},_mce_color:"#"+m})});if(l.more_colors_func){p=c.add(h,"tr");p=c.add(p,"td",{colspan:l.grid_width,"class":"mceMoreColors"});p=c.add(p,"a",{id:k.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},l.more_colors_title);a.add(p,"click",function(m){l.more_colors_func.call(l.more_colors_scope||this);return a.cancel(m)})}c.addClass(f,"mceColorSplitMenu");a.add(k.id+"_menu","click",function(m){var n;m=m.target;if(m.nodeName=="A"&&(n=m.getAttribute("_mce_color"))){k.setColor(n)}return a.cancel(m)});return g},setColor:function(g){var f=this;c.setStyle(f.id+"_preview","backgroundColor",g);f.value=g;f.hideMenu();f.settings.onselect(g)},postRender:function(){var f=this,g=f.id;f.parent();c.add(g+"_action","div",{id:g+"_preview","class":"mceColorPreview"});c.setStyle(f.id+"_preview","backgroundColor",f.value)},destroy:function(){this.parent();a.clear(this.id+"_menu");a.clear(this.id+"_more");c.remove(this.id+"_menu")}})})(tinymce);tinymce.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var l=this,e="",g,j,b=tinymce.DOM,m=l.settings,d,a,f,k;k=l.controls;for(d=0;d<k.length;d++){j=k[d];a=k[d-1];f=k[d+1];if(d===0){g="mceToolbarStart";if(j.Button){g+=" mceToolbarStartButton"}else{if(j.SplitButton){g+=" mceToolbarStartSplitButton"}else{if(j.ListBox){g+=" mceToolbarStartListBox"}}}e+=b.createHTML("td",{"class":g},b.createHTML("span",null,"<!-- IE -->"))}if(a&&j.ListBox){if(a.Button||a.SplitButton){e+=b.createHTML("td",{"class":"mceToolbarEnd"},b.createHTML("span",null,"<!-- IE -->"))}}if(b.stdMode){e+='<td style="position: relative">'+j.renderHTML()+"</td>"}else{e+="<td>"+j.renderHTML()+"</td>"}if(f&&j.ListBox){if(f.Button||f.SplitButton){e+=b.createHTML("td",{"class":"mceToolbarStart"},b.createHTML("span",null,"<!-- IE -->"))}}}g="mceToolbarEnd";if(j.Button){g+=" mceToolbarEndButton"}else{if(j.SplitButton){g+=" mceToolbarEndSplitButton"}else{if(j.ListBox){g+=" mceToolbarEndListBox"}}}e+=b.createHTML("td",{"class":g},b.createHTML("span",null,"<!-- IE -->"));return b.createHTML("table",{id:l.id,"class":"mceToolbar"+(m["class"]?" "+m["class"]:""),cellpadding:"0",cellspacing:"0",align:l.settings.align||""},"<tbody><tr>"+e+"</tr></tbody>")}});(function(b){var a=b.util.Dispatcher,c=b.each;b.create("tinymce.AddOnManager",{items:[],urls:{},lookup:{},onAdd:new a(this),get:function(d){return this.lookup[d]},requireLangPack:function(e){var d=b.settings;if(d&&d.language){b.ScriptLoader.add(this.urls[e]+"/langs/"+d.language+".js")}},add:function(e,d){this.items.push(d);this.lookup[e]=d;this.onAdd.dispatch(this,e,d);return d},load:function(h,e,d,g){var f=this;if(f.urls[h]){return}if(e.indexOf("/")!=0&&e.indexOf("://")==-1){e=b.baseURL+"/"+e}f.urls[h]=e.substring(0,e.lastIndexOf("/"));b.ScriptLoader.add(e,d,g)}});b.PluginManager=new b.AddOnManager();b.ThemeManager=new b.AddOnManager()}(tinymce));(function(k){var g=k.each,d=k.extend,l=k.DOM,j=k.dom.Event,f=k.ThemeManager,b=k.PluginManager,e=k.explode,h=k.util.Dispatcher,a,c=0;k.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(k.documentBaseURL)){k.documentBaseURL+="/"}k.baseURL=new k.util.URI(k.documentBaseURL).toAbsolute(k.baseURL);k.baseURI=new k.util.URI(k.baseURL);k.onBeforeUnload=new h(k);j.add(window,"beforeunload",function(m){k.onBeforeUnload.dispatch(k,m)});k.onAddEditor=new h(k);k.onRemoveEditor=new h(k);k.EditorManager=d(k,{editors:[],i18n:{},activeEditor:null,init:function(r){var o=this,q,m=k.ScriptLoader,v,p=[],n;function u(A,B,t){var z=A[B];if(!z){return}if(k.is(z,"string")){t=z.replace(/\.\w+$/,"");t=t?k.resolve(t):0;z=k.resolve(z)}return z.apply(t||this,Array.prototype.slice.call(arguments,2))}r=d({theme:"simple",language:"en"},r);o.settings=r;j.add(document,"init",function(){var s,z;u(r,"onpageload");switch(r.mode){case"exact":s=r.elements||"";if(s.length>0){g(e(s),function(A){if(l.get(A)){n=new k.Editor(A,r);p.push(n);n.render(1)}else{g(document.forms,function(B){g(B.elements,function(C){if(C.name===A){A="mce_editor_"+c++;l.setAttrib(C,"id",A);n=new k.Editor(A,r);p.push(n);n.render(1)}})})}})}break;case"textareas":case"specific_textareas":function t(B,A){return A.constructor===RegExp?A.test(B.className):l.hasClass(B,A)}g(l.select("textarea"),function(A){if(r.editor_deselector&&t(A,r.editor_deselector)){return}if(!r.editor_selector||t(A,r.editor_selector)){v=l.get(A.name);if(!A.id&&!v){A.id=A.name}if(!A.id||o.get(A.id)){A.id=l.uniqueId()}n=new k.Editor(A.id,r);p.push(n);n.render(1)}});break}if(r.oninit){s=z=0;g(p,function(A){z++;if(!A.initialized){A.onInit.add(function(){s++;if(s==z){u(r,"oninit")}})}else{s++}if(s==z){u(r,"oninit")}})}})},get:function(m){if(m===a){return this.editors}return this.editors[m]},getInstanceById:function(m){return this.get(m)},add:function(n){var m=this,o=m.editors;o[n.id]=n;o.push(n);m._setActive(n);m.onAddEditor.dispatch(m,n);if(k.adapter){k.adapter.patchEditor(n)}return n},remove:function(o){var n=this,m,p=n.editors;if(!p[o.id]){return null}delete p[o.id];for(m=0;m<p.length;m++){if(p[m]==o){p.splice(m,1);break}}if(n.activeEditor==o){n._setActive(p[0])}o.destroy();n.onRemoveEditor.dispatch(n,o);return o},execCommand:function(s,q,p){var r=this,o=r.get(p),m;switch(s){case"mceFocus":o.focus();return true;case"mceAddEditor":case"mceAddControl":if(!r.get(p)){new k.Editor(p,r.settings).render()}return true;case"mceAddFrameControl":m=p.window;m.tinyMCE=tinyMCE;m.tinymce=k;k.DOM.doc=m.document;k.DOM.win=m;o=new k.Editor(p.element_id,p);o.render();if(k.isIE){function n(){o.destroy();m.detachEvent("onunload",n);m=m.tinyMCE=m.tinymce=null}m.attachEvent("onunload",n)}p.page_window=null;return true;case"mceRemoveEditor":case"mceRemoveControl":if(o){o.remove()}return true;case"mceToggleEditor":if(!o){r.execCommand("mceAddControl",0,p);return true}if(o.isHidden()){o.show()}else{o.hide()}return true}if(r.activeEditor){return r.activeEditor.execCommand(s,q,p)}return false},execInstanceCommand:function(q,p,o,n){var m=this.get(q);if(m){return m.execCommand(p,o,n)}return false},triggerSave:function(){g(this.editors,function(m){m.save()})},addI18n:function(q,r){var m,n=this.i18n;if(!k.is(q,"string")){g(q,function(s,p){g(s,function(u,t){g(u,function(z,v){if(t==="common"){n[p+"."+v]=z}else{n[p+"."+t+"."+v]=z}})})})}else{g(r,function(s,p){n[q+"."+p]=s})}},_setActive:function(m){this.selectedInstance=this.activeEditor=m}})})(tinymce);(function(n){var o=n.DOM,k=n.dom.Event,f=n.extend,l=n.util.Dispatcher,j=n.each,a=n.isGecko,b=n.isIE,e=n.isWebKit,d=n.is,h=n.ThemeManager,c=n.PluginManager,p=n.inArray,m=n.grep,g=n.explode;n.create("tinymce.Editor",{Editor:function(u,r){var q=this;q.id=q.editorId=u;q.execCommands={};q.queryStateCommands={};q.queryValueCommands={};q.isNotDirty=false;q.plugins={};j(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(s){q[s]=new l(q)});q.settings=r=f({id:u,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:n.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",valid_elements:"@[id|class|style|title|dir<ltr?rtl|lang|xml::lang|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup],a[rel|rev|charset|hreflang|tabindex|accesskey|type|name|href|target|title|class|onfocus|onblur],strong/b,em/i,strike,u,#p,-ol[type|compact],-ul[type|compact],-li,br,img[longdesc|usemap|src|border|alt=|title|hspace|vspace|width|height|align],-sub,-sup,-blockquote[cite],-table[border|cellspacing|cellpadding|width|frame|rules|height|align|summary|bgcolor|background|bordercolor],-tr[rowspan|width|height|align|valign|bgcolor|background|bordercolor],tbody,thead,tfoot,#td[colspan|rowspan|width|height|align|valign|bgcolor|background|bordercolor|scope],#th[colspan|rowspan|width|height|align|valign|scope],caption,-div,-span,-code,-pre,address,-h1,-h2,-h3,-h4,-h5,-h6,hr[size|noshade],-font[face|size|color],dd,dl,dt,cite,abbr,acronym,del[datetime|cite],ins[datetime|cite],object[classid|width|height|codebase|*],param[name|value],embed[type|width|height|src|*],script[src|type],map[name],area[shape|coords|href|alt|target],bdo,button,col[align|char|charoff|span|valign|width],colgroup[align|char|charoff|span|valign|width],dfn,fieldset,form[action|accept|accept-charset|enctype|method],input[accept|alt|checked|disabled|maxlength|name|readonly|size|src|type|value|tabindex|accesskey],kbd,label[for],legend,noscript,optgroup[label|disabled],option[disabled|label|selected|value],q[cite],samp,select[disabled|multiple|name|size],small,textarea[cols|rows|disabled|name|readonly],tt,var,big",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true},r);q.documentBaseURI=new n.util.URI(r.document_base_url||n.documentBaseURL,{base_uri:tinyMCE.baseURI});q.baseURI=n.baseURI;q.execCallback("setup",q)},render:function(u){var v=this,z=v.settings,A=v.id,q=n.ScriptLoader;if(!k.domLoaded){k.add(document,"init",function(){v.render()});return}tinyMCE.settings=z;if(!v.getElement()){return}if(n.isIDevice){return}if(!/TEXTAREA|INPUT/i.test(v.getElement().nodeName)&&z.hidden_input&&o.getParent(A,"form")){o.insertAfter(o.create("input",{type:"hidden",name:A}),A)}if(n.WindowManager){v.windowManager=new n.WindowManager(v)}if(z.encoding=="xml"){v.onGetContent.add(function(s,t){if(t.save){t.content=o.encode(t.content)}})}if(z.add_form_submit_trigger){v.onSubmit.addToTop(function(){if(v.initialized){v.save();v.isNotDirty=1}})}if(z.add_unload_trigger){v._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(v.initialized&&!v.destroyed&&!v.isHidden()){v.save({format:"raw",no_events:true})}})}n.addUnload(v.destroy,v);if(z.submit_patch){v.onBeforeRenderUI.add(function(){var s=v.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){v.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){n.triggerSave();v.isNotDirty=1;return v.formElement._mceOldSubmit(v.formElement)}}s=null})}function r(){if(z.language){q.add(n.baseURL+"/langs/"+z.language+".js")}if(z.theme&&z.theme.charAt(0)!="-"&&!h.urls[z.theme]){h.load(z.theme,"themes/"+z.theme+"/editor_template"+n.suffix+".js")}j(g(z.plugins),function(s){if(s&&s.charAt(0)!="-"&&!c.urls[s]){if(s=="safari"){return}c.load(s,"plugins/"+s+"/editor_plugin"+n.suffix+".js")}});q.loadQueue(function(){if(!v.removed){v.init()}})}r()},init:function(){var v,H=this,I=H.settings,E,B,D=H.getElement(),r,q,F,A,C,G;n.add(H);if(I.theme){I.theme=I.theme.replace(/-/,"");r=h.get(I.theme);H.theme=new r();if(H.theme.init&&I.init_theme){H.theme.init(H,h.urls[I.theme]||n.documentBaseURL.replace(/\/$/,""))}}j(g(I.plugins.replace(/\-/g,"")),function(J){var K=c.get(J),t=c.urls[J]||n.documentBaseURL.replace(/\/$/,""),s;if(K){s=new K(H,t);H.plugins[J]=s;if(s.init){s.init(H,t)}}});if(I.popup_css!==false){if(I.popup_css){I.popup_css=H.documentBaseURI.toAbsolute(I.popup_css)}else{I.popup_css=H.baseURI.toAbsolute("themes/"+I.theme+"/skins/"+I.skin+"/dialog.css")}}if(I.popup_css_add){I.popup_css+=","+H.documentBaseURI.toAbsolute(I.popup_css_add)}H.controlManager=new n.ControlManager(H);if(I.custom_undo_redo){H.onBeforeExecCommand.add(function(t,J,u,K,s){if(J!="Undo"&&J!="Redo"&&J!="mceRepaint"&&(!s||!s.skip_undo)){if(!H.undoManager.hasUndo()){H.undoManager.add()}}});H.onExecCommand.add(function(t,J,u,K,s){if(J!="Undo"&&J!="Redo"&&J!="mceRepaint"&&(!s||!s.skip_undo)){H.undoManager.add()}})}H.onExecCommand.add(function(s,t){if(!/^(FontName|FontSize)$/.test(t)){H.nodeChanged()}});if(a){function z(s,t){if(!t||!t.initial){H.execCommand("mceRepaint")}}H.onUndo.add(z);H.onRedo.add(z);H.onSetContent.add(z)}H.onBeforeRenderUI.dispatch(H,H.controlManager);if(I.render_ui){E=I.width||D.style.width||D.offsetWidth;B=I.height||D.style.height||D.offsetHeight;H.orgDisplay=D.style.display;G=/^[0-9\.]+(|px)$/i;if(G.test(""+E)){E=Math.max(parseInt(E)+(r.deltaWidth||0),100)}if(G.test(""+B)){B=Math.max(parseInt(B)+(r.deltaHeight||0),100)}r=H.theme.renderUI({targetNode:D,width:E,height:B,deltaWidth:I.delta_width,deltaHeight:I.delta_height});H.editorContainer=r.editorContainer}if(document.domain&&location.hostname!=document.domain){n.relaxedDomain=document.domain}o.setStyles(r.sizeContainer||r.editorContainer,{width:E,height:B});B=(r.iframeHeight||B)+(typeof(B)=="number"?(r.deltaHeight||0):"");if(B<100){B=100}H.iframeHTML=I.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">';if(I.document_base_url!=n.documentBaseURL){H.iframeHTML+='<base href="'+H.documentBaseURI.getURI()+'" />'}H.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(n.relaxedDomain){H.iframeHTML+='<script type="text/javascript">document.domain = "'+n.relaxedDomain+'";<\/script>'}A=I.body_id||"tinymce";if(A.indexOf("=")!=-1){A=H.getParam("body_id","","hash");A=A[H.id]||A}C=I.body_class||"";if(C.indexOf("=")!=-1){C=H.getParam("body_class","","hash");C=C[H.id]||""}H.iframeHTML+='</head><body id="'+A+'" class="mceContentBody '+C+'"></body></html>';if(n.relaxedDomain){if(b||(n.isOpera&&parseFloat(opera.version())>=9.5)){F='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+H.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}else{if(n.isOpera){F='javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();ed.setupIframe();})()'}}}v=o.add(r.iframeContainer,"iframe",{id:H.id+"_ifr",src:F||'javascript:""',frameBorder:"0",style:{width:"100%",height:B}});H.contentAreaContainer=r.iframeContainer;o.get(r.editorContainer).style.display=H.orgDisplay;o.get(H.id).style.display="none";if(!b||!n.relaxedDomain){H.setupIframe()}D=v=r=null},setupIframe:function(){var C=this,D=C.settings,u=o.get(C.id),v=C.getDoc(),r,A;if(!b||!n.relaxedDomain){v.open();v.write(C.iframeHTML);v.close()}if(!b){try{if(!D.readonly){v.designMode="On"}}catch(z){}}if(b){A=C.getBody();o.hide(A);if(!D.readonly){A.contentEditable=true}o.show(A)}C.dom=new n.dom.DOMUtils(C.getDoc(),{keep_values:true,url_converter:C.convertURL,url_converter_scope:C,hex_colors:D.force_hex_style_colors,class_filter:D.class_filter,update_styles:1,fix_ie_paragraphs:1,valid_styles:D.valid_styles});C.schema=new n.dom.Schema();C.serializer=new n.dom.Serializer(f(D,{valid_elements:D.verify_html===false?"*[*]":D.valid_elements,dom:C.dom,schema:C.schema}));C.selection=new n.dom.Selection(C.dom,C.getWin(),C.serializer);C.formatter=new n.Formatter(this);C.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b"}],italic:[{inline:"em"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"u"}],forecolor:{inline:"span",styles:{color:"%value"}},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"}},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});j("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(s){C.formatter.register(s,{block:s,remove:"all"})});C.formatter.register(C.settings.formats);C.undoManager=new n.UndoManager(C);C.undoManager.onAdd.add(function(t,s){if(!s.initial){return C.onChange.dispatch(C,s,t)}});C.undoManager.onUndo.add(function(t,s){return C.onUndo.dispatch(C,s,t)});C.undoManager.onRedo.add(function(t,s){return C.onRedo.dispatch(C,s,t)});C.forceBlocks=new n.ForceBlocks(C,{forced_root_block:D.forced_root_block});C.editorCommands=new n.EditorCommands(C);C.serializer.onPreProcess.add(function(s,t){return C.onPreProcess.dispatch(C,t,s)});C.serializer.onPostProcess.add(function(s,t){return C.onPostProcess.dispatch(C,t,s)});C.onPreInit.dispatch(C);if(!D.gecko_spellcheck){C.getBody().spellcheck=0}if(!D.readonly){C._addEvents()}C.controlManager.onPostRender.dispatch(C,C.controlManager);C.onPostRender.dispatch(C);if(D.directionality){C.getBody().dir=D.directionality}if(D.nowrap){C.getBody().style.whiteSpace="nowrap"}if(D.custom_elements){function B(s,t){j(g(D.custom_elements),function(E){var F;if(E.indexOf("~")===0){E=E.substring(1);F="span"}else{F="div"}t.content=t.content.replace(new RegExp("<("+E+")([^>]*)>","g"),"<"+F+' _mce_name="$1"$2>');t.content=t.content.replace(new RegExp("</("+E+")>","g"),"</"+F+">")})}C.onBeforeSetContent.add(B);C.onPostProcess.add(function(s,t){if(t.set){B(s,t)}})}if(D.handle_node_change_callback){C.onNodeChange.add(function(t,s,E){C.execCallback("handle_node_change_callback",C.id,E,-1,-1,true,C.selection.isCollapsed())})}if(D.save_callback){C.onSaveContent.add(function(s,E){var t=C.execCallback("save_callback",C.id,E.content,C.getBody());if(t){E.content=t}})}if(D.onchange_callback){C.onChange.add(function(t,s){C.execCallback("onchange_callback",C,s)})}if(D.convert_newlines_to_brs){C.onBeforeSetContent.add(function(s,t){if(t.initial){t.content=t.content.replace(/\r?\n/g,"<br />")}})}if(D.fix_nesting&&b){C.onBeforeSetContent.add(function(s,t){t.content=C._fixNesting(t.content)})}if(D.preformatted){C.onPostProcess.add(function(s,t){t.content=t.content.replace(/^\s*<pre.*?>/,"");t.content=t.content.replace(/<\/pre>\s*$/,"");if(t.set){t.content='<pre class="mceItemHidden">'+t.content+"</pre>"}})}if(D.verify_css_classes){C.serializer.attribValueFilter=function(G,E){var F,t;if(G=="class"){if(!C.classesRE){t=C.dom.getClasses();if(t.length>0){F="";j(t,function(s){F+=(F?"|":"")+s["class"]});C.classesRE=new RegExp("("+F+")","gi")}}return !C.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(E)||C.classesRE.test(E)?E:""}return E}}if(D.cleanup_callback){C.onBeforeSetContent.add(function(s,t){t.content=C.execCallback("cleanup_callback","insert_to_editor",t.content,t)});C.onPreProcess.add(function(s,t){if(t.set){C.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t)}if(t.get){C.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}});C.onPostProcess.add(function(s,t){if(t.set){t.content=C.execCallback("cleanup_callback","insert_to_editor",t.content,t)}if(t.get){t.content=C.execCallback("cleanup_callback","get_from_editor",t.content,t)}})}if(D.save_callback){C.onGetContent.add(function(s,t){if(t.save){t.content=C.execCallback("save_callback",C.id,t.content,C.getBody())}})}if(D.handle_event_callback){C.onEvent.add(function(s,t,E){if(C.execCallback("handle_event_callback",t,s,E)===false){k.cancel(t)}})}C.onSetContent.add(function(){C.addVisual(C.getBody())});if(D.padd_empty_editor){C.onPostProcess.add(function(s,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}if(a){function q(s,t){j(s.dom.select("a"),function(F){var E=F.parentNode;if(s.dom.isBlock(E)&&E.lastChild===F){s.dom.add(E,"br",{_mce_bogus:1})}})}C.onExecCommand.add(function(s,t){if(t==="CreateLink"){q(s)}});C.onSetContent.add(C.selection.onSetContent.add(q));if(!D.readonly){try{v.designMode="Off";v.designMode="On"}catch(z){}}}setTimeout(function(){if(C.removed){return}C.load({initial:true,format:(D.cleanup_on_startup?"html":"raw")});C.startContent=C.getContent({format:"raw"});C.initialized=true;C.onInit.dispatch(C);C.execCallback("setupcontent_callback",C.id,C.getBody(),C.getDoc());C.execCallback("init_instance_callback",C);C.focus(true);C.nodeChanged({initial:1});if(D.content_css){n.each(g(D.content_css),function(s){C.dom.loadCSS(C.documentBaseURI.toAbsolute(s))})}if(D.auto_focus){setTimeout(function(){var s=n.get(D.auto_focus);s.selection.select(s.getBody(),1);s.selection.collapse(1);s.getWin().focus()},100)}},1);u=null},focus:function(u){var A,r=this,z=r.settings.content_editable,s,q,v=r.getDoc();if(!u){s=r.selection.getRng();if(s.item){q=s.item(0)}if(!z){r.getWin().focus()}if(q&&q.ownerDocument==v){s=v.body.createControlRange();s.addElement(q);s.select()}}if(n.activeEditor!=r){if((A=n.activeEditor)!=null){A.onDeactivate.dispatch(A,r)}r.onActivate.dispatch(r,A)}n._setActive(r)},execCallback:function(v){var q=this,u=q.settings[v],r;if(!u){return}if(q.callbackLookup&&(r=q.callbackLookup[v])){u=r.func;r=r.scope}if(d(u,"string")){r=u.replace(/\.\w+$/,"");r=r?n.resolve(r):0;u=n.resolve(u);q.callbackLookup=q.callbackLookup||{};q.callbackLookup[v]={func:u,scope:r}}return u.apply(r||q,Array.prototype.slice.call(arguments,1))},translate:function(q){var t=this.settings.language||"en",r=n.i18n;if(!q){return""}return r[t+"."+q]||q.replace(/{\#([^}]+)\}/g,function(u,s){return r[t+"."+s]||"{#"+s+"}"})},getLang:function(r,q){return n.i18n[(this.settings.language||"en")+"."+r]||(d(q)?q:"{#"+r+"}")},getParam:function(z,s,q){var t=n.trim,r=d(this.settings[z])?this.settings[z]:s,u;if(q==="hash"){u={};if(d(r,"string")){j(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(A){A=A.split("=");if(A.length>1){u[t(A[0])]=t(A[1])}else{u[t(A[0])]=t(A)}})}else{u=r}return u}return r},nodeChanged:function(u){var q=this,r=q.selection,v=(b?r.getNode():r.getStart())||q.getBody();if(q.initialized){u=u||{};v=b&&v.ownerDocument!=q.getDoc()?q.getBody():v;u.parents=[];q.dom.getParent(v,function(s){if(s.nodeName=="BODY"){return true}u.parents.push(s)});q.onNodeChange.dispatch(q,u?u.controlManager||q.controlManager:q.controlManager,v,r.isCollapsed(),u)}},addButton:function(u,r){var q=this;q.buttons=q.buttons||{};q.buttons[u]=r},addCommand:function(t,r,q){this.execCommands[t]={func:r,scope:q||this}},addQueryStateHandler:function(t,r,q){this.queryStateCommands[t]={func:r,scope:q||this}},addQueryValueHandler:function(t,r,q){this.queryValueCommands[t]={func:r,scope:q||this}},addShortcut:function(s,v,q,u){var r=this,z;if(!r.settings.custom_shortcuts){return false}r.shortcuts=r.shortcuts||{};if(d(q,"string")){z=q;q=function(){r.execCommand(z,false,null)}}if(d(q,"object")){z=q;q=function(){r.execCommand(z[0],z[1],z[2])}}j(g(s),function(t){var A={func:q,scope:u||this,desc:v,alt:false,ctrl:false,shift:false};j(g(t,"+"),function(B){switch(B){case"alt":case"ctrl":case"shift":A[B]=true;break;default:A.charCode=B.charCodeAt(0);A.keyCode=B.toUpperCase().charCodeAt(0)}});r.shortcuts[(A.ctrl?"ctrl":"")+","+(A.alt?"alt":"")+","+(A.shift?"shift":"")+","+A.keyCode]=A});return true},execCommand:function(A,z,C,q){var u=this,v=0,B,r;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(A)&&(!q||!q.skip_focus)){u.focus()}B={};u.onBeforeExecCommand.dispatch(u,A,z,C,B);if(B.terminate){return false}if(u.execCallback("execcommand_callback",u.id,u.selection.getNode(),A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);return true}if(B=u.execCommands[A]){r=B.func.call(B.scope,z,C);if(r!==true){u.onExecCommand.dispatch(u,A,z,C,q);return r}}j(u.plugins,function(s){if(s.execCommand&&s.execCommand(A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);v=1;return false}});if(v){return true}if(u.theme&&u.theme.execCommand&&u.theme.execCommand(A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);return true}if(n.GlobalCommands.execCommand(u,A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);return true}if(u.editorCommands.execCommand(A,z,C)){u.onExecCommand.dispatch(u,A,z,C,q);return true}u.getDoc().execCommand(A,z,C);u.onExecCommand.dispatch(u,A,z,C,q)},queryCommandState:function(v){var r=this,z,u;if(r._isHidden()){return}if(z=r.queryStateCommands[v]){u=z.func.call(z.scope);if(u!==true){return u}}z=r.editorCommands.queryCommandState(v);if(z!==-1){return z}try{return this.getDoc().queryCommandState(v)}catch(q){}},queryCommandValue:function(z){var r=this,v,u;if(r._isHidden()){return}if(v=r.queryValueCommands[z]){u=v.func.call(v.scope);if(u!==true){return u}}v=r.editorCommands.queryCommandValue(z);if(d(v)){return v}try{return this.getDoc().queryCommandValue(z)}catch(q){}},show:function(){var q=this;o.show(q.getContainer());o.hide(q.id);q.load()},hide:function(){var q=this,r=q.getDoc();if(b&&r){r.execCommand("SelectAll")}q.save();o.hide(q.getContainer());o.setStyle(q.id,"display",q.orgDisplay)},isHidden:function(){return !o.isHidden(this.id)},setProgressState:function(q,r,s){this.onSetProgressState.dispatch(this,q,r,s);return q},load:function(u){var q=this,s=q.getElement(),r;if(s){u=u||{};u.load=true;r=q.setContent(d(s.value)?s.value:s.innerHTML,u);u.element=s;if(!u.no_events){q.onLoadContent.dispatch(q,u)}u.element=s=null;return r}},save:function(v){var q=this,u=q.getElement(),r,s;if(!u||!q.initialized){return}v=v||{};v.save=true;if(!v.no_events){q.undoManager.typing=0;q.undoManager.add()}v.element=u;r=v.content=q.getContent(v);if(!v.no_events){q.onSaveContent.dispatch(q,v)}r=v.content;if(!/TEXTAREA|INPUT/i.test(u.nodeName)){u.innerHTML=r;if(s=o.getParent(q.id,"form")){j(s.elements,function(t){if(t.name==q.id){t.value=r;return false}})}}else{u.value=r}v.element=u=null;return r},setContent:function(r,s){var q=this;s=s||{};s.format=s.format||"html";s.set=true;s.content=r;if(!s.no_events){q.onBeforeSetContent.dispatch(q,s)}if(!n.isIE&&(r.length===0||/^\s+$/.test(r))){s.content=q.dom.setHTML(q.getBody(),'<br _mce_bogus="1" />');s.format="raw"}s.content=q.dom.setHTML(q.getBody(),n.trim(s.content));if(s.format!="raw"&&q.settings.cleanup){s.getInner=true;s.content=q.dom.setHTML(q.getBody(),q.serializer.serialize(q.getBody(),s))}if(!s.no_events){q.onSetContent.dispatch(q,s)}return s.content},getContent:function(s){var q=this,r;s=s||{};s.format=s.format||"html";s.get=true;if(!s.no_events){q.onBeforeGetContent.dispatch(q,s)}if(s.format!="raw"&&q.settings.cleanup){s.getInner=true;r=q.serializer.serialize(q.getBody(),s)}else{r=q.getBody().innerHTML}r=r.replace(/^\s*|\s*$/g,"");s.content=r;if(!s.no_events){q.onGetContent.dispatch(q,s)}return s.content},isDirty:function(){var q=this;return n.trim(q.startContent)!=n.trim(q.getContent({format:"raw",no_events:1}))&&!q.isNotDirty},getContainer:function(){var q=this;if(!q.container){q.container=o.get(q.editorContainer||q.id+"_parent")}return q.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return o.get(this.settings.content_element||this.id)},getWin:function(){var q=this,r;if(!q.contentWindow){r=o.get(q.id+"_ifr");if(r){q.contentWindow=r.contentWindow}}return q.contentWindow},getDoc:function(){var r=this,q;if(!r.contentDocument){q=r.getWin();if(q){r.contentDocument=q.document}}return r.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(q,A,z){var r=this,v=r.settings;if(v.urlconverter_callback){return r.execCallback("urlconverter_callback",q,z,true,A)}if(!v.convert_urls||(z&&z.nodeName=="LINK")||q.indexOf("file:")===0){return q}if(v.relative_urls){return r.documentBaseURI.toRelative(q)}q=r.documentBaseURI.toAbsolute(q,v.remove_script_host);return q},addVisual:function(u){var q=this,r=q.settings;u=u||q.getBody();if(!d(q.hasVisual)){q.hasVisual=r.visual}j(q.dom.select("table,a",u),function(t){var s;switch(t.nodeName){case"TABLE":s=q.dom.getAttrib(t,"border");if(!s||s=="0"){if(q.hasVisual){q.dom.addClass(t,r.visual_table_class)}else{q.dom.removeClass(t,r.visual_table_class)}}return;case"A":s=q.dom.getAttrib(t,"name");if(s){if(q.hasVisual){q.dom.addClass(t,"mceItemAnchor")}else{q.dom.removeClass(t,"mceItemAnchor")}}return}});q.onVisualAid.dispatch(q,u,q.hasVisual)},remove:function(){var q=this,r=q.getContainer();q.removed=1;q.hide();q.execCallback("remove_instance_callback",q);q.onRemove.dispatch(q);q.onExecCommand.listeners=[];n.remove(q);o.remove(r)},destroy:function(r){var q=this;if(q.destroyed){return}if(!r){n.removeUnload(q.destroy);tinyMCE.onBeforeUnload.remove(q._beforeUnload);if(q.theme&&q.theme.destroy){q.theme.destroy()}q.controlManager.destroy();q.selection.destroy();q.dom.destroy();if(!q.settings.content_editable){k.clear(q.getWin());k.clear(q.getDoc())}k.clear(q.getBody());k.clear(q.formElement)}if(q.formElement){q.formElement.submit=q.formElement._mceOldSubmit;q.formElement._mceOldSubmit=null}q.contentAreaContainer=q.formElement=q.container=q.settings.content_element=q.bodyElement=q.contentDocument=q.contentWindow=null;if(q.selection){q.selection=q.selection.win=q.selection.dom=q.selection.dom.doc=null}q.destroyed=1},_addEvents:function(){var z=this,v,B=z.settings,A={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};function u(t,D){var s=t.type;if(z.removed){return}if(z.onEvent.dispatch(z,t,D)!==false){z[A[t.fakeType||t.type]].dispatch(z,t,D)}}j(A,function(t,s){switch(s){case"contextmenu":if(n.isOpera){z.dom.bind(z.getBody(),"mousedown",function(D){if(D.ctrlKey){D.fakeType="contextmenu";u(D)}})}else{z.dom.bind(z.getBody(),s,u)}break;case"paste":z.dom.bind(z.getBody(),s,function(D){u(D)});break;case"submit":case"reset":z.dom.bind(z.getElement().form||o.getParent(z.id,"form"),s,u);break;default:z.dom.bind(B.content_editable?z.getBody():z.getDoc(),s,u)}});z.dom.bind(B.content_editable?z.getBody():(a?z.getDoc():z.getWin()),"focus",function(s){z.focus(true)});if(n.isGecko){z.dom.bind(z.getDoc(),"DOMNodeInserted",function(t){var s;t=t.target;if(t.nodeType===1&&t.nodeName==="IMG"&&(s=t.getAttribute("_mce_src"))){t.src=z.documentBaseURI.toAbsolute(s)}})}if(a){function q(){var E=this,G=E.getDoc(),F=E.settings;if(a&&!F.readonly){if(E._isHidden()){try{if(!F.content_editable){G.designMode="On"}}catch(D){}}try{G.execCommand("styleWithCSS",0,false)}catch(D){if(!E._isHidden()){try{G.execCommand("useCSS",0,true)}catch(D){}}}if(!F.table_inline_editing){try{G.execCommand("enableInlineTableEditing",false,false)}catch(D){}}if(!F.object_resizing){try{G.execCommand("enableObjectResizing",false,false)}catch(D){}}}}z.onBeforeExecCommand.add(q);z.onMouseDown.add(q)}if(n.isWebKit){z.onClick.add(function(s,t){t=t.target;if(t.nodeName=="IMG"||(t.nodeName=="A"&&z.dom.hasClass(t,"mceItemAnchor"))){z.selection.getSel().setBaseAndExtent(t,0,t,1)}})}z.onMouseUp.add(z.nodeChanged);z.onKeyUp.add(function(s,t){var D=t.keyCode;if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45||D==46||D==8||(n.isMac&&(D==91||D==93))||t.ctrlKey){z.nodeChanged()}});z.onReset.add(function(){z.setContent(z.startContent,{format:"raw"})});if(B.custom_shortcuts){if(B.custom_undo_redo_keyboard_shortcuts){z.addShortcut("ctrl+z",z.getLang("undo_desc"),"Undo");z.addShortcut("ctrl+y",z.getLang("redo_desc"),"Redo")}z.addShortcut("ctrl+b",z.getLang("bold_desc"),"Bold");z.addShortcut("ctrl+i",z.getLang("italic_desc"),"Italic");z.addShortcut("ctrl+u",z.getLang("underline_desc"),"Underline");for(v=1;v<=6;v++){z.addShortcut("ctrl+"+v,"",["FormatBlock",false,"h"+v])}z.addShortcut("ctrl+7","",["FormatBlock",false,"<p>"]);z.addShortcut("ctrl+8","",["FormatBlock",false,"<div>"]);z.addShortcut("ctrl+9","",["FormatBlock",false,"<address>"]);function C(t){var s=null;if(!t.altKey&&!t.ctrlKey&&!t.metaKey){return s}j(z.shortcuts,function(D){if(n.isMac&&D.ctrl!=t.metaKey){return}else{if(!n.isMac&&D.ctrl!=t.ctrlKey){return}}if(D.alt!=t.altKey){return}if(D.shift!=t.shiftKey){return}if(t.keyCode==D.keyCode||(t.charCode&&t.charCode==D.charCode)){s=D;return false}});return s}z.onKeyUp.add(function(s,t){var D=C(t);if(D){return k.cancel(t)}});z.onKeyPress.add(function(s,t){var D=C(t);if(D){return k.cancel(t)}});z.onKeyDown.add(function(s,t){var D=C(t);if(D){D.func.call(D.scope);return k.cancel(t)}})}if(n.isIE){z.dom.bind(z.getDoc(),"controlselect",function(D){var t=z.resizeInfo,s;D=D.target;if(D.nodeName!=="IMG"){return}if(t){z.dom.unbind(t.node,t.ev,t.cb)}if(!z.dom.hasClass(D,"mceItemNoResize")){ev="resizeend";s=z.dom.bind(D,ev,function(F){var E;F=F.target;if(E=z.dom.getStyle(F,"width")){z.dom.setAttrib(F,"width",E.replace(/[^0-9%]+/g,""));z.dom.setStyle(F,"width","")}if(E=z.dom.getStyle(F,"height")){z.dom.setAttrib(F,"height",E.replace(/[^0-9%]+/g,""));z.dom.setStyle(F,"height","")}})}else{ev="resizestart";s=z.dom.bind(D,"resizestart",k.cancel,k)}t=z.resizeInfo={node:D,ev:ev,cb:s}});z.onKeyDown.add(function(s,t){switch(t.keyCode){case 8:if(z.selection.getRng().item){s.dom.remove(z.selection.getRng().item(0));return k.cancel(t)}}})}if(n.isOpera){z.onClick.add(function(s,t){k.prevent(t)})}if(B.custom_undo_redo){function r(){z.undoManager.typing=0;z.undoManager.add()}z.dom.bind(z.getDoc(),"focusout",function(s){if(!z.removed&&z.undoManager.typing){r()}});z.onKeyUp.add(function(s,t){if((t.keyCode>=33&&t.keyCode<=36)||(t.keyCode>=37&&t.keyCode<=40)||t.keyCode==13||t.keyCode==45||t.ctrlKey){r()}});z.onKeyDown.add(function(t,G){var s,F,E;if(b&&G.keyCode==46){s=z.selection.getRng();if(s.parentElement){F=s.parentElement();if(G.ctrlKey){s.moveEnd("word",1);s.select()}z.selection.getSel().clear();if(s.parentElement()==F){E=z.selection.getBookmark();try{F.innerHTML=F.innerHTML}catch(D){}z.selection.moveToBookmark(E)}G.preventDefault();return}}if((G.keyCode>=33&&G.keyCode<=36)||(G.keyCode>=37&&G.keyCode<=40)||G.keyCode==13||G.keyCode==45){if(z.undoManager.typing){r()}return}if(!z.undoManager.typing){z.undoManager.add();z.undoManager.typing=1}});z.onMouseDown.add(function(){if(z.undoManager.typing){r()}})}},_isHidden:function(){var q;if(!a){return 0}q=this.selection.getSel();return(!q||!q.rangeCount||q.rangeCount==0)},_fixNesting:function(r){var t=[],q;r=r.replace(/<(\/)?([^\s>]+)[^>]*?>/g,function(u,s,z){var v;if(s==="/"){if(!t.length){return""}if(z!==t[t.length-1].tag){for(q=t.length-1;q>=0;q--){if(t[q].tag===z){t[q].close=1;break}}return""}else{t.pop();if(t.length&&t[t.length-1].close){u=u+"</"+t[t.length-1].tag+">";t.pop()}}}else{if(/^(br|hr|input|meta|img|link|param)$/i.test(z)){return u}if(/\/>$/.test(u)){return u}t.push({tag:z})}return u});for(q=t.length-1;q>=0;q--){r+="</"+t[q].tag+">"}return r}})})(tinymce);(function(c){var d=c.each,e,a=true,b=false;c.EditorCommands=function(o){var m=o.dom,q=o.selection,k={state:{},exec:{},value:{}},l=o.settings,p;function r(B,A,z){var v;B=B.toLowerCase();if(v=k.exec[B]){v(B,A,z);return a}return b}function n(z){var v;z=z.toLowerCase();if(v=k.state[z]){return v(z)}return -1}function h(z){var v;z=z.toLowerCase();if(v=k.value[z]){return v(z)}return b}function u(v,z){z=z||"exec";d(v,function(B,A){d(A.toLowerCase().split(","),function(C){k[z][C]=B})})}c.extend(this,{execCommand:r,queryCommandState:n,queryCommandValue:h,addCommands:u});function f(A,z,v){if(z===e){z=b}if(v===e){v=null}return o.getDoc().execCommand(A,z,v)}function t(v){return o.formatter.match(v)}function s(v,z){o.formatter.toggle(v,z?{value:z}:e)}function j(v){p=q.getBookmark(v)}function g(){q.moveToBookmark(p)}u({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){o.undoManager.add()},"Cut,Copy,Paste":function(B){var A=o.getDoc(),v;try{f(B)}catch(z){v=a}if(v||!A.queryCommandSupported(B)){if(c.isGecko){o.windowManager.confirm(o.getLang("clipboard_msg"),function(C){if(C){open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}})}else{o.windowManager.alert(o.getLang("clipboard_no_support"))}}},unlink:function(v){if(q.isCollapsed()){q.select(q.getNode())}f(v);q.collapse(b)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(v){var z=v.substring(7);d("left,center,right,full".split(","),function(A){if(z!=A){o.formatter.remove("align"+A)}});s("align"+z)},"InsertUnorderedList,InsertOrderedList":function(A){var v,z;f(A);v=m.getParent(q.getNode(),"ol,ul");if(v){z=v.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(z.nodeName)){j();m.split(z,v);g()}}},"Bold,Italic,Underline,Strikethrough":function(v){s(v)},"ForeColor,HiliteColor,FontName":function(A,z,v){s(A,v)},FontSize:function(B,A,z){var v,C;if(z>=1&&z<=7){C=c.explode(l.font_size_style_values);v=c.explode(l.font_size_classes);if(v){z=v[z-1]||z}else{z=C[z-1]||z}}s(B,z)},RemoveFormat:function(v){o.formatter.remove(v)},mceBlockQuote:function(v){s("blockquote")},FormatBlock:function(A,z,v){return s(v||"p")},mceCleanup:function(){var v=q.getBookmark();o.setContent(o.getContent({cleanup:a}),{cleanup:a});q.moveToBookmark(v)},mceRemoveNode:function(B,A,z){var v=z||q.getNode();if(v!=o.getBody()){j();o.dom.remove(v,a);g()}},mceSelectNodeDepth:function(B,A,z){var v=0;m.getParent(q.getNode(),function(C){if(C.nodeType==1&&v++==z){q.select(C);return b}},o.getBody())},mceSelectNode:function(A,z,v){q.select(v)},mceInsertContent:function(A,z,v){q.setContent(v)},mceInsertRawHTML:function(A,z,v){q.setContent("tiny_mce_marker");o.setContent(o.getContent().replace(/tiny_mce_marker/g,v))},mceSetContent:function(A,z,v){o.setContent(v)},"Indent,Outdent":function(B){var z,v,A;z=l.indentation;v=/[a-z%]+$/i.exec(z);z=parseInt(z);if(!n("InsertUnorderedList")&&!n("InsertOrderedList")){d(q.getSelectedBlocks(),function(C){if(B=="outdent"){A=Math.max(0,parseInt(C.style.paddingLeft||0)-z);m.setStyle(C,"paddingLeft",A?A+v:"")}else{m.setStyle(C,"paddingLeft",(parseInt(C.style.paddingLeft||0)+z)+v)}})}else{f(B)}},mceRepaint:function(){var z;if(c.isGecko){try{j(a);if(q.getSel()){q.getSel().selectAllChildren(o.getBody())}q.collapse(a);g()}catch(v){}}},mceToggleFormat:function(A,z,v){o.formatter.toggle(v)},InsertHorizontalRule:function(){q.setContent("<hr />")},mceToggleVisualAid:function(){o.hasVisual=!o.hasVisual;o.addVisual()},mceReplaceContent:function(A,z,v){q.setContent(v.replace(/\{\$selection\}/g,q.getContent({format:"text"})))},mceInsertLink:function(B,A,z){var v=m.getParent(q.getNode(),"a");if(c.is(z,"string")){z={href:z}}if(!v){f("CreateLink",b,"javascript:mctmp(0);");d(m.select("a[href=javascript:mctmp(0);]"),function(C){m.setAttribs(C,z)})}else{if(z.href){m.setAttribs(v,z)}else{o.dom.remove(v,a)}}},selectAll:function(){var z=m.getRoot(),v=m.createRng();v.setStart(z,0);v.setEnd(z,z.childNodes.length);o.selection.setRng(v)}});u({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(v){return t("align"+v.substring(7))},"Bold,Italic,Underline,Strikethrough":function(v){return t(v)},mceBlockQuote:function(){return t("blockquote")},Outdent:function(){var v;if(l.inline_styles){if((v=m.getParent(q.getStart(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}if((v=m.getParent(q.getEnd(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}}return n("InsertUnorderedList")||n("InsertOrderedList")||(!l.inline_styles&&!!m.getParent(q.getNode(),"BLOCKQUOTE"))},"InsertUnorderedList,InsertOrderedList":function(v){return m.getParent(q.getNode(),v=="insertunorderedlist"?"UL":"OL")}},"state");u({"FontSize,FontName":function(A){var z=0,v;if(v=m.getParent(q.getNode(),"span")){if(A=="fontsize"){z=v.style.fontSize}else{z=v.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return z}},"value");if(l.custom_undo_redo){u({Undo:function(){o.undoManager.undo()},Redo:function(){o.undoManager.redo()}})}}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(e){var c,d=0,g=[];function f(){return b.trim(e.getContent({format:"raw",no_events:1}))}return c={typing:0,onAdd:new a(c),onUndo:new a(c),onRedo:new a(c),add:function(l){var h,j=e.settings,k;l=l||{};l.content=f();k=g[d];if(k&&k.content==l.content){if(d>0||g.length==1){return null}}if(j.custom_undo_redo_levels){if(g.length>j.custom_undo_redo_levels){for(h=0;h<g.length-1;h++){g[h]=g[h+1]}g.length--;d=g.length}}l.bookmark=e.selection.getBookmark(2,true);if(d<g.length-1){if(d==0){g=[]}else{g.length=d+1}}g.push(l);d=g.length-1;c.onAdd.dispatch(c,l);e.isNotDirty=0;return l},undo:function(){var j,h;if(c.typing){c.add();c.typing=0}if(d>0){j=g[--d];e.setContent(j.content,{format:"raw"});e.selection.moveToBookmark(j.bookmark);c.onUndo.dispatch(c,j)}return j},redo:function(){var h;if(d<g.length-1){h=g[++d];e.setContent(h.content,{format:"raw"});e.selection.moveToBookmark(h.bookmark);c.onRedo.dispatch(c,h)}return h},clear:function(){g=[];d=c.typing=0},hasUndo:function(){return d>0||c.typing},hasRedo:function(){return d<g.length-1}}}})(tinymce);(function(n){var l=n.dom.Event,c=n.isIE,a=n.isGecko,b=n.isOpera,k=n.each,j=n.extend,d=true,h=false;function m(q){var r,p,o;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(q.nodeName)){if(r){p=q.cloneNode(false);p.appendChild(r);r=p}else{r=o=q.cloneNode(false)}r.removeAttribute("id")}}while(q=q.parentNode);if(r){return{wrapper:r,inner:o}}}function g(p,q){var o=q.ownerDocument.createRange();o.setStart(p.endContainer,p.endOffset);o.setEndAfter(q);return o.cloneContents().textContent.length==0}function f(o){o=o.innerHTML;o=o.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-");o=o.replace(/<[^>]+>/g,"");return o.replace(/[ \u00a0\t\r\n]+/g,"")==""}function e(q,s,o){var p,r;if(f(o)){p=s.getParent(o,"ul,ol");if(!s.getParent(p.parentNode,"ul,ol")){s.split(p,o);r=s.create("p",0,'<br _mce_bogus="1" />');s.replace(r,o);q.select(r,1)}return h}return d}n.create("tinymce.ForceBlocks",{ForceBlocks:function(p){var q=this,r=p.settings,u;q.editor=p;q.dom=p.dom;u=(r.forced_root_block||"p").toLowerCase();r.element=u.toUpperCase();p.onPreInit.add(q.setup,q);q.reOpera=new RegExp("(\\u00a0|&#160;|&nbsp;)</"+u+">","gi");q.rePadd=new RegExp("<p( )([^>]+)><\\/p>|<p( )([^>]+)\\/>|<p( )([^>]+)>\\s+<\\/p>|<p><\\/p>|<p\\/>|<p>\\s+<\\/p>".replace(/p/g,u),"gi");q.reNbsp2BR1=new RegExp("<p( )([^>]+)>[\\s\\u00a0]+<\\/p>|<p>[\\s\\u00a0]+<\\/p>".replace(/p/g,u),"gi");q.reNbsp2BR2=new RegExp("<%p()([^>]+)>(&nbsp;|&#160;)<\\/%p>|<%p>(&nbsp;|&#160;)<\\/%p>".replace(/%p/g,u),"gi");q.reBR2Nbsp=new RegExp("<p( )([^>]+)>\\s*<br \\/>\\s*<\\/p>|<p>\\s*<br \\/>\\s*<\\/p>".replace(/p/g,u),"gi");function o(s,t){if(b){t.content=t.content.replace(q.reOpera,"</"+u+">")}t.content=t.content.replace(q.rePadd,"<"+u+"$1$2$3$4$5$6>\u00a0</"+u+">");if(!c&&!b&&t.set){t.content=t.content.replace(q.reNbsp2BR1,"<"+u+"$1$2><br /></"+u+">");t.content=t.content.replace(q.reNbsp2BR2,"<"+u+"$1$2><br /></"+u+">")}else{t.content=t.content.replace(q.reBR2Nbsp,"<"+u+"$1$2>\u00a0</"+u+">")}}p.onBeforeSetContent.add(o);p.onPostProcess.add(o);if(r.forced_root_block){p.onInit.add(q.forceRoots,q);p.onSetContent.add(q.forceRoots,q);p.onBeforeGetContent.add(q.forceRoots,q)}},setup:function(){var p=this,o=p.editor,r=o.settings,v=o.dom,q=o.selection;if(r.forced_root_block){o.onBeforeExecCommand.add(p.forceRoots,p);o.onKeyUp.add(p.forceRoots,p);o.onPreProcess.add(p.forceRoots,p)}if(r.force_br_newlines){if(c){o.onKeyPress.add(function(s,t){var z;if(t.keyCode==13&&q.getNode().nodeName!="LI"){q.setContent('<br id="__" /> ',{format:"raw"});z=v.get("__");z.removeAttribute("id");q.select(z);q.collapse();return l.cancel(t)}})}}if(r.force_p_newlines){if(!c){o.onKeyPress.add(function(s,t){if(t.keyCode==13&&!t.shiftKey&&!p.insertPara(t)){l.cancel(t)}})}else{n.addUnload(function(){p._previousFormats=0});o.onKeyPress.add(function(s,t){p._previousFormats=0;if(t.keyCode==13&&!t.shiftKey&&s.selection.isCollapsed()&&r.keep_styles){p._previousFormats=m(s.selection.getStart())}});o.onKeyUp.add(function(t,A){if(A.keyCode==13&&!A.shiftKey){var z=t.selection.getStart(),s=p._previousFormats;if(!z.hasChildNodes()){z=v.getParent(z,v.isBlock);if(z){z.innerHTML="";if(p._previousFormats){z.appendChild(s.wrapper);s.inner.innerHTML="\uFEFF"}else{z.innerHTML="\uFEFF"}q.select(z,1);t.getDoc().execCommand("Delete",false,null)}}}})}if(a){o.onKeyDown.add(function(s,t){if((t.keyCode==8||t.keyCode==46)&&!t.shiftKey){p.backspaceDelete(t,t.keyCode==8)}})}}if(n.isWebKit){function u(t){var s=q.getRng(),z,C=v.create("div",null," "),B,A=v.getViewPort(t.getWin()).h;s.insertNode(z=v.create("br"));s.setStartAfter(z);s.setEndAfter(z);q.setRng(s);if(q.getSel().focusNode==z.previousSibling){q.select(v.insertAfter(v.doc.createTextNode("\u00a0"),z));q.collapse(d)}v.insertAfter(C,z);B=v.getPos(C).y;v.remove(C);if(B>A){t.getWin().scrollTo(0,B)}}o.onKeyPress.add(function(s,t){if(t.keyCode==13&&(t.shiftKey||(r.force_br_newlines&&!v.getParent(q.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul")))){u(s);l.cancel(t)}})}o.onPreProcess.add(function(s,t){k(v.select("p,h1,h2,h3,h4,h5,h6,div",t.node),function(z){if(f(z)){k(v.select("span,em,strong,b,i",t.node),function(A){if(!A.hasChildNodes()){A.appendChild(s.getDoc().createTextNode("\u00a0"));return h}})}})});if(c){if(r.element!="P"){o.onKeyPress.add(function(s,t){p.lastElm=q.getNode().nodeName});o.onKeyUp.add(function(t,z){var B,A=q.getNode(),s=t.getBody();if(s.childNodes.length===1&&A.nodeName=="P"){A=v.rename(A,r.element);q.select(A);q.collapse();t.nodeChanged()}else{if(z.keyCode==13&&!z.shiftKey&&p.lastElm!="P"){B=v.getParent(A,"p");if(B){v.rename(B,r.element);t.nodeChanged()}}}})}}},find:function(v,q,r){var p=this.editor,o=p.getDoc().createTreeWalker(v,4,null,h),u=-1;while(v=o.nextNode()){u++;if(q==0&&v==r){return u}if(q==1&&u==r){return v}}return -1},forceRoots:function(z,K){var B=this,z=B.editor,O=z.getBody(),L=z.getDoc(),R=z.selection,C=R.getSel(),D=R.getRng(),P=-2,v,I,o,p,M=-16777215;var N,q,Q,H,E,u=O.childNodes,G,F,A;for(G=u.length-1;G>=0;G--){N=u[G];if(N.nodeType===1&&N.getAttribute("_mce_type")){q=null;continue}if(N.nodeType===3||(!B.dom.isBlock(N)&&N.nodeType!==8&&!/^(script|mce:script|style|mce:style)$/i.test(N.nodeName))){if(!q){if(N.nodeType!=3||/[^\s]/g.test(N.nodeValue)){if(P==-2&&D){if(!c){if(D.startContainer.nodeType==1&&(F=D.startContainer.childNodes[D.startOffset])&&F.nodeType==1){A=F.getAttribute("id");F.setAttribute("id","__mce")}else{if(z.dom.getParent(D.startContainer,function(r){return r===O})){I=D.startOffset;o=D.endOffset;P=B.find(O,0,D.startContainer);v=B.find(O,0,D.endContainer)}}}else{if(D.item){p=L.body.createTextRange();p.moveToElementText(D.item(0));D=p}p=L.body.createTextRange();p.moveToElementText(O);p.collapse(1);Q=p.move("character",M)*-1;p=D.duplicate();p.collapse(1);H=p.move("character",M)*-1;p=D.duplicate();p.collapse(0);E=(p.move("character",M)*-1)-H;P=H-Q;v=E}}q=z.dom.create(z.settings.forced_root_block);N.parentNode.replaceChild(q,N);q.appendChild(N)}}else{if(q.hasChildNodes()){q.insertBefore(N,q.firstChild)}else{q.appendChild(N)}}}else{q=null}}if(P!=-2){if(!c){q=O.getElementsByTagName(z.settings.element)[0];D=L.createRange();if(P!=-1){D.setStart(B.find(O,1,P),I)}else{D.setStart(q,0)}if(v!=-1){D.setEnd(B.find(O,1,v),o)}else{D.setEnd(q,0)}if(C){C.removeAllRanges();C.addRange(D)}}else{try{D=C.createRange();D.moveToElementText(O);D.collapse(1);D.moveStart("character",P);D.moveEnd("character",v);D.select()}catch(J){}}}else{if(!c&&(F=z.dom.get("__mce"))){if(A){F.setAttribute("id",A)}else{F.removeAttribute("id")}D=L.createRange();D.setStartBefore(F);D.setEndBefore(F);R.setRng(D)}}},getParentBlock:function(p){var o=this.dom;return o.getParent(p,o.isBlock)},insertPara:function(T){var H=this,z=H.editor,P=z.dom,U=z.getDoc(),Y=z.settings,I=z.selection.getSel(),J=I.getRangeAt(0),X=U.body;var M,N,K,R,Q,u,p,v,B,o,F,W,q,A,L,O=P.getViewPort(z.getWin()),E,G,D;M=U.createRange();M.setStart(I.anchorNode,I.anchorOffset);M.collapse(d);N=U.createRange();N.setStart(I.focusNode,I.focusOffset);N.collapse(d);K=M.compareBoundaryPoints(M.START_TO_END,N)<0;R=K?I.anchorNode:I.focusNode;Q=K?I.anchorOffset:I.focusOffset;u=K?I.focusNode:I.anchorNode;p=K?I.focusOffset:I.anchorOffset;if(R===u&&/^(TD|TH)$/.test(R.nodeName)){if(R.firstChild.nodeName=="BR"){P.remove(R.firstChild)}if(R.childNodes.length==0){z.dom.add(R,Y.element,null,"<br />");W=z.dom.add(R,Y.element,null,"<br />")}else{L=R.innerHTML;R.innerHTML="";z.dom.add(R,Y.element,null,L);W=z.dom.add(R,Y.element,null,"<br />")}J=U.createRange();J.selectNodeContents(W);J.collapse(1);z.selection.setRng(J);return h}if(R==X&&u==X&&X.firstChild&&z.dom.isBlock(X.firstChild)){R=u=R.firstChild;Q=p=0;M=U.createRange();M.setStart(R,0);N=U.createRange();N.setStart(u,0)}R=R.nodeName=="HTML"?U.body:R;R=R.nodeName=="BODY"?R.firstChild:R;u=u.nodeName=="HTML"?U.body:u;u=u.nodeName=="BODY"?u.firstChild:u;v=H.getParentBlock(R);B=H.getParentBlock(u);o=v?v.nodeName:Y.element;if(L=H.dom.getParent(v,"li,pre")){if(L.nodeName=="LI"){return e(z.selection,H.dom,L)}return d}if(v&&(v.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(P.getStyle(v,"position",1)))){o=Y.element;v=null}if(B&&(B.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(P.getStyle(v,"position",1)))){o=Y.element;B=null}if(/(TD|TABLE|TH|CAPTION)/.test(o)||(v&&o=="DIV"&&/left|right/gi.test(P.getStyle(v,"float",1)))){o=Y.element;v=B=null}F=(v&&v.nodeName==o)?v.cloneNode(0):z.dom.create(o);W=(B&&B.nodeName==o)?B.cloneNode(0):z.dom.create(o);W.removeAttribute("id");if(/^(H[1-6])$/.test(o)&&g(J,v)){W=z.dom.create(Y.element)}L=q=R;do{if(L==X||L.nodeType==9||H.dom.isBlock(L)||/(TD|TABLE|TH|CAPTION)/.test(L.nodeName)){break}q=L}while((L=L.previousSibling?L.previousSibling:L.parentNode));L=A=u;do{if(L==X||L.nodeType==9||H.dom.isBlock(L)||/(TD|TABLE|TH|CAPTION)/.test(L.nodeName)){break}A=L}while((L=L.nextSibling?L.nextSibling:L.parentNode));if(q.nodeName==o){M.setStart(q,0)}else{M.setStartBefore(q)}M.setEnd(R,Q);F.appendChild(M.cloneContents()||U.createTextNode(""));try{N.setEndAfter(A)}catch(S){}N.setStart(u,p);W.appendChild(N.cloneContents()||U.createTextNode(""));J=U.createRange();if(!q.previousSibling&&q.parentNode.nodeName==o){J.setStartBefore(q.parentNode)}else{if(M.startContainer.nodeName==o&&M.startOffset==0){J.setStartBefore(M.startContainer)}else{J.setStart(M.startContainer,M.startOffset)}}if(!A.nextSibling&&A.parentNode.nodeName==o){J.setEndAfter(A.parentNode)}else{J.setEnd(N.endContainer,N.endOffset)}J.deleteContents();if(b){z.getWin().scrollTo(0,O.y)}if(F.firstChild&&F.firstChild.nodeName==o){F.innerHTML=F.firstChild.innerHTML}if(W.firstChild&&W.firstChild.nodeName==o){W.innerHTML=W.firstChild.innerHTML}if(f(F)){F.innerHTML="<br />"}function V(Z,s){var r=[],ab,aa,t;Z.innerHTML="";if(Y.keep_styles){aa=s;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(aa.nodeName)){ab=aa.cloneNode(h);P.setAttrib(ab,"id","");r.push(ab)}}while(aa=aa.parentNode)}if(r.length>0){for(t=r.length-1,ab=Z;t>=0;t--){ab=ab.appendChild(r[t])}r[0].innerHTML=b?"&nbsp;":"<br />";return r[0]}else{Z.innerHTML=b?"&nbsp;":"<br />"}}if(f(W)){D=V(W,u)}if(b&&parseFloat(opera.version())<9.5){J.insertNode(F);J.insertNode(W)}else{J.insertNode(W);J.insertNode(F)}W.normalize();F.normalize();function C(r){return U.createTreeWalker(r,NodeFilter.SHOW_TEXT,null,h).nextNode()||r}J=U.createRange();J.selectNodeContents(a?C(D||W):D||W);J.collapse(1);I.removeAllRanges();I.addRange(J);E=z.dom.getPos(W).y;G=W.clientHeight;if(E<O.y||E+G>O.y+O.h){z.getWin().scrollTo(0,E<O.y?E:E-O.h+25)}return h},backspaceDelete:function(v,E){var F=this,u=F.editor,B=u.getBody(),s=u.dom,q,z=u.selection,p=z.getRng(),A=p.startContainer,q,C,D,o;if(!E&&p.collapsed&&A.nodeType==1&&p.startOffset==A.childNodes.length){o=new n.dom.TreeWalker(A.lastChild,A);for(q=A.lastChild;q;q=o.prev()){if(q.nodeType==3){p.setStart(q,q.nodeValue.length);p.collapse(true);z.setRng(p);return}}}if(A&&u.dom.isBlock(A)&&!/^(TD|TH)$/.test(A.nodeName)&&E){if(A.childNodes.length==0||(A.childNodes.length==1&&A.firstChild.nodeName=="BR")){q=A;while((q=q.previousSibling)&&!u.dom.isBlock(q)){}if(q){if(A!=B.firstChild){C=u.dom.doc.createTreeWalker(q,NodeFilter.SHOW_TEXT,null,h);while(D=C.nextNode()){q=D}p=u.getDoc().createRange();p.setStart(q,q.nodeValue?q.nodeValue.length:0);p.setEnd(q,q.nodeValue?q.nodeValue.length:0);z.setRng(p);u.dom.remove(A)}return l.cancel(v)}}}}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each,e=c.extend;c.create("tinymce.ControlManager",{ControlManager:function(f,j){var h=this,g;j=j||{};h.editor=f;h.controls={};h.onAdd=new c.util.Dispatcher(h);h.onPostRender=new c.util.Dispatcher(h);h.prefix=j.prefix||f.id+"_";h._cls={};h.onPostRender.add(function(){d(h.controls,function(k){k.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(h,f){var g=null;if(g=this.get(h)){g.setActive(f)}return g},setDisabled:function(h,f){var g=null;if(g=this.get(h)){g.setDisabled(f)}return g},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(j){var h,g=this,f=g.editor;d(f.plugins,function(k){if(k.createControl){h=k.createControl(j,g);if(h){return false}}});switch(j){case"|":case"separator":return g.createSeparator()}if(!h&&f.buttons&&(h=f.buttons[j])){return g.createButton(j,h)}return g.add(h)},createDropMenu:function(f,o,h){var n=this,j=n.editor,k,g,l,m;o=e({"class":"mceDropDown",constrain:j.settings.constrain_menus},o);o["class"]=o["class"]+" "+j.getParam("skin")+"Skin";if(l=j.getParam("skin_variant")){o["class"]+=" "+j.getParam("skin")+"Skin"+l.substring(0,1).toUpperCase()+l.substring(1)}f=n.prefix+f;m=h||n._cls.dropmenu||c.ui.DropMenu;k=n.controls[f]=new m(f,o);k.onAddItem.add(function(r,q){var p=q.settings;p.title=j.getLang(p.title,p.title);if(!p.onclick){p.onclick=function(s){if(p.cmd){j.execCommand(p.cmd,p.ui||false,p.value)}}}});j.onRemove.add(function(){k.destroy()});if(c.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return n.add(k)},createListBox:function(n,j,m){var h=this,g=h.editor,k,l,f;if(h.get(n)){return null}j.title=g.translate(j.title);j.scope=j.scope||g;if(!j.onselect){j.onselect=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}j=e({title:j.title,"class":"mce_"+n,scope:j.scope,control_manager:h},j);n=h.prefix+n;if(g.settings.use_native_selects){l=new c.ui.NativeListBox(n,j)}else{f=m||h._cls.listbox||c.ui.ListBox;l=new f(n,j)}h.controls[n]=l;if(c.isWebKit){l.onPostRender.add(function(p,o){a.add(o,"mousedown",function(){g.bookmark=g.selection.getBookmark(1)});a.add(o,"focus",function(){g.selection.moveToBookmark(g.bookmark);g.bookmark=null})})}if(l.hideMenu){g.onMouseDown.add(l.hideMenu,l)}return h.add(l)},createButton:function(n,j,m){var h=this,g=h.editor,k,l,f;if(h.get(n)){return null}j.title=g.translate(j.title);j.label=g.translate(j.label);j.scope=j.scope||g;if(!j.onclick&&!j.menu_button){j.onclick=function(){g.execCommand(j.cmd,j.ui||false,j.value)}}j=e({title:j.title,"class":"mce_"+n,unavailable_prefix:g.getLang("unavailable",""),scope:j.scope,control_manager:h},j);n=h.prefix+n;if(j.menu_button){f=m||h._cls.menubutton||c.ui.MenuButton;l=new f(n,j);g.onMouseDown.add(l.hideMenu,l)}else{f=h._cls.button||c.ui.Button;l=new f(n,j)}return h.add(l)},createMenuButton:function(h,f,g){f=f||{};f.menu_button=1;return this.createButton(h,f,g)},createSplitButton:function(n,j,m){var h=this,g=h.editor,k,l,f;if(h.get(n)){return null}j.title=g.translate(j.title);j.scope=j.scope||g;if(!j.onclick){j.onclick=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}if(!j.onselect){j.onselect=function(o){g.execCommand(j.cmd,j.ui||false,o||j.value)}}j=e({title:j.title,"class":"mce_"+n,scope:j.scope,control_manager:h},j);n=h.prefix+n;f=m||h._cls.splitbutton||c.ui.SplitButton;l=h.add(new f(n,j));g.onMouseDown.add(l.hideMenu,l);return l},createColorSplitButton:function(f,o,h){var m=this,k=m.editor,j,l,n,g;if(m.get(f)){return null}o.title=k.translate(o.title);o.scope=o.scope||k;if(!o.onclick){o.onclick=function(p){if(c.isIE){g=k.selection.getBookmark(1)}k.execCommand(o.cmd,o.ui||false,p||o.value)}}if(!o.onselect){o.onselect=function(p){k.execCommand(o.cmd,o.ui||false,p||o.value)}}o=e({title:o.title,"class":"mce_"+f,menu_class:k.getParam("skin")+"Skin",scope:o.scope,more_colors_title:k.getLang("more_colors")},o);f=m.prefix+f;n=h||m._cls.colorsplitbutton||c.ui.ColorSplitButton;l=new n(f,o);k.onMouseDown.add(l.hideMenu,l);k.onRemove.add(function(){l.destroy()});if(c.isIE){l.onShowMenu.add(function(){k.focus();g=k.selection.getBookmark(1)});l.onHideMenu.add(function(){if(g){k.selection.moveToBookmark(g);g=0}})}return m.add(l)},createToolbar:function(l,h,k){var j,g=this,f;l=g.prefix+l;f=k||g._cls.toolbar||c.ui.Toolbar;j=new f(l,h);if(g.get(l)){return null}return g.add(j)},createSeparator:function(g){var f=g||this._cls.separator||c.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){d(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(d){var a=d.util.Dispatcher,e=d.each,c=d.isIE,b=d.isOpera;d.create("tinymce.WindowManager",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new a(g);g.onClose=new a(g);g.params={};g.features={}},open:function(A,h){var z=this,l="",o,n,j=z.editor.settings.dialog_type=="modal",r,q,k,g=d.DOM.getViewPort(),v;A=A||{};h=h||{};q=b?g.w:screen.width;k=b?g.h:screen.height;A.name=A.name||"mc_"+new Date().getTime();A.width=parseInt(A.width||320);A.height=parseInt(A.height||240);A.resizable=true;A.left=A.left||parseInt(q/2)-(A.width/2);A.top=A.top||parseInt(k/2)-(A.height/2);h.inline=false;h.mce_width=A.width;h.mce_height=A.height;h.mce_auto_focus=A.auto_focus;if(j){if(c){A.center=true;A.help=false;A.dialogWidth=A.width+"px";A.dialogHeight=A.height+"px";A.scroll=A.scrollbars||false}}e(A,function(p,f){if(d.is(p,"boolean")){p=p?"yes":"no"}if(!/^(name|url)$/.test(f)){if(c&&j){l+=(l?";":"")+f+":"+p}else{l+=(l?",":"")+f+"="+p}}});z.features=A;z.params=h;z.onOpen.dispatch(z,A,h);v=A.url||A.file;v=d._addVer(v);try{if(c&&j){r=1;window.showModalDialog(v,window,l)}else{r=window.open(v,A.name,l)}}catch(m){}if(!r){alert(z.editor.getLang("popup_blocked"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(j,h,g,n,m,l){var k=d.resolve(j);return new k(h,g,n,m,l)},confirm:function(h,f,j,g){g=g||window;f.call(j||this,g.confirm(this._decode(this.editor.getLang(h,h))))},alert:function(h,f,k,g){var j=this;g=g||window;g.alert(j._decode(j.editor.getLang(h,h)));if(f){f.call(k||j)}},resizeBy:function(f,g,h){h.resizeBy(f,g)},_decode:function(f){return d.DOM.decode(f).replace(/\\n/g,"\n")}})}(tinymce));(function(a){function b(){var d={},c={},e={};function f(k,j,h,g){if(typeof(j)=="string"){j=[j]}a.each(j,function(l){k[l.toLowerCase()]={func:h,scope:g}})}a.extend(this,{add:function(j,h,g){f(d,j,h,g)},addQueryStateHandler:function(j,h,g){f(c,j,h,g)},addQueryValueHandler:function(j,h,g){f(e,j,h,g)},execCommand:function(h,l,k,j,g){if(l=d[l.toLowerCase()]){if(l.func.call(h||l.scope,k,j,g)!==false){return true}}},queryCommandValue:function(){if(cmd=e[cmd.toLowerCase()]){return cmd.func.call(scope||cmd.scope,ui,value,args)}},queryCommandState:function(){if(cmd=c[cmd.toLowerCase()]){return cmd.func.call(scope||cmd.scope,ui,value,args)}}})}a.GlobalCommands=new b()})(tinymce);(function(a){a.Formatter=function(W){var N={},P=a.each,c=W.dom,q=W.selection,t=a.dom.TreeWalker,L=new a.dom.RangeUtils(c),d=W.schema.isValid,H=c.isBlock,l=W.settings.forced_root_block,s=c.nodeIndex,G="\uFEFF",e=/^(src|href|style)$/,T=false,D=true,p,Q={apply:[],remove:[]};function B(X){return X instanceof Array}function m(Y,X){return c.getParents(Y,X,c.getRoot())}function b(X){return X.nodeType===1&&(X.face==="mceinline"||X.style.fontFamily==="mceinline")}function S(X){return X?N[X]:N}function k(X,Y){if(X){if(typeof(X)!=="string"){P(X,function(aa,Z){k(Z,aa)})}else{Y=Y.length?Y:[Y];P(Y,function(Z){if(Z.deep===p){Z.deep=!Z.selector}if(Z.split===p){Z.split=!Z.selector||Z.inline}if(Z.remove===p&&Z.selector&&!Z.inline){Z.remove="none"}if(Z.selector&&Z.inline){Z.mixed=true;Z.block_expand=true}if(typeof(Z.classes)==="string"){Z.classes=Z.classes.split(/\s+/)}});N[X]=Y}}}function U(Z,af,ab){var ac=S(Z),ag=ac[0],ae,Y,ad;function aa(aj){var ai=aj.startContainer,am=aj.startOffset,al,ak;if(ai.nodeType==1||ai.nodeValue===""){ai=ai.nodeType==1?ai.childNodes[am]:ai;if(ai){al=new t(ai,ai.parentNode);for(ak=al.current();ak;ak=al.next()){if(ak.nodeType==3&&!f(ak)){aj.setStart(ak,0);break}}}}return aj}function X(aj,ai){ai=ai||ag;if(aj){P(ai.styles,function(al,ak){c.setStyle(aj,ak,r(al,af))});P(ai.attributes,function(al,ak){c.setAttrib(aj,ak,r(al,af))});P(ai.classes,function(ak){ak=r(ak,af);if(!c.hasClass(aj,ak)){c.addClass(aj,ak)}})}}function ah(aj){var ai=[],al,ak;al=ag.inline||ag.block;ak=c.create(al);X(ak);L.walk(aj,function(am){var an;function ao(ap){var at=ap.nodeName.toLowerCase(),ar=ap.parentNode.nodeName.toLowerCase(),aq;if(g(at,"br")){an=0;if(ag.block){c.remove(ap)}return}if(ag.wrapper&&z(ap,Z,af)){an=0;return}if(ag.block&&!ag.wrapper&&I(at)){ap=c.rename(ap,al);X(ap);ai.push(ap);an=0;return}if(ag.selector){P(ac,function(au){if(c.is(ap,au.selector)&&!b(ap)){X(ap,au);aq=true}});if(!ag.inline||aq){an=0;return}}if(d(al,at)&&d(ar,al)){if(!an){an=ak.cloneNode(T);ap.parentNode.insertBefore(an,ap);ai.push(an)}an.appendChild(ap)}else{an=0;P(a.grep(ap.childNodes),ao);an=0}}P(am,ao)});P(ai,function(ao){var am;function ap(ar){var aq=0;P(ar.childNodes,function(at){if(!f(at)&&!J(at)){aq++}});return aq}function an(aq){var at,ar;P(aq.childNodes,function(au){if(au.nodeType==1&&!J(au)&&!b(au)){at=au;return T}});if(at&&h(at,ag)){ar=at.cloneNode(T);X(ar);c.replace(ar,aq,D);c.remove(at,1)}return ar||aq}am=ap(ao);if(am===0){c.remove(ao,1);return}if(ag.inline||ag.wrapper){if(!ag.exact&&am===1){ao=an(ao)}P(ac,function(aq){P(c.select(aq.inline,ao),function(ar){V(aq,af,ar,aq.exact?ar:null)})});if(z(ao.parentNode,Z,af)){c.remove(ao,1);ao=0;return D}if(ag.merge_with_parents){c.getParent(ao.parentNode,function(aq){if(z(aq,Z,af)){c.remove(ao,1);ao=0;return D}})}if(ao){ao=u(E(ao),ao);ao=u(ao,E(ao,D))}}})}if(ag){if(ab){Y=c.createRng();Y.setStartBefore(ab);Y.setEndAfter(ab);ah(o(Y,ac))}else{if(!q.isCollapsed()||!ag.inline){ae=q.getBookmark();ah(o(q.getRng(D),ac));q.moveToBookmark(ae);q.setRng(aa(q.getRng(D)));W.nodeChanged()}else{R("apply",Z,af)}}}}function C(Z,ai,ac){var ad=S(Z),ak=ad[0],ah,ag,Y;function ab(an){var am=an.startContainer,at=an.startOffset,ar,aq,ao,ap;if(am.nodeType==3&&at>=am.nodeValue.length-1){am=am.parentNode;at=s(am)+1}if(am.nodeType==1){ao=am.childNodes;am=ao[Math.min(at,ao.length-1)];ar=new t(am);if(at>ao.length-1){ar.next()}for(aq=ar.current();aq;aq=ar.next()){if(aq.nodeType==3&&!f(aq)){ap=c.create("a",null,G);aq.parentNode.insertBefore(ap,aq);an.setStart(aq,0);q.setRng(an);c.remove(ap);return}}}}function aa(ap){var ao,an,am;ao=a.grep(ap.childNodes);for(an=0,am=ad.length;an<am;an++){if(V(ad[an],ai,ap,ap)){break}}if(ak.deep){for(an=0,am=ao.length;an<am;an++){aa(ao[an])}}}function ae(am){var an;P(m(am.parentNode).reverse(),function(ao){var ap;if(!an&&ao.id!="_start"&&ao.id!="_end"){ap=z(ao,Z,ai);if(ap&&ap.split!==false){an=ao}}});return an}function X(ap,am,ar,av){var aw,au,at,ao,aq,an;if(ap){an=ap.parentNode;for(aw=am.parentNode;aw&&aw!=an;aw=aw.parentNode){au=aw.cloneNode(T);for(aq=0;aq<ad.length;aq++){if(V(ad[aq],ai,au,au)){au=0;break}}if(au){if(at){au.appendChild(at)}if(!ao){ao=au}at=au}}if(av&&(!ak.mixed||!H(ap))){am=c.split(ap,am)}if(at){ar.parentNode.insertBefore(at,ar);ao.appendChild(ar)}}return am}function aj(am){return X(ae(am),am,am,true)}function af(ao){var an=c.get(ao?"_start":"_end"),am=an[ao?"firstChild":"lastChild"];if(J(am)){am=am[ao?"firstChild":"lastChild"]}c.remove(an,true);return am}function al(am){var an,ao;am=o(am,ad,D);if(ak.split){an=K(am,D);ao=K(am);if(an!=ao){an=O(an,"span",{id:"_start",_mce_type:"bookmark"});ao=O(ao,"span",{id:"_end",_mce_type:"bookmark"});aj(an);aj(ao);an=af(D);ao=af()}else{an=ao=aj(an)}am.startContainer=an.parentNode;am.startOffset=s(an);am.endContainer=ao.parentNode;am.endOffset=s(ao)+1}L.walk(am,function(ap){P(ap,function(aq){aa(aq)})})}if(ac){Y=c.createRng();Y.setStartBefore(ac);Y.setEndAfter(ac);al(Y);return}if(!q.isCollapsed()||!ak.inline){ah=q.getBookmark();al(q.getRng(D));q.moveToBookmark(ah);if(j(Z,ai,q.getStart())){ab(q.getRng(true))}W.nodeChanged()}else{R("remove",Z,ai)}}function F(X,Z,Y){if(j(X,Z,Y)){C(X,Z,Y)}else{U(X,Z,Y)}}function z(Y,X,ad,ab){var Z=S(X),ae,ac,aa;function af(aj,al,am){var ai,ak,ag=al[am],ah;if(ag){if(ag.length===p){for(ai in ag){if(ag.hasOwnProperty(ai)){if(am==="attributes"){ak=c.getAttrib(aj,ai)}else{ak=M(aj,ai)}if(ab&&!ak&&!al.exact){return}if((!ab||al.exact)&&!g(ak,r(ag[ai],ad))){return}}}}else{for(ah=0;ah<ag.length;ah++){if(am==="attributes"?c.getAttrib(aj,ag[ah]):M(aj,ag[ah])){return al}}}}return al}if(Z&&Y){for(ac=0;ac<Z.length;ac++){ae=Z[ac];if(h(Y,ae)&&af(Y,ae,"attributes")&&af(Y,ae,"styles")){if(aa=ae.classes){for(ac=0;ac<aa.length;ac++){if(!c.hasClass(Y,aa[ac])){return}}}return ae}}}}function j(Z,ac,ab){var Y,aa;function X(ad){ad=c.getParent(ad,function(ae){return !!z(ae,Z,ac,true)});return z(ad,Z,ac)}if(ab){return X(ab)}if(q.isCollapsed()){for(aa=Q.apply.length-1;aa>=0;aa--){if(Q.apply[aa].name==Z){return true}}for(aa=Q.remove.length-1;aa>=0;aa--){if(Q.remove[aa].name==Z){return false}}return X(q.getNode())}ab=q.getNode();if(X(ab)){return D}Y=q.getStart();if(Y!=ab){if(X(Y)){return D}}return T}function v(ae,ad){var ab,ac=[],aa={},Z,Y,X;if(q.isCollapsed()){for(Y=0;Y<ae.length;Y++){for(Z=Q.remove.length-1;Z>=0;Z--){X=ae[Y];if(Q.remove[Z].name==X){aa[X]=true;break}}}for(Z=Q.apply.length-1;Z>=0;Z--){for(Y=0;Y<ae.length;Y++){X=ae[Y];if(!aa[X]&&Q.apply[Z].name==X){aa[X]=true;ac.push(X)}}}}ab=q.getStart();c.getParent(ab,function(ah){var ag,af;for(ag=0;ag<ae.length;ag++){af=ae[ag];if(!aa[af]&&z(ah,af,ad)){aa[af]=true;ac.push(af)}}});return ac}function A(ab){var ad=S(ab),aa,Z,ac,Y,X;if(ad){aa=q.getStart();Z=m(aa);for(Y=ad.length-1;Y>=0;Y--){X=ad[Y].selector;if(!X){return D}for(ac=Z.length-1;ac>=0;ac--){if(c.is(Z[ac],X)){return D}}}}return T}a.extend(this,{get:S,register:k,apply:U,remove:C,toggle:F,match:j,matchAll:v,matchNode:z,canApply:A});function h(X,Y){if(g(X,Y.inline)){return D}if(g(X,Y.block)){return D}if(Y.selector){return c.is(X,Y.selector)}}function g(Y,X){Y=Y||"";X=X||"";Y=""+(Y.nodeName||Y);X=""+(X.nodeName||X);return Y.toLowerCase()==X.toLowerCase()}function M(Y,X){var Z=c.getStyle(Y,X);if(X=="color"||X=="backgroundColor"){Z=c.toHex(Z)}if(X=="fontWeight"&&Z==700){Z="bold"}return""+Z}function r(X,Y){if(typeof(X)!="string"){X=X(Y)}else{if(Y){X=X.replace(/%(\w+)/g,function(aa,Z){return Y[Z]||aa})}}return X}function f(X){return X&&X.nodeType===3&&/^([\s\r\n]+|)$/.test(X.nodeValue)}function O(Z,Y,X){var aa=c.create(Y,X);Z.parentNode.insertBefore(aa,Z);aa.appendChild(Z);return aa}function o(X,af,aa){var Z=X.startContainer,ac=X.startOffset,ai=X.endContainer,ad=X.endOffset,ah,ae;function ag(al,am,aj,ak){var an,ao;ak=ak||c.getRoot();for(;;){an=al.parentNode;if(an==ak||(!af[0].block_expand&&H(an))){return al}for(ah=an[am];ah&&ah!=al;ah=ah[aj]){if(ah.nodeType==1&&!J(ah)){return al}if(ah.nodeType==3&&!f(ah)){return al}}al=al.parentNode}return al}if(Z.nodeType==1&&Z.hasChildNodes()){ae=Z.childNodes.length-1;Z=Z.childNodes[ac>ae?ae:ac];if(Z.nodeType==3){ac=0}}if(ai.nodeType==1&&ai.hasChildNodes()){ae=ai.childNodes.length-1;ai=ai.childNodes[ad>ae?ae:ad-1];if(ai.nodeType==3){ad=ai.nodeValue.length}}if(J(Z.parentNode)){Z=Z.parentNode}if(J(Z)){Z=Z.nextSibling||Z}if(J(ai.parentNode)){ai=ai.parentNode}if(J(ai)){ai=ai.previousSibling||ai}if(af[0].inline||af[0].block_expand){Z=ag(Z,"firstChild","nextSibling");ai=ag(ai,"lastChild","previousSibling")}if(af[0].selector&&af[0].expand!==T&&!af[0].inline){function ab(ak,aj){var al,am,an;if(ak.nodeType==3&&ak.nodeValue.length==0&&ak[aj]){ak=ak[aj]}al=m(ak);for(am=0;am<al.length;am++){for(an=0;an<af.length;an++){if(c.is(al[am],af[an].selector)){return al[am]}}}return ak}Z=ab(Z,"previousSibling");ai=ab(ai,"nextSibling")}if(af[0].block||af[0].selector){function Y(ak,aj,am){var al;if(!af[0].wrapper){al=c.getParent(ak,af[0].block)}if(!al){al=c.getParent(ak.nodeType==3?ak.parentNode:ak,H)}if(al&&af[0].wrapper){al=m(al,"ul,ol").reverse()[0]||al}if(!al){al=ak;while(al[aj]&&!H(al[aj])){al=al[aj];if(g(al,"br")){break}}}return al||ak}Z=Y(Z,"previousSibling");ai=Y(ai,"nextSibling");if(af[0].block){if(!H(Z)){Z=ag(Z,"firstChild","nextSibling")}if(!H(ai)){ai=ag(ai,"lastChild","previousSibling")}}}if(Z.nodeType==1){ac=s(Z);Z=Z.parentNode}if(ai.nodeType==1){ad=s(ai)+1;ai=ai.parentNode}return{startContainer:Z,startOffset:ac,endContainer:ai,endOffset:ad}}function V(ad,ac,aa,X){var Z,Y,ab;if(!h(aa,ad)){return T}if(ad.remove!="all"){P(ad.styles,function(af,ae){af=r(af,ac);if(typeof(ae)==="number"){ae=af;X=0}if(!X||g(M(X,ae),af)){c.setStyle(aa,ae,"")}ab=1});if(ab&&c.getAttrib(aa,"style")==""){aa.removeAttribute("style");aa.removeAttribute("_mce_style")}P(ad.attributes,function(ag,ae){var af;ag=r(ag,ac);if(typeof(ae)==="number"){ae=ag;X=0}if(!X||g(c.getAttrib(X,ae),ag)){if(ae=="class"){ag=c.getAttrib(aa,ae);if(ag){af="";P(ag.split(/\s+/),function(ah){if(/mce\w+/.test(ah)){af+=(af?" ":"")+ah}});if(af){c.setAttrib(aa,ae,af);return}}}if(ae=="class"){aa.removeAttribute("className")}if(e.test(ae)){aa.removeAttribute("_mce_"+ae)}aa.removeAttribute(ae)}});P(ad.classes,function(ae){ae=r(ae,ac);if(!X||c.hasClass(X,ae)){c.removeClass(aa,ae)}});Y=c.getAttribs(aa);for(Z=0;Z<Y.length;Z++){if(Y[Z].nodeName.indexOf("_")!==0){return T}}}if(ad.remove!="none"){n(aa,ad);return D}}function n(Z,aa){var X=Z.parentNode,Y;if(aa.block){if(!l){function ab(ad,ac,ae){ad=E(ad,ac,ae);return !ad||(ad.nodeName=="BR"||H(ad))}if(H(Z)&&!H(X)){if(!ab(Z,T)&&!ab(Z.firstChild,D,1)){Z.insertBefore(c.create("br"),Z.firstChild)}if(!ab(Z,D)&&!ab(Z.lastChild,T,1)){Z.appendChild(c.create("br"))}}}else{if(X==c.getRoot()){if(!aa.list_block||!g(Z,aa.list_block)){P(a.grep(Z.childNodes),function(ac){if(d(l,ac.nodeName.toLowerCase())){if(!Y){Y=O(ac,l)}else{Y.appendChild(ac)}}else{Y=0}})}}}}if(aa.selector&&aa.inline&&!g(aa.inline,Z)){return}c.remove(Z,1)}function E(Y,X,Z){if(Y){X=X?"nextSibling":"previousSibling";for(Y=Z?Y:Y[X];Y;Y=Y[X]){if(Y.nodeType==1||!f(Y)){return Y}}}}function J(X){return X&&X.nodeType==1&&X.getAttribute("_mce_type")=="bookmark"}function u(ab,aa){var X,Z,Y;function ad(ag,af){if(ag.nodeName!=af.nodeName){return T}function ae(ai){var aj={};P(c.getAttribs(ai),function(ak){var al=ak.nodeName.toLowerCase();if(al.indexOf("_")!==0&&al!=="style"){aj[al]=c.getAttrib(ai,al)}});return aj}function ah(al,ak){var aj,ai;for(ai in al){if(al.hasOwnProperty(ai)){aj=ak[ai];if(aj===p){return T}if(al[ai]!=aj){return T}delete ak[ai]}}for(ai in ak){if(ak.hasOwnProperty(ai)){return T}}return D}if(!ah(ae(ag),ae(af))){return T}if(!ah(c.parseStyle(c.getAttrib(ag,"style")),c.parseStyle(c.getAttrib(af,"style")))){return T}return D}if(ab&&aa){function ac(af,ae){for(Z=af;Z;Z=Z[ae]){if(Z.nodeType==3&&!f(Z)){return af}if(Z.nodeType==1&&!J(Z)){return Z}}return af}ab=ac(ab,"previousSibling");aa=ac(aa,"nextSibling");if(ad(ab,aa)){for(Z=ab.nextSibling;Z&&Z!=aa;){Y=Z;Z=Z.nextSibling;ab.appendChild(Y)}c.remove(aa);P(a.grep(aa.childNodes),function(ae){ab.appendChild(ae)});return ab}}return aa}function I(X){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(X)}function K(Y,ab){var X,aa,Z;X=Y[ab?"startContainer":"endContainer"];aa=Y[ab?"startOffset":"endOffset"];if(X.nodeType==1){Z=X.childNodes.length-1;if(!ab&&aa){aa--}X=X.childNodes[aa>Z?Z:aa]}return X}function R(ac,Y,ab){var Z,X=Q[ac],ad=Q[ac=="apply"?"remove":"apply"];function ae(){return Q.apply.length||Q.remove.length}function aa(){Q.apply=[];Q.remove=[]}function af(ag){P(Q.apply.reverse(),function(ah){U(ah.name,ah.vars,ag)});P(Q.remove.reverse(),function(ah){C(ah.name,ah.vars,ag)});c.remove(ag,1);aa()}for(Z=X.length-1;Z>=0;Z--){if(X[Z].name==Y){return}}X.push({name:Y,vars:ab});for(Z=ad.length-1;Z>=0;Z--){if(ad[Z].name==Y){ad.splice(Z,1)}}if(ae()){W.getDoc().execCommand("FontName",false,"mceinline");Q.lastRng=q.getRng();P(c.select("font,span"),function(ah){var ag;if(b(ah)){ag=q.getBookmark();af(ah);q.moveToBookmark(ag);W.nodeChanged()}});if(!Q.isListening&&ae()){Q.isListening=true;P("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(ag){W[ag].addToTop(function(ah,ai){if(ae()&&!a.dom.RangeUtils.compareRanges(Q.lastRng,q.getRng())){P(c.select("font,span"),function(ak){var al,aj;if(b(ak)){al=ak.firstChild;if(al){af(ak);aj=c.createRng();aj.setStart(al,al.nodeValue.length);aj.setEnd(al,al.nodeValue.length);q.setRng(aj);ah.nodeChanged()}else{c.remove(ak)}}});if(ai.type=="keyup"||ai.type=="mouseup"){aa()}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(e,a){var d,h,g,c=a.settings;if(c.inline_styles){h=e.explode(c.font_size_style_values);function b(k,j){g.replace(g.create("span",{style:j}),k,1)}d={font:function(k,j){b(j,{backgroundColor:j.style.backgroundColor,color:j.color,fontFamily:j.face,fontSize:h[parseInt(j.size)-1]})},u:function(k,j){b(j,{textDecoration:"underline"})},strike:function(k,j){b(j,{textDecoration:"line-through"})}};function f(j,k){g=j.dom;if(c.convert_fonts_to_spans){e.each(g.select("font,u,strike",k.node),function(l){d[l.nodeName.toLowerCase()](a.dom,l)})}}a.onPreProcess.add(f);a.onInit.add(function(){a.selection.onSetContent.add(f)})}});tinyMCE_GZ.start();tinyMCE.addI18n({en:{common:{edit_confirm:"Do you want to use the WYSIWYG mode for this textarea?",apply:"Apply",insert:"Insert",update:"Update",cancel:"Cancel",close:"Close",browse:"Browse",class_name:"Class",not_set:"-- Not set --",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\nDo you want more information about this issue?",clipboard_no_support:"Currently not supported by your browser, use keyboard shortcuts instead.",popup_blocked:"Sorry, but we have noticed that your popup-blocker has disabled a window that provides application functionality. You will need to disable popup blocking on this site in order to fully utilize this tool.",invalid_data:"Error: Invalid values entered, these are marked in red.",more_colors:"More colors"},contextmenu:{align:"Alignment",left:"Left",center:"Center",right:"Right",full:"Full"},insertdatetime:{date_fmt:"%Y-%m-%d",time_fmt:"%H:%M:%S",insertdate_desc:"Insert date",inserttime_desc:"Insert time",months_long:"January,February,March,April,May,June,July,August,September,October,November,December",months_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",day_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday",day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun"},print:{print_desc:"Print"},preview:{preview_desc:"Preview"},directionality:{ltr_desc:"Direction left to right",rtl_desc:"Direction right to left"},layer:{insertlayer_desc:"Insert new layer",forward_desc:"Move forward",backward_desc:"Move backward",absolute_desc:"Toggle absolute positioning",content:"New layer..."},save:{save_desc:"Save",cancel_desc:"Cancel all changes"},nonbreaking:{nonbreaking_desc:"Insert non-breaking space character"},iespell:{iespell_desc:"Run spell checking",download:"ieSpell not detected. Do you want to install it now?"},advhr:{advhr_desc:"Horizontal rule"},emotions:{emotions_desc:"Emotions"},searchreplace:{search_desc:"Find",replace_desc:"Find/Replace"},advimage:{image_desc:"Insert/edit image"},advlink:{link_desc:"Insert/edit link"},xhtmlxtras:{cite_desc:"Citation",abbr_desc:"Abbreviation",acronym_desc:"Acronym",del_desc:"Deletion",ins_desc:"Insertion",attribs_desc:"Insert/Edit Attributes"},style:{desc:"Edit CSS Style"},paste:{paste_text_desc:"Paste as Plain Text",paste_word_desc:"Paste from Word",selectall_desc:"Select All",plaintext_mode_sticky:"Paste is now in plain text mode. Click again to toggle back to regular paste mode. After you paste something you will be returned to regular paste mode.",plaintext_mode:"Paste is now in plain text mode. Click again to toggle back to regular paste mode."},paste_dlg:{text_title:"Use CTRL+V on your keyboard to paste the text into the window.",text_linebreaks:"Keep linebreaks",word_title:"Use CTRL+V on your keyboard to paste the text into the window."},table:{desc:"Inserts a new table",row_before_desc:"Insert row before",row_after_desc:"Insert row after",delete_row_desc:"Delete row",col_before_desc:"Insert column before",col_after_desc:"Insert column after",delete_col_desc:"Remove column",split_cells_desc:"Split merged table cells",merge_cells_desc:"Merge table cells",row_desc:"Table row properties",cell_desc:"Table cell properties",props_desc:"Table properties",paste_row_before_desc:"Paste table row before",paste_row_after_desc:"Paste table row after",cut_row_desc:"Cut table row",copy_row_desc:"Copy table row",del:"Delete table",row:"Row",col:"Column",cell:"Cell"},autosave:{unload_msg:"The changes you made will be lost if you navigate away from this page.",restore_content:"Restore auto-saved content.",warning_message:"If you restore the saved content, you will lose all the content that is currently in the editor.\n\nAre you sure you want to restore the saved content?."},fullscreen:{desc:"Toggle fullscreen mode"},media:{desc:"Insert / edit embedded media",edit:"Edit embedded media"},fullpage:{desc:"Document properties"},template:{desc:"Insert predefined template content"},visualchars:{desc:"Visual control characters on/off."},spellchecker:{desc:"Toggle spellchecker",menu:"Spellchecker settings",ignore_word:"Ignore word",ignore_words:"Ignore all",langs:"Languages",wait:"Please wait...",sug:"Suggestions",no_sug:"No suggestions",no_mpell:"No misspellings found."},pagebreak:{desc:"Insert page break."},advlist:{types:"Types",def:"Default",lower_alpha:"Lower alpha",lower_greek:"Lower greek",lower_roman:"Lower roman",upper_alpha:"Upper alpha",upper_roman:"Upper roman",circle:"Circle",disc:"Disc",square:"Square"}}});tinyMCE.addI18n({de:{common:{edit_confirm:"Wollen Sie diesen Textbereich mit WYSIWYG bearbeiten?",apply:"\u00DCbernehmen",insert:"Einf\u00FCgen",update:"Aktualisieren",cancel:"Abbrechen",close:"Schlie\u00DFen",browse:"Durchsuchen",class_name:"CSS-Klasse",not_set:"- unbestimmt -",clipboard_msg:"Kopieren, Ausschneiden und Einf\u00FCgen sind im Mozilla Firefox nicht m\u00F6glich.\nM\u00F6chten Sie mehr \u00FCber dieses Problem erfahren?",clipboard_no_support:"Wird derzeit in Ihrem Browser nicht unterst\u00FCtzt. Bitte benutzen Sie stattdessen die Tastenk\u00FCrzel.",popup_blocked:"Leider hat Ihr Popup-Blocker ein Fenster unterbunden, das f\u00FCr den Betrieb dieses Programms n\u00F6tig ist. Bitte deaktivieren Sie den Popup-Blocker f\u00FCr diese Seite.",invalid_data:"Fehler: Sie haben ung\u00FCltige Werte eingegeben (rot markiert).",more_colors:"Weitere Farben"},contextmenu:{align:"Ausrichtung",left:"Linksb\u00FCndig",center:"Zentriert",right:"Rechtsb\u00FCndig",full:"Blocksatz"},insertdatetime:{date_fmt:"%d.%m.%Y",time_fmt:"%H:%M:%S",insertdate_desc:"Datum einf\u00FCgen",inserttime_desc:"Zeit einf\u00FCgen",months_long:"Januar,Februar,M\u00E4rz,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember",months_short:"Jan,Feb,M\u00E4rz,Apr,Mai,Juni,Juli,Aug,Sept,Okt,Nov,Dez",day_long:"Sonntag,Montag,Dienstag,Mittwoch,Donnerstag,Freitag,Samstag,Sonntag",day_short:"So,Mo,Di,Mi,Do,Fr,Sa,So"},print:{print_desc:"Drucken"},preview:{preview_desc:"Vorschau"},directionality:{ltr_desc:"Schrift von links nach rechts",rtl_desc:"Schrift von rechts nach links"},layer:{insertlayer_desc:"Neue Ebene einf\u00FCgen",forward_desc:"Vor verschieben",backward_desc:"Zur\u00FCck verschieben",absolute_desc:"Absolute Positionierung",content:"Neue Ebene..."},save:{save_desc:"Speichern",cancel_desc:"Alle \u00C4nderungen verwerfen"},nonbreaking:{nonbreaking_desc:"Gesch\u00FCtztes Leerzeichen einf\u00FCgen"},iespell:{iespell_desc:"Rechtschreibpr\u00FCfung",download:"ieSpell konnte nicht gefunden werden. Wollen Sie es installieren?"},advhr:{advhr_desc:"Trennlinie"},emotions:{emotions_desc:"Smilies"},searchreplace:{search_desc:"Suchen",replace_desc:"Suchen/Ersetzen"},advimage:{image_desc:"Bild einf\u00FCgen/ersetzen"},advlink:{link_desc:"Link einf\u00FCgen/bearbeiten"},xhtmlxtras:{cite_desc:"Quellenangabe",abbr_desc:"Abk\u00FCrzung",acronym_desc:"Akronym",del_desc:"Entfernter Text",ins_desc:"Eingef\u00FCgter Text",attribs_desc:"Attribute einf\u00FCgen/bearbeiten"},style:{desc:"CSS-Styles bearbeiten"},paste:{paste_text_desc:"Als normalen Text einf\u00FCgen",paste_word_desc:"Mit Formatierungen (aus Word) einf\u00FCgen",selectall_desc:"Alles ausw\u00E4hlen"},paste_dlg:{text_title:"Dr\u00FCcken Sie auf Ihrer Tastatur Strg+V, um den Text einzuf\u00FCgen.",text_linebreaks:"Zeilenumbr\u00FCche beibehalten",word_title:"Dr\u00FCcken Sie auf Ihrer Tastatur Strg+V, um den Text einzuf\u00FCgen."},table:{desc:"Tabelle erstellen/bearbeiten",row_before_desc:"Zeile oberhalb einf\u00FCgen",row_after_desc:"Zeile unterhalb einf\u00FCgen",delete_row_desc:"Zeile l\u00F6schen",col_before_desc:"Spalte links einf\u00FCgen",col_after_desc:"Spalte rechts einf\u00FCgen",delete_col_desc:"Spalte l\u00F6schen",split_cells_desc:"Verbundene Zellen trennen",merge_cells_desc:"Zellen verbinden",row_desc:"Eigenschaften der Zeile",cell_desc:"Eigenschaften der Zelle",props_desc:"Eigenschaften der Tabelle",paste_row_before_desc:"Zeile oberhalb aus der Zwischenablage einf\u00FCgen",paste_row_after_desc:"Zeile unterhalb aus der Zwischenablage einf\u00FCgen",cut_row_desc:"Zeile ausschneiden",copy_row_desc:"Zeile kopieren",del:"Tabelle l\u00F6schen",row:"Zeile",col:"Spalte",cell:"Zelle",cellprops_delta_width:"150"},autosave:{unload_msg:"Ihre \u00C4nderungen werden verloren gehen, wenn Sie die Seite verlassen."},fullscreen:{desc:"Vollbildschirm"},media:{desc:"Multimedia einbetten/bearbeiten",edit:"Multimediaeinbettung bearbeiten"},fullpage:{desc:"Dokument-Eigenschaften"},template:{desc:"Vorgefertigter Vorlageninhalt einf\u00FCgen"},visualchars:{desc:"Sichtbarkeit der Steuerzeichen an/aus"},spellchecker:{desc:"Rechtschreibpr\u00FCfung an/aus",menu:"Einstellungen der Rechtschreibpr\u00FCfung",ignore_word:"Wort ignorieren",ignore_words:"Alle ignorieren",langs:"Sprachen",wait:"Bitte warten...",sug:"Vorschl\u00E4ge",no_sug:"Keine Vorschl\u00E4ge",no_mpell:"Keine Rechtschreibfehler gefunden."},pagebreak:{desc:"Seitenumbruch einf\u00FCgen"}}});(function(o){var p=o.DOM,j=o.dom.Event,l=o.extend,n=o.each,k=o.util.Cookie,m,q=o.explode;o.ThemeManager.requireLangPack("advanced");o.create("tinymce.themes.AdvancedTheme",{sizes:[8,10,12,14,18,24,36],controls:{bold:["bold_desc","Bold"],italic:["italic_desc","Italic"],underline:["underline_desc","Underline"],strikethrough:["striketrough_desc","Strikethrough"],justifyleft:["justifyleft_desc","JustifyLeft"],justifycenter:["justifycenter_desc","JustifyCenter"],justifyright:["justifyright_desc","JustifyRight"],justifyfull:["justifyfull_desc","JustifyFull"],bullist:["bullist_desc","InsertUnorderedList"],numlist:["numlist_desc","InsertOrderedList"],outdent:["outdent_desc","Outdent"],indent:["indent_desc","Indent"],cut:["cut_desc","Cut"],copy:["copy_desc","Copy"],paste:["paste_desc","Paste"],undo:["undo_desc","Undo"],redo:["redo_desc","Redo"],link:["link_desc","mceLink"],unlink:["unlink_desc","unlink"],image:["image_desc","mceImage"],cleanup:["cleanup_desc","mceCleanup"],help:["help_desc","mceHelp"],code:["code_desc","mceCodeEditor"],hr:["hr_desc","InsertHorizontalRule"],removeformat:["removeformat_desc","RemoveFormat"],sub:["sub_desc","subscript"],sup:["sup_desc","superscript"],forecolor:["forecolor_desc","ForeColor"],forecolorpicker:["forecolor_desc","mceForeColor"],backcolor:["backcolor_desc","HiliteColor"],backcolorpicker:["backcolor_desc","mceBackColor"],charmap:["charmap_desc","mceCharMap"],visualaid:["visualaid_desc","mceToggleVisualAid"],anchor:["anchor_desc","mceInsertAnchor"],newdocument:["newdocument_desc","mceNewDocument"],blockquote:["blockquote_desc","mceBlockQuote"]},stateControls:["bold","italic","underline","strikethrough","bullist","numlist","justifyleft","justifycenter","justifyright","justifyfull","sub","sup","blockquote"],init:function(d,c){var b=this,a,e,f;b.editor=d;b.url=c;b.onResolveName=new o.util.Dispatcher(this);b.settings=a=l({theme_advanced_path:true,theme_advanced_toolbar_location:"bottom",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect",theme_advanced_buttons2:"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code",theme_advanced_buttons3:"hr,removeformat,visualaid,|,sub,sup,|,charmap",theme_advanced_blockformats:"p,address,pre,h1,h2,h3,h4,h5,h6",theme_advanced_toolbar_align:"center",theme_advanced_fonts:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:"1,2,3,4,5,6,7",readonly:d.settings.readonly},d.settings);if(!a.font_size_style_values){a.font_size_style_values="8pt,10pt,12pt,14pt,18pt,24pt,36pt"}if(o.is(a.theme_advanced_font_sizes,"string")){a.font_size_style_values=o.explode(a.font_size_style_values);a.font_size_classes=o.explode(a.font_size_classes||"");f={};d.settings.theme_advanced_font_sizes=a.theme_advanced_font_sizes;n(d.getParam("theme_advanced_font_sizes","","hash"),function(g,h){var r;if(h==g&&g>=1&&g<=7){h=g+" ("+b.sizes[g-1]+"pt)";r=a.font_size_classes[g-1];g=a.font_size_style_values[g-1]||(b.sizes[g-1]+"pt")}if(/^\s*\./.test(g)){r=g.replace(/\./g,"")}f[h]=r?{"class":r}:{fontSize:g}});a.theme_advanced_font_sizes=f}if((e=a.theme_advanced_path_location)&&e!="none"){a.theme_advanced_statusbar_location=a.theme_advanced_path_location}if(a.theme_advanced_statusbar_location=="none"){a.theme_advanced_statusbar_location=0}d.onInit.add(function(){if(!d.settings.readonly){d.onNodeChange.add(b._nodeChanged,b)}if(d.settings.content_css!==false){d.dom.loadCSS(d.baseURI.toAbsolute("themes/advanced/skins/"+d.settings.skin+"/content.css"))}});d.onSetProgressState.add(function(v,A,u){var h,g=v.id,z;if(A){b.progressTimer=setTimeout(function(){h=v.getContainer();h=h.insertBefore(p.create("DIV",{style:"position:relative"}),h.firstChild);z=p.get(v.id+"_tbl");p.add(h,"div",{id:g+"_blocker","class":"mceBlocker",style:{width:z.clientWidth+2,height:z.clientHeight+2}});p.add(h,"div",{id:g+"_progress","class":"mceProgress",style:{left:z.clientWidth/2,top:z.clientHeight/2}})},u||0)}else{p.remove(g+"_blocker");p.remove(g+"_progress");clearTimeout(b.progressTimer)}});p.loadCSS(a.editor_css?d.documentBaseURI.toAbsolute(a.editor_css):c+"/skins/"+d.settings.skin+"/ui.css");if(a.skin_variant){p.loadCSS(c+"/skins/"+d.settings.skin+"/ui_"+a.skin_variant+".css")}},createControl:function(a,d){var c,b;if(b=d.createControl(a)){return b}switch(a){case"styleselect":return this._createStyleSelect();case"formatselect":return this._createBlockFormats();case"fontselect":return this._createFontSelect();case"fontsizeselect":return this._createFontSizeSelect();case"forecolor":return this._createForeColorMenu();case"backcolor":return this._createBackColorMenu()}if((c=this.controls[a])){return d.createButton(a,{title:"advanced."+c[0],cmd:c[1],ui:c[2],value:c[3]})}},execCommand:function(b,c,a){var d=this["_"+b];if(d){d.call(this,c,a);return true}return false},_importClasses:function(a){var c=this.editor,b=c.controlManager.get("styleselect");if(b.getLength()==0){n(c.dom.getClasses(),function(f,e){var d="style_"+e;c.formatter.register(d,{inline:"span",attributes:{"class":f["class"]},selector:"*"});b.add(f["class"],d)})}},_createStyleSelect:function(a){var c=this,e=c.editor,d=e.controlManager,b;b=d.createListBox("styleselect",{title:"advanced.style_select",onselect:function(g){var f,h=[];n(b.items,function(r){h.push(r.value)});e.focus();e.undoManager.add();f=e.formatter.matchAll(h);if(!g||f[0]==g){e.formatter.remove(f[0])}else{e.formatter.apply(g)}e.undoManager.add();e.nodeChanged();return false}});e.onInit.add(function(){var f=0,g=e.getParam("style_formats");if(g){n(g,function(t){var s,h=0;n(t,function(){h++});if(h>1){s=t.name=t.name||"style_"+(f++);e.formatter.register(s,t);b.add(t.title,s)}else{b.add(t.title)}})}else{n(e.getParam("theme_advanced_styles","","hash"),function(h,s){var t;if(h){t="style_"+(f++);e.formatter.register(t,{inline:"span",classes:h,selector:"*"});b.add(c.editor.translate(s),t)}})}});if(b.getLength()==0){b.onPostRender.add(function(g,f){if(!b.NativeListBox){j.add(f.id+"_text","focus",c._importClasses,c);j.add(f.id+"_text","mousedown",c._importClasses,c);j.add(f.id+"_open","focus",c._importClasses,c);j.add(f.id+"_open","mousedown",c._importClasses,c)}else{j.add(f.id,"focus",c._importClasses,c)}})}return b},_createFontSelect:function(){var a,b=this,c=b.editor;a=c.controlManager.createListBox("fontselect",{title:"advanced.fontdefault",onselect:function(e){var d=a.items[a.selectedIndex];if(!e&&d){c.execCommand("FontName",false,d.value);return}c.execCommand("FontName",false,e);a.select(function(f){return e==f});return false}});if(a){n(c.getParam("theme_advanced_fonts",b.settings.theme_advanced_fonts,"hash"),function(d,e){a.add(c.translate(e),d,{style:d.indexOf("dings")==-1?"font-family:"+d:""})})}return a},_createFontSizeSelect:function(){var a=this,c=a.editor,e,b=0,d=[];e=c.controlManager.createListBox("fontsizeselect",{title:"advanced.font_size",onselect:function(f){var g=e.items[e.selectedIndex];if(!f&&g){g=g.value;if(g["class"]){c.formatter.toggle("fontsize_class",{value:g["class"]});c.undoManager.add();c.nodeChanged()}else{c.execCommand("FontSize",false,g.fontSize)}return}if(f["class"]){c.focus();c.undoManager.add();c.formatter.toggle("fontsize_class",{value:f["class"]});c.undoManager.add();c.nodeChanged()}else{c.execCommand("FontSize",false,f.fontSize)}e.select(function(h){return f==h});return false}});if(e){n(a.settings.theme_advanced_font_sizes,function(h,f){var g=h.fontSize;if(g>=1&&g<=7){g=a.sizes[parseInt(g)-1]+"pt"}e.add(f,h,{style:"font-size:"+g,"class":"mceFontSize"+(b++)+(" "+(h["class"]||""))})})}return e},_createBlockFormats:function(){var a,c={p:"advanced.paragraph",address:"advanced.address",pre:"advanced.pre",h1:"advanced.h1",h2:"advanced.h2",h3:"advanced.h3",h4:"advanced.h4",h5:"advanced.h5",h6:"advanced.h6",div:"advanced.div",blockquote:"advanced.blockquote",code:"advanced.code",dt:"advanced.dt",dd:"advanced.dd",samp:"advanced.samp"},b=this;a=b.editor.controlManager.createListBox("formatselect",{title:"advanced.block",cmd:"FormatBlock"});if(a){n(b.editor.getParam("theme_advanced_blockformats",b.settings.theme_advanced_blockformats,"hash"),function(d,e){a.add(b.editor.translate(e!=d?e:c[d]),d,{"class":"mce_formatPreview mce_"+d})})}return a},_createForeColorMenu:function(){var a,d=this,c=d.settings,b={},e;if(c.theme_advanced_more_colors){b.more_colors_func=function(){d._mceColorPicker(0,{color:a.value,func:function(f){a.setColor(f)}})}}if(e=c.theme_advanced_text_colors){b.colors=e}if(c.theme_advanced_default_foreground_color){b.default_color=c.theme_advanced_default_foreground_color}b.title="advanced.forecolor_desc";b.cmd="ForeColor";b.scope=this;a=d.editor.controlManager.createColorSplitButton("forecolor",b);return a},_createBackColorMenu:function(){var a,d=this,c=d.settings,b={},e;if(c.theme_advanced_more_colors){b.more_colors_func=function(){d._mceColorPicker(0,{color:a.value,func:function(f){a.setColor(f)}})}}if(e=c.theme_advanced_background_colors){b.colors=e}if(c.theme_advanced_default_background_color){b.default_color=c.theme_advanced_default_background_color}b.title="advanced.backcolor_desc";b.cmd="HiliteColor";b.scope=this;a=d.editor.controlManager.createColorSplitButton("backcolor",b);return a},renderUI:function(e){var c,d,b,s=this,a=s.editor,h=s.settings,t,f,g;c=f=p.create("span",{id:a.id+"_parent","class":"mceEditor "+a.settings.skin+"Skin"+(h.skin_variant?" "+a.settings.skin+"Skin"+s._ufirst(h.skin_variant):"")});if(!p.boxModel){c=p.add(c,"div",{"class":"mceOldBoxModel"})}c=t=p.add(c,"table",{id:a.id+"_tbl","class":"mceLayout",cellSpacing:0,cellPadding:0});c=b=p.add(c,"tbody");switch((h.theme_advanced_layout_manager||"").toLowerCase()){case"rowlayout":d=s._rowLayout(h,b,e);break;case"customlayout":d=a.execCallback("theme_advanced_custom_layout",h,b,e,f);break;default:d=s._simpleLayout(h,b,e,f)}c=e.targetNode;g=p.stdMode?t.getElementsByTagName("tr"):t.rows;p.addClass(g[0],"mceFirst");p.addClass(g[g.length-1],"mceLast");n(p.select("tr",b),function(r){p.addClass(r.firstChild,"mceFirst");p.addClass(r.childNodes[r.childNodes.length-1],"mceLast")});if(p.get(h.theme_advanced_toolbar_container)){p.get(h.theme_advanced_toolbar_container).appendChild(f)}else{p.insertAfter(f,c)}j.add(a.id+"_path_row","click",function(r){r=r.target;if(r.nodeName=="A"){s._sel(r.className.replace(/^.*mcePath_([0-9]+).*$/,"$1"));return j.cancel(r)}});if(!a.getParam("accessibility_focus")){j.add(p.add(f,"a",{href:"#"},"<!-- IE -->"),"focus",function(){tinyMCE.get(a.id).focus()})}if(h.theme_advanced_toolbar_location=="external"){e.deltaHeight=0}s.deltaHeight=e.deltaHeight;e.targetNode=null;return{iframeContainer:d,editorContainer:a.id+"_parent",sizeContainer:t,deltaHeight:e.deltaHeight}},getInfo:function(){return{longname:"Advanced theme",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",version:o.majorVersion+"."+o.minorVersion}},resizeBy:function(c,b){var a=p.get(this.editor.id+"_tbl");this.resizeTo(a.clientWidth+c,a.clientHeight+b)},resizeTo:function(e,b){var d=this.editor,c=this.settings,a=p.get(d.id+"_tbl"),f=p.get(d.id+"_ifr");e=Math.max(c.theme_advanced_resizing_min_width||100,e);b=Math.max(c.theme_advanced_resizing_min_height||100,b);e=Math.min(c.theme_advanced_resizing_max_width||65535,e);b=Math.min(c.theme_advanced_resizing_max_height||65535,b);p.setStyle(a,"height","");p.setStyle(f,"height",b);if(c.theme_advanced_resize_horizontal){p.setStyle(a,"width","");p.setStyle(f,"width",e);if(e<a.clientWidth){p.setStyle(f,"width",a.clientWidth)}}},destroy:function(){var a=this.editor.id;j.clear(a+"_resize");j.clear(a+"_path_row");j.clear(a+"_external_close")},_simpleLayout:function(h,a,e,g){var s=this,A=s.editor,z=h.theme_advanced_toolbar_location,c=h.theme_advanced_statusbar_location,d,f,b,t;if(h.readonly){d=p.add(a,"tr");d=f=p.add(d,"td",{"class":"mceIframeContainer"});return f}if(z=="top"){s._addToolbars(a,e)}if(z=="external"){d=t=p.create("div",{style:"position:relative"});d=p.add(d,"div",{id:A.id+"_external","class":"mceExternalToolbar"});p.add(d,"a",{id:A.id+"_external_close",href:"javascript:;","class":"mceExternalClose"});d=p.add(d,"table",{id:A.id+"_tblext",cellSpacing:0,cellPadding:0});b=p.add(d,"tbody");if(g.firstChild.className=="mceOldBoxModel"){g.firstChild.appendChild(t)}else{g.insertBefore(t,g.firstChild)}s._addToolbars(b,e);A.onMouseUp.add(function(){var r=p.get(A.id+"_external");p.show(r);p.hide(m);var u=j.add(A.id+"_external_close","click",function(){p.hide(A.id+"_external");j.remove(A.id+"_external_close","click",u)});p.show(r);p.setStyle(r,"top",0-p.getRect(A.id+"_tblext").h-1);p.hide(r);p.show(r);r.style.filter="";m=A.id+"_external";r=null})}if(c=="top"){s._addStatusBar(a,e)}if(!h.theme_advanced_toolbar_container){d=p.add(a,"tr");d=f=p.add(d,"td",{"class":"mceIframeContainer"})}if(z=="bottom"){s._addToolbars(a,e)}if(c=="bottom"){s._addStatusBar(a,e)}return f},_rowLayout:function(t,d,f){var z=this,c=z.editor,A,s,h=c.controlManager,e,g,a,b;A=t.theme_advanced_containers_default_class||"";s=t.theme_advanced_containers_default_align||"center";n(q(t.theme_advanced_containers||""),function(r,u){var v=t["theme_advanced_container_"+r]||"";switch(v.toLowerCase()){case"mceeditor":e=p.add(d,"tr");e=g=p.add(e,"td",{"class":"mceIframeContainer"});break;case"mceelementpath":z._addStatusBar(d,f);break;default:b=(t["theme_advanced_container_"+r+"_align"]||s).toLowerCase();b="mce"+z._ufirst(b);e=p.add(p.add(d,"tr"),"td",{"class":"mceToolbar "+(t["theme_advanced_container_"+r+"_class"]||A)+" "+b||s});a=h.createToolbar("toolbar"+u);z._addControls(v,a);p.setHTML(e,a.renderHTML());f.deltaHeight-=t.theme_advanced_row_height}});return g},_addControls:function(d,e){var c=this,b=c.settings,a,f=c.editor.controlManager;if(b.theme_advanced_disable&&!c._disabled){a={};n(q(b.theme_advanced_disable),function(g){a[g]=1});c._disabled=a}else{a=c._disabled}n(q(d),function(g){var h;if(a&&a[g]){return}if(g=="tablecontrols"){n(["table","|","row_props","cell_props","|","row_before","row_after","delete_row","|","col_before","col_after","delete_col","|","split_cells","merge_cells"],function(r){r=c.createControl(r,f);if(r){e.add(r)}});return}h=c.createControl(g,f);if(h){e.add(h)}})},_addToolbars:function(B,g){var s=this,c,e,a=s.editor,d=s.settings,t,h=a.controlManager,C,f,b=[],v;v=d.theme_advanced_toolbar_align.toLowerCase();v="mce"+s._ufirst(v);f=p.add(p.add(B,"tr"),"td",{"class":"mceToolbar "+v});if(!a.getParam("accessibility_focus")){b.push(p.createHTML("a",{href:"#",onfocus:"tinyMCE.get('"+a.id+"').focus();"},"<!-- IE -->"))}b.push(p.createHTML("a",{href:"#",accesskey:"q",title:a.getLang("advanced.toolbar_focus")},"<!-- IE -->"));for(c=1;(t=d["theme_advanced_buttons"+c]);c++){e=h.createToolbar("toolbar"+c,{"class":"mceToolbarRow"+c});if(d["theme_advanced_buttons"+c+"_add"]){t+=","+d["theme_advanced_buttons"+c+"_add"]}if(d["theme_advanced_buttons"+c+"_add_before"]){t=d["theme_advanced_buttons"+c+"_add_before"]+","+t}s._addControls(t,e);b.push(e.renderHTML());g.deltaHeight-=d.theme_advanced_row_height}b.push(p.createHTML("a",{href:"#",accesskey:"z",title:a.getLang("advanced.toolbar_focus"),onfocus:"tinyMCE.getInstanceById('"+a.id+"').focus();"},"<!-- IE -->"));p.setHTML(f,b.join(""))},_addStatusBar:function(c,f){var e,r=this,b=r.editor,h=r.settings,g,a,s,d;e=p.add(c,"tr");e=d=p.add(e,"td",{"class":"mceStatusbar"});e=p.add(e,"div",{id:b.id+"_path_row"},h.theme_advanced_path?b.translate("advanced.path")+": ":"&#160;");p.add(e,"a",{href:"#",accesskey:"x"});if(h.theme_advanced_resizing){p.add(d,"a",{id:b.id+"_resize",href:"javascript:;",onclick:"return false;","class":"mceResize"});if(h.theme_advanced_resizing_use_cookie){b.onPostRender.add(function(){var u=k.getHash("TinyMCE_"+b.id+"_size"),t=p.get(b.id+"_tbl");if(!u){return}r.resizeTo(u.cw,u.ch)})}b.onPostRender.add(function(){j.add(b.id+"_resize","mousedown",function(u){var P,v,R,I,G,L,J,O,K,Q,N;function M(t){K=J+(t.screenX-G);Q=O+(t.screenY-L);r.resizeTo(K,Q)}function H(t){j.remove(p.doc,"mousemove",P);j.remove(b.getDoc(),"mousemove",v);j.remove(p.doc,"mouseup",R);j.remove(b.getDoc(),"mouseup",I);if(h.theme_advanced_resizing_use_cookie){k.setHash("TinyMCE_"+b.id+"_size",{cw:K,ch:Q})}}u.preventDefault();G=u.screenX;L=u.screenY;N=p.get(r.editor.id+"_ifr");J=K=N.clientWidth;O=Q=N.clientHeight;P=j.add(p.doc,"mousemove",M);v=j.add(b.getDoc(),"mousemove",M);R=j.add(p.doc,"mouseup",H);I=j.add(b.getDoc(),"mouseup",H)})})}f.deltaHeight-=21;e=c=null},_nodeChanged:function(b,F,s,H,v){var d=this,E,G=0,e,J,a=d.settings,g,t,I,h,c;o.each(d.stateControls,function(r){F.setActive(r,b.queryCommandState(d.controls[r][1]))});function f(z){var u,A=v.parents,r=z;if(typeof(z)=="string"){r=function(B){return B.nodeName==z}}for(u=0;u<A.length;u++){if(r(A[u])){return A[u]}}}F.setActive("visualaid",b.hasVisual);F.setDisabled("undo",!b.undoManager.hasUndo()&&!b.typing);F.setDisabled("redo",!b.undoManager.hasRedo());F.setDisabled("outdent",!b.queryCommandState("Outdent"));E=f("A");if(J=F.get("link")){if(!E||!E.name){J.setDisabled(!E&&H);J.setActive(!!E)}}if(J=F.get("unlink")){J.setDisabled(!E&&H);J.setActive(!!E&&!E.name)}if(J=F.get("anchor")){J.setActive(!!E&&E.name)}E=f("IMG");if(J=F.get("image")){J.setActive(!!E&&s.className.indexOf("mceItem")==-1)}if(J=F.get("styleselect")){d._importClasses();h=[];n(J.items,function(r){h.push(r.value)});c=b.formatter.matchAll(h);J.select(c[0])}if(J=F.get("formatselect")){E=f(p.isBlock);if(E){J.select(E.nodeName.toLowerCase())}}f(function(r){if(r.nodeName==="SPAN"){if(!g&&r.className){g=r.className}if(!t&&r.style.fontSize){t=r.style.fontSize}if(!I&&r.style.fontFamily){I=r.style.fontFamily.replace(/[\"\']+/g,"").replace(/^([^,]+).*/,"$1").toLowerCase()}}return false});if(J=F.get("fontselect")){J.select(function(r){return r.replace(/^([^,]+).*/,"$1").toLowerCase()==I})}if(J=F.get("fontsizeselect")){if(a.theme_advanced_runtime_fontsize&&!t&&!g){t=b.dom.getStyle(s,"fontSize",true)}J.select(function(r){if(r.fontSize&&r.fontSize===t){return true}if(r["class"]&&r["class"]===g){return true}})}if(a.theme_advanced_path&&a.theme_advanced_statusbar_location){E=p.get(b.id+"_path")||p.add(b.id+"_path_row","span",{id:b.id+"_path"});p.setHTML(E,"");f(function(A){var B=A.nodeName.toLowerCase(),z,r,u="";if(A.nodeType!=1||A.nodeName==="BR"||(p.hasClass(A,"mceItemHidden")||p.hasClass(A,"mceItemRemoved"))){return}if(e=p.getAttrib(A,"mce_name")){B=e}if(o.isIE&&A.scopeName!=="HTML"){B=A.scopeName+":"+B}B=B.replace(/mce\:/g,"");switch(B){case"b":B="strong";break;case"i":B="em";break;case"img":if(e=p.getAttrib(A,"src")){u+="src: "+e+" "}break;case"a":if(e=p.getAttrib(A,"name")){u+="name: "+e+" ";B+="#"+e}if(e=p.getAttrib(A,"href")){u+="href: "+e+" "}break;case"font":if(e=p.getAttrib(A,"face")){u+="font: "+e+" "}if(e=p.getAttrib(A,"size")){u+="size: "+e+" "}if(e=p.getAttrib(A,"color")){u+="color: "+e+" "}break;case"span":if(e=p.getAttrib(A,"style")){u+="style: "+e+" "}break}if(e=p.getAttrib(A,"id")){u+="id: "+e+" "}if(e=A.className){e=e.replace(/\b\s*(webkit|mce|Apple-)\w+\s*\b/g,"");if(e){u+="class: "+e+" ";if(p.isBlock(A)||B=="img"||B=="span"){B+="."+e}}}B=B.replace(/(html:)/g,"");B={name:B,node:A,title:u};d.onResolveName.dispatch(d,B);u=B.title;B=B.name;r=p.create("a",{href:"javascript:;",onmousedown:"return false;",title:u,"class":"mcePath_"+(G++)},B);if(E.hasChildNodes()){E.insertBefore(p.doc.createTextNode(" \u00bb "),E.firstChild);E.insertBefore(r,E.firstChild)}else{E.appendChild(r)}},b.getBody())}},_sel:function(a){this.editor.execCommand("mceSelectNodeDepth",false,a)},_mceInsertAnchor:function(a,b){var c=this.editor;c.windowManager.open({url:o.baseURL+"/themes/advanced/anchor.htm",width:320+parseInt(c.getLang("advanced.anchor_delta_width",0)),height:100+parseInt(c.getLang("advanced.anchor_delta_height",0)),inline:true},{theme_url:this.url})},_mceCharMap:function(){var a=this.editor;a.windowManager.open({url:o.baseURL+"/themes/advanced/charmap.htm",width:550+parseInt(a.getLang("advanced.charmap_delta_width",0)),height:250+parseInt(a.getLang("advanced.charmap_delta_height",0)),inline:true},{theme_url:this.url})},_mceHelp:function(){var a=this.editor;a.windowManager.open({url:o.baseURL+"/themes/advanced/about.htm",width:480,height:380,inline:true},{theme_url:this.url})},_mceColorPicker:function(a,b){var c=this.editor;b=b||{};c.windowManager.open({url:o.baseURL+"/themes/advanced/color_picker.htm",width:375+parseInt(c.getLang("advanced.colorpicker_delta_width",0)),height:250+parseInt(c.getLang("advanced.colorpicker_delta_height",0)),close_previous:false,inline:true},{input_color:b.color,func:b.func,theme_url:this.url})},_mceCodeEditor:function(b,a){var c=this.editor;c.windowManager.open({url:o.baseURL+"/themes/advanced/source_editor.htm",width:parseInt(c.getParam("theme_advanced_source_editor_width",720)),height:parseInt(c.getParam("theme_advanced_source_editor_height",580)),inline:true,resizable:true,maximizable:true},{theme_url:this.url})},_mceImage:function(b,a){var c=this.editor;if(c.dom.getAttrib(c.selection.getNode(),"class").indexOf("mceItem")!=-1){return}c.windowManager.open({url:o.baseURL+"/themes/advanced/image.htm",width:355+parseInt(c.getLang("advanced.image_delta_width",0)),height:275+parseInt(c.getLang("advanced.image_delta_height",0)),inline:true},{theme_url:this.url})},_mceLink:function(b,a){var c=this.editor;c.windowManager.open({url:o.baseURL+"/themes/advanced/link.htm",width:310+parseInt(c.getLang("advanced.link_delta_width",0)),height:200+parseInt(c.getLang("advanced.link_delta_height",0)),inline:true},{theme_url:this.url})},_mceNewDocument:function(){var a=this.editor;a.windowManager.confirm("advanced.newdocument",function(b){if(b){a.execCommand("mceSetContent",false,"")}})},_mceForeColor:function(){var a=this;this._mceColorPicker(0,{color:a.fgColor,func:function(b){a.fgColor=b;a.editor.execCommand("ForeColor",false,b)}})},_mceBackColor:function(){var a=this;this._mceColorPicker(0,{color:a.bgColor,func:function(b){a.bgColor=b;a.editor.execCommand("HiliteColor",false,b)}})},_ufirst:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}});o.ThemeManager.add("advanced",o.themes.AdvancedTheme)}(tinymce));tinyMCE.addI18n("en.advanced",{style_select:"Styles",font_size:"Font size",fontdefault:"Font family",block:"Format",paragraph:"Paragraph",div:"Div",address:"Address",pre:"Preformatted",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",blockquote:"Blockquote",code:"Code",samp:"Code sample",dt:"Definition term ",dd:"Definition description",bold_desc:"Bold (Ctrl+B)",italic_desc:"Italic (Ctrl+I)",underline_desc:"Underline (Ctrl+U)",striketrough_desc:"Strikethrough",justifyleft_desc:"Align left",justifycenter_desc:"Align center",justifyright_desc:"Align right",justifyfull_desc:"Align full",bullist_desc:"Unordered list",numlist_desc:"Ordered list",outdent_desc:"Outdent",indent_desc:"Indent",undo_desc:"Undo (Ctrl+Z)",redo_desc:"Redo (Ctrl+Y)",link_desc:"Insert/edit link",unlink_desc:"Unlink",image_desc:"Insert/edit image",cleanup_desc:"Cleanup messy code",code_desc:"Edit HTML Source",sub_desc:"Subscript",sup_desc:"Superscript",hr_desc:"Insert horizontal ruler",removeformat_desc:"Remove formatting",custom1_desc:"Your custom description here",forecolor_desc:"Select text color",backcolor_desc:"Select background color",charmap_desc:"Insert custom character",visualaid_desc:"Toggle guidelines/invisible elements",anchor_desc:"Insert/edit anchor",cut_desc:"Cut",copy_desc:"Copy",paste_desc:"Paste",image_props_desc:"Image properties",newdocument_desc:"New document",help_desc:"Help",blockquote_desc:"Blockquote",clipboard_msg:"Copy/Cut/Paste is not available in Mozilla and Firefox.\r\nDo you want more information about this issue?",path:"Path",newdocument:"Are you sure you want clear all contents?",toolbar_focus:"Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X",more_colors:"More colors"});tinyMCE.addI18n("de.advanced",{style_select:"Format",font_size:"Schriftgr\u00F6\u00DFe",fontdefault:"Schriftart",block:"Struktur",paragraph:"Absatz",div:"Zusammenh\u00E4ngender Bereich",address:"Adresse",pre:"Rohdaten",h1:"\u00DCberschrift 1",h2:"\u00DCberschrift 2",h3:"\u00DCberschrift 3",h4:"\u00DCberschrift 4",h5:"\u00DCberschrift 5",h6:"\u00DCberschrift 6",blockquote:"Zitatblock",code:"Code",samp:"Beispiel",dt:"Definitionsbegriff",dd:"Definitionsbeschreibung",bold_desc:"Fett (Strg+B)",italic_desc:"Kursiv (Strg+I)",underline_desc:"Unterstrichen (Strg+U)",striketrough_desc:"Durchgestrichen",justifyleft_desc:"Links ausgerichtet",justifycenter_desc:"Mittig ausgerichtet",justifyright_desc:"Rechts ausgerichtet",justifyfull_desc:"Blocksatz",bullist_desc:"Unsortierte Liste",numlist_desc:"Sortierte Liste",outdent_desc:"Ausr\u00FCcken",indent_desc:"Einr\u00FCcken",undo_desc:"R\u00FCckg\u00E4ngig (Strg+Z)",redo_desc:"Wiederholen (Strg+Y)",link_desc:"Link einf\u00FCgen/ver\u00E4ndern",unlink_desc:"Link entfernen",image_desc:"Bild einf\u00FCgen/ver\u00E4ndern",cleanup_desc:"Quellcode aufr\u00E4umen",code_desc:"HTML-Quellcode bearbeiten",sub_desc:"Tiefgestellt",sup_desc:"Hochgestellt",hr_desc:"Trennlinie einf\u00FCgen",removeformat_desc:"Formatierungen zur\u00FCcksetzen",custom1_desc:"Benutzerdefinierte Beschreibung",forecolor_desc:"Textfarbe",backcolor_desc:"Hintergrundfarbe",charmap_desc:"Sonderzeichen einf\u00FCgen",visualaid_desc:"Hilfslinien und unsichtbare Elemente ein-/ausblenden",anchor_desc:"Anker einf\u00FCgen/ver\u00E4ndern",cut_desc:"Ausschneiden",copy_desc:"Kopieren",paste_desc:"Einf\u00FCgen",image_props_desc:"Bildeigenschaften",newdocument_desc:"Neues Dokument",help_desc:"Hilfe",blockquote_desc:"Zitatblock",clipboard_msg:"Kopieren, Ausschneiden und Einf\u00FCgen sind im Mozilla Firefox nicht m\u00F6glich.\r\nWollen Sie mehr \u00FCber dieses Problem erfahren?",path:"Pfad",newdocument:"Wollen Sie wirklich den ganzen Inhalt l\u00F6schen?",toolbar_focus:"Zur Werkzeugleiste springen: Alt+Q; Zum Editor springen: Alt-Z; Zum Elementpfad springen: Alt-X",more_colors:"Weitere Farben",anchor_delta_width:"13"});(function(d){var f=d.each;function e(P,R,c){var aj,b,W,ab;V();ab=R.getParent(c.getStart(),"th,td");if(ab){b=S(ab);W=M();ab=N(b.x,b.y)}function L(g,h){g=g.cloneNode(h);g.removeAttribute("id");return g}function V(){var g=0;aj=[];f(["thead","tbody","tfoot"],function(h){var j=R.select(h+" tr",P);f(j,function(l,k){k+=g;f(R.select("td,th",l),function(m,r){var q,p,o,n;if(aj[k]){while(aj[k][r]){r++}}o=ah(m,"rowspan");n=ah(m,"colspan");for(p=k;p<k+o;p++){if(!aj[p]){aj[p]=[]}for(q=r;q<r+n;q++){aj[p][q]={part:h,real:p==k&&q==r,elm:m,rowspan:o,colspan:n}}}})});g+=j.length})}function N(h,j){var g;g=aj[j];if(g){return g[h]}}function ah(g,h){return parseInt(g.getAttribute(h)||1)}function ag(g){return R.hasClass(g.elm,"mceSelected")||g==ab}function af(){var g=[];f(P.rows,function(h){f(h.cells,function(j){if(R.hasClass(j,"mceSelected")||j==ab.elm){g.push(h);return false}})});return g}function X(){var g=R.createRng();g.setStartAfter(P);g.setEndAfter(P);c.setRng(g);R.remove(P)}function ak(h){var g;d.walk(h,function(j){var k;if(j.nodeType==3){f(R.getParents(j.parentNode,null,h).reverse(),function(l){l=L(l,false);if(!g){g=k=l}else{if(k){k.appendChild(l)}}k=l});if(k){k.innerHTML=d.isIE?"&nbsp;":'<br _mce_bogus="1" />'}return false}},"childNodes");h=L(h,false);h.rowSpan=h.colSpan=1;if(g){h.appendChild(g)}else{if(!d.isIE){h.innerHTML='<br _mce_bogus="1" />'}}return h}function Z(){var g=R.createRng();f(R.select("tr",P),function(h){if(h.cells.length==0){R.remove(h)}});if(R.select("tr",P).length==0){g.setStartAfter(P);g.setEndAfter(P);c.setRng(g);R.remove(P);return}f(R.select("thead,tbody,tfoot",P),function(h){if(h.rows.length==0){R.remove(h)}});V();row=aj[Math.min(aj.length-1,b.y)];if(row){c.select(row[Math.min(row.length-1,b.x)].elm,true);c.collapse(true)}}function T(j,l,g,k){var m,o,p,n,h;m=aj[l][j].elm.parentNode;for(p=1;p<=g;p++){m=R.getNext(m,"tr");if(m){for(o=j;o>=0;o--){h=aj[l+p][o].elm;if(h.parentNode==m){for(n=1;n<=k;n++){R.insertAfter(ak(h),h)}break}}if(o==-1){for(n=1;n<=k;n++){m.insertBefore(ak(m.cells[0]),m.cells[0])}}}}}function Y(){f(aj,function(h,g){f(h,function(n,o){var k,l,j,m;if(ag(n)){n=n.elm;k=ah(n,"colspan");l=ah(n,"rowspan");if(k>1||l>1){n.colSpan=n.rowSpan=1;for(m=0;m<k-1;m++){R.insertAfter(ak(n),n)}T(o,g,l-1,k)}}})})}function aa(k,n,g){var p,q,h,j,l,o,m,s,k,r;if(k){pos=S(k);p=pos.x;q=pos.y;h=p+(n-1);j=q+(g-1)}else{p=b.x;q=b.y;h=W.x;j=W.y}m=N(p,q);s=N(h,j);if(m&&s&&m.part==s.part){Y();V();m=N(p,q).elm;m.colSpan=(h-p)+1;m.rowSpan=(j-q)+1;for(o=q;o<=j;o++){for(l=p;l<=h;l++){k=aj[o][l].elm;if(k!=m){r=d.grep(k.childNodes);f(r,function(u,t){if(u.nodeName!="BR"||t!=r.length-1){m.appendChild(u)}});R.remove(k)}}}Z()}}function ae(m){var p,k,n,l,j,h,o,g;f(aj,function(r,q){f(r,function(s,t){if(ag(s)){s=s.elm;j=s.parentNode;h=L(j,false);p=q;if(m){return false}}});if(m){return !p}});for(l=0;l<aj[0].length;l++){k=aj[p][l].elm;if(k!=n){if(!m){rowSpan=ah(k,"rowspan");if(rowSpan>1){k.rowSpan=rowSpan+1;continue}}else{if(p>0&&aj[p-1][l]){g=aj[p-1][l].elm;rowSpan=ah(g,"rowspan");if(rowSpan>1){g.rowSpan=rowSpan+1;continue}}}o=ak(k);o.colSpan=k.colSpan;h.appendChild(o);n=k}}if(h.hasChildNodes()){if(!m){R.insertAfter(h,j)}else{j.parentNode.insertBefore(h,j)}}}function ai(g){var j,h;f(aj,function(l,k){f(l,function(m,n){if(ag(m)){j=n;if(g){return false}}});if(g){return !j}});f(aj,function(l,k){var o=l[j].elm,n,m;if(o!=h){m=ah(o,"colspan");n=ah(o,"rowspan");if(m==1){if(!g){R.insertAfter(ak(o),o);T(j,k,n-1,m)}else{o.parentNode.insertBefore(ak(o),o);T(j,k,n-1,m)}}else{o.colSpan++}h=o}})}function ac(){var g=[];f(aj,function(h,j){f(h,function(k,l){if(ag(k)&&d.inArray(g,l)===-1){f(aj,function(m){var o=m[l].elm,n;n=ah(o,"colspan");if(n>1){o.colSpan=n-1}else{R.remove(o)}});g.push(l)}})});Z()}function ad(){var g;function h(k){var l,j,m;l=R.getNext(k,"tr");f(k.cells,function(o){var n=ah(o,"rowspan");if(n>1){o.rowSpan=n-1;j=S(o);T(j.x,j.y,1,1)}});j=S(k.cells[0]);f(aj[j.y],function(o){var n;o=o.elm;if(o!=m){n=ah(o,"rowspan");if(n<=1){R.remove(o)}else{o.rowSpan=n-1}m=o}})}g=af();f(g.reverse(),function(j){h(j)});Z()}function U(){var g=af();R.remove(g);Z();return g}function K(){var g=af();f(g,function(j,h){g[h]=L(j,true)});return g}function a(l,g){var k=af(),h=k[g?0:k.length-1],j=h.cells.length;f(aj,function(m){var n;j=0;f(m,function(o,p){if(o.real){j+=o.colspan}if(o.elm.parentNode==h){n=1}});if(n){return false}});if(!g){l.reverse()}f(l,function(m){var n=m.cells.length,o;for(i=0;i<n;i++){o=m.cells[i];o.colSpan=o.rowSpan=1}for(i=n;i<j;i++){m.appendChild(ak(m.cells[n-1]))}for(i=j;i<n;i++){R.remove(m.cells[i])}if(g){h.parentNode.insertBefore(m,h)}else{R.insertAfter(m,h)}})}function S(h){var g;f(aj,function(k,j){f(k,function(l,m){if(l.elm==h){g={x:m,y:j};return false}});return !g});return g}function O(g){b=S(g)}function M(){var j,g,h;g=h=0;f(aj,function(l,k){f(l,function(o,p){var m,n;if(ag(o)){o=aj[k][p];if(p>g){g=p}if(k>h){h=k}if(o.real){m=o.colspan-1;n=o.rowspan-1;if(m){if(p+m>g){g=p+m}}if(n){if(k+n>h){h=k+n}}}}})});return{x:g,y:h}}function Q(j){var m,n,g,h,o,p,l,k;W=S(j);if(b&&W){m=Math.min(b.x,W.x);n=Math.min(b.y,W.y);g=Math.max(b.x,W.x);h=Math.max(b.y,W.y);o=g;p=h;for(y=n;y<=p;y++){j=aj[y][m];if(!j.real){if(m-(j.colspan-1)<m){m-=j.colspan-1}}}for(x=m;x<=o;x++){j=aj[n][x];if(!j.real){if(n-(j.rowspan-1)<n){n-=j.rowspan-1}}}for(y=n;y<=h;y++){for(x=m;x<=g;x++){j=aj[y][x];if(j.real){l=j.colspan-1;k=j.rowspan-1;if(l){if(x+l>o){o=x+l}}if(k){if(y+k>p){p=y+k}}}}}R.removeClass(R.select("td.mceSelected,th.mceSelected"),"mceSelected");for(y=n;y<=p;y++){for(x=m;x<=o;x++){R.addClass(aj[y][x].elm,"mceSelected")}}}}d.extend(this,{deleteTable:X,split:Y,merge:aa,insertRow:ae,insertCol:ai,deleteCols:ac,deleteRows:ad,cutRows:U,copyRows:K,pasteRows:a,getPos:S,setStartCell:O,setEndCell:Q})}d.create("tinymce.plugins.TablePlugin",{init:function(l,k){var m,a;function b(g){var h=l.selection,j=l.dom.getParent(g||h.getNode(),"table");if(j){return new e(j,l.dom,h)}}function c(){l.getBody().style.webkitUserSelect="";l.dom.removeClass(l.dom.select("td.mceSelected,th.mceSelected"),"mceSelected")}f([["table","table.desc","mceInsertTable",true],["delete_table","table.del","mceTableDelete"],["delete_col","table.delete_col_desc","mceTableDeleteCol"],["delete_row","table.delete_row_desc","mceTableDeleteRow"],["col_after","table.col_after_desc","mceTableInsertColAfter"],["col_before","table.col_before_desc","mceTableInsertColBefore"],["row_after","table.row_after_desc","mceTableInsertRowAfter"],["row_before","table.row_before_desc","mceTableInsertRowBefore"],["row_props","table.row_desc","mceTableRowProps",true],["cell_props","table.cell_desc","mceTableCellProps",true],["split_cells","table.split_cells_desc","mceTableSplitCells",true],["merge_cells","table.merge_cells_desc","mceTableMergeCells",true]],function(g){l.addButton(g[0],{title:g[1],cmd:g[2],ui:g[3]})});if(!d.isIE){l.onClick.add(function(h,g){g=g.target;if(g.nodeName==="TABLE"){h.selection.select(g)}})}l.onNodeChange.add(function(h,j,n){var g;n=h.selection.getStart();g=h.dom.getParent(n,"td,th,caption");j.setActive("table",n.nodeName==="TABLE"||!!g);if(g&&g.nodeName==="CAPTION"){g=0}j.setDisabled("delete_table",!g);j.setDisabled("delete_col",!g);j.setDisabled("delete_table",!g);j.setDisabled("delete_row",!g);j.setDisabled("col_after",!g);j.setDisabled("col_before",!g);j.setDisabled("row_after",!g);j.setDisabled("row_before",!g);j.setDisabled("row_props",!g);j.setDisabled("cell_props",!g);j.setDisabled("split_cells",!g);j.setDisabled("merge_cells",!g)});l.onInit.add(function(h){var j,r,q=h.dom,g;m=h.windowManager;h.onMouseDown.add(function(o,n){if(n.button!=2){c();r=q.getParent(n.target,"td,th");j=q.getParent(r,"table")}});q.bind(h.getDoc(),"mouseover",function(n){var p,u,o=n.target;if(r&&(g||o!=r)&&(o.nodeName=="TD"||o.nodeName=="TH")){u=q.getParent(o,"table");if(u==j){if(!g){g=b(u);g.setStartCell(r);h.getBody().style.webkitUserSelect="none"}g.setEndCell(o)}p=h.selection.getSel();if(p.removeAllRanges){p.removeAllRanges()}else{p.empty()}n.preventDefault()}});h.onMouseUp.add(function(F,E){var n,J=F.selection,D,o=J.getSel(),p,I,K,G;if(r){if(g){F.getBody().style.webkitUserSelect=""}function H(v,t){var u=new d.dom.TreeWalker(v,v);do{if(v.nodeType==3&&d.trim(v.nodeValue).length!=0){if(t){n.setStart(v,0)}else{n.setEnd(v,v.nodeValue.length)}return}if(v.nodeName=="BR"){if(t){n.setStartBefore(v)}else{n.setEndBefore(v)}return}}while(v=(t?u.next():u.prev()))}D=q.select("td.mceSelected,th.mceSelected");if(D.length>0){n=q.createRng();I=D[0];G=D[D.length-1];H(I,1);p=new d.dom.TreeWalker(I,q.getParent(D[0],"table"));do{if(I.nodeName=="TD"||I.nodeName=="TH"){if(!q.hasClass(I,"mceSelected")){break}K=I}}while(I=p.next());H(K);J.setRng(n)}F.nodeChanged();r=g=j=null}});h.onKeyUp.add(function(o,n){c()});if(h&&h.plugins.contextmenu){h.plugins.contextmenu.onContextMenu.add(function(z,B,o){var n,p=h.selection,A=p.getNode()||h.getBody();if(h.dom.getParent(o,"td")||h.dom.getParent(o,"th")||h.dom.select("td.mceSelected,th.mceSelected").length){B.removeAll();if(A.nodeName=="A"&&!h.dom.getAttrib(A,"name")){B.add({title:"advanced.link_desc",icon:"link",cmd:h.plugins.advlink?"mceAdvLink":"mceLink",ui:true});B.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"});B.addSeparator()}if(A.nodeName=="IMG"&&A.className.indexOf("mceItem")==-1){B.add({title:"advanced.image_desc",icon:"image",cmd:h.plugins.advimage?"mceAdvImage":"mceImage",ui:true});B.addSeparator()}B.add({title:"table.desc",icon:"table",cmd:"mceInsertTable",value:{action:"insert"}});B.add({title:"table.props_desc",icon:"table_props",cmd:"mceInsertTable"});B.add({title:"table.del",icon:"delete_table",cmd:"mceTableDelete"});B.addSeparator();n=B.addMenu({title:"table.cell"});n.add({title:"table.cell_desc",icon:"cell_props",cmd:"mceTableCellProps"});n.add({title:"table.split_cells_desc",icon:"split_cells",cmd:"mceTableSplitCells"});n.add({title:"table.merge_cells_desc",icon:"merge_cells",cmd:"mceTableMergeCells"});n=B.addMenu({title:"table.row"});n.add({title:"table.row_desc",icon:"row_props",cmd:"mceTableRowProps"});n.add({title:"table.row_before_desc",icon:"row_before",cmd:"mceTableInsertRowBefore"});n.add({title:"table.row_after_desc",icon:"row_after",cmd:"mceTableInsertRowAfter"});n.add({title:"table.delete_row_desc",icon:"delete_row",cmd:"mceTableDeleteRow"});n.addSeparator();n.add({title:"table.cut_row_desc",icon:"cut",cmd:"mceTableCutRow"});n.add({title:"table.copy_row_desc",icon:"copy",cmd:"mceTableCopyRow"});n.add({title:"table.paste_row_before_desc",icon:"paste",cmd:"mceTablePasteRowBefore"}).setDisabled(!a);n.add({title:"table.paste_row_after_desc",icon:"paste",cmd:"mceTablePasteRowAfter"}).setDisabled(!a);n=B.addMenu({title:"table.col"});n.add({title:"table.col_before_desc",icon:"col_before",cmd:"mceTableInsertColBefore"});n.add({title:"table.col_after_desc",icon:"col_after",cmd:"mceTableInsertColAfter"});n.add({title:"table.delete_col_desc",icon:"delete_col",cmd:"mceTableDeleteCol"})}else{B.add({title:"table.desc",icon:"table",cmd:"mceInsertTable"})}})}if(!d.isIE){function s(){var n;for(n=h.getBody().lastChild;n&&n.nodeType==3&&!n.nodeValue.length;n=n.previousSibling){}if(n&&n.nodeName=="TABLE"){h.dom.add(h.getBody(),"p",null,'<br mce_bogus="1" />')}}if(d.isGecko){h.onKeyDown.add(function(v,o){var z,p,n=v.dom;if(o.keyCode==37||o.keyCode==38){z=v.selection.getRng();p=n.getParent(z.startContainer,"table");if(p&&v.getBody().firstChild==p){if(isAtStart(z,p)){z=n.createRng();z.setStartBefore(p);z.setEndBefore(p);v.selection.setRng(z);o.preventDefault()}}}})}h.onKeyUp.add(s);h.onSetContent.add(s);h.onVisualAid.add(s);h.onPreProcess.add(function(p,n){var o=n.node.lastChild;if(o&&o.childNodes.length==1&&o.firstChild.nodeName=="BR"){p.dom.remove(o)}});s()}});f({mceTableSplitCells:function(g){g.split()},mceTableMergeCells:function(h){var g,o,j;j=l.dom.getParent(l.selection.getNode(),"th,td");if(j){g=j.rowSpan;o=j.colSpan}if(!l.dom.select("td.mceSelected,th.mceSelected").length){m.open({url:k+"/merge_cells.htm",width:240+parseInt(l.getLang("table.merge_cells_delta_width",0)),height:110+parseInt(l.getLang("table.merge_cells_delta_height",0)),inline:1},{rows:g,cols:o,onaction:function(n){h.merge(j,n.cols,n.rows)},plugin_url:k})}else{h.merge()}},mceTableInsertRowBefore:function(g){g.insertRow(true)},mceTableInsertRowAfter:function(g){g.insertRow()},mceTableInsertColBefore:function(g){g.insertCol(true)},mceTableInsertColAfter:function(g){g.insertCol()},mceTableDeleteCol:function(g){g.deleteCols()},mceTableDeleteRow:function(g){g.deleteRows()},mceTableCutRow:function(g){a=g.cutRows()},mceTableCopyRow:function(g){a=g.copyRows()},mceTablePasteRowBefore:function(g){g.pasteRows(a,true)},mceTablePasteRowAfter:function(g){g.pasteRows(a)},mceTableDelete:function(g){g.deleteTable()}},function(g,h){l.addCommand(h,function(){var j=b();if(j){g(j);l.execCommand("mceRepaint");c()}})});f({mceInsertTable:function(g){m.open({url:k+"/table.htm",width:400+parseInt(l.getLang("table.table_delta_width",0)),height:320+parseInt(l.getLang("table.table_delta_height",0)),inline:1},{plugin_url:k,action:g?g.action:0})},mceTableRowProps:function(){m.open({url:k+"/row.htm",width:400+parseInt(l.getLang("table.rowprops_delta_width",0)),height:295+parseInt(l.getLang("table.rowprops_delta_height",0)),inline:1},{plugin_url:k})},mceTableCellProps:function(){m.open({url:k+"/cell.htm",width:400+parseInt(l.getLang("table.cellprops_delta_width",0)),height:295+parseInt(l.getLang("table.cellprops_delta_height",0)),inline:1},{plugin_url:k})}},function(g,h){l.addCommand(h,function(j,o){g(o)})})}});d.PluginManager.add("table",d.plugins.TablePlugin)})(tinymce);(function(){var e=tinymce.dom.Event,f=tinymce.each,d=tinymce.DOM;tinymce.create("tinymce.plugins.ContextMenu",{init:function(h){var b=this,a;b.editor=h;b.onContextMenu=new tinymce.util.Dispatcher(this);h.onContextMenu.add(function(j,g){if(!g.ctrlKey){if(a){j.selection.setRng(a)}b._getMenu(j).showMenu(g.clientX,g.clientY);e.add(j.getDoc(),"click",function(k){c(j,k)});e.cancel(g)}});h.onRemove.add(function(){if(b._menu){b._menu.removeAll()}});function c(j,g){a=null;if(g&&g.button==2){a=j.selection.getRng();return}if(b._menu){b._menu.removeAll();b._menu.destroy();e.remove(j.getDoc(),"click",c)}}h.onMouseDown.add(c);h.onKeyDown.add(c)},getInfo:function(){return{longname:"Contextmenu",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/contextmenu",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_getMenu:function(n){var a=this,p=a._menu,m=n.selection,q=m.isCollapsed(),r=m.getNode()||n.getBody(),o,b,c;if(p){p.removeAll();p.destroy()}b=d.getPos(n.getContentAreaContainer());c=d.getPos(n.getContainer());p=n.controlManager.createDropMenu("contextmenu",{offset_x:b.x+n.getParam("contextmenu_offset_x",0),offset_y:b.y+n.getParam("contextmenu_offset_y",0),constrain:1});a._menu=p;p.add({title:"advanced.cut_desc",icon:"cut",cmd:"Cut"}).setDisabled(q);p.add({title:"advanced.copy_desc",icon:"copy",cmd:"Copy"}).setDisabled(q);p.add({title:"advanced.paste_desc",icon:"paste",cmd:"Paste"});if((r.nodeName=="A"&&!n.dom.getAttrib(r,"name"))||!q){p.addSeparator();p.add({title:"advanced.link_desc",icon:"link",cmd:n.plugins.advlink?"mceAdvLink":"mceLink",ui:true});p.add({title:"advanced.unlink_desc",icon:"unlink",cmd:"UnLink"})}p.addSeparator();p.add({title:"advanced.image_desc",icon:"image",cmd:n.plugins.advimage?"mceAdvImage":"mceImage",ui:true});p.addSeparator();o=p.addMenu({title:"contextmenu.align"});o.add({title:"contextmenu.left",icon:"justifyleft",cmd:"JustifyLeft"});o.add({title:"contextmenu.center",icon:"justifycenter",cmd:"JustifyCenter"});o.add({title:"contextmenu.right",icon:"justifyright",cmd:"JustifyRight"});o.add({title:"contextmenu.full",icon:"justifyfull",cmd:"JustifyFull"});a.onContextMenu.dispatch(a,p,r,q);return p}});tinymce.PluginManager.add("contextmenu",tinymce.plugins.ContextMenu)})();(function(){tinymce.create("tinymce.plugins.AdvancedHRPlugin",{init:function(a,b){a.addCommand("mceAdvancedHr",function(){a.windowManager.open({file:b+"/rule.htm",width:250+parseInt(a.getLang("advhr.delta_width",0)),height:160+parseInt(a.getLang("advhr.delta_height",0)),inline:1},{plugin_url:b})});a.addButton("advhr",{title:"advhr.advhr_desc",cmd:"mceAdvancedHr"});a.onNodeChange.add(function(d,c,e){c.setActive("advhr",e.nodeName=="HR")});a.onClick.add(function(c,d){d=d.target;if(d.nodeName==="HR"){c.selection.select(d)}})},getInfo:function(){return{longname:"Advanced HR",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advhr",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advhr",tinymce.plugins.AdvancedHRPlugin)})();(function(){tinymce.create("tinymce.plugins.SearchReplacePlugin",{init:function(e,f){function d(a){e.windowManager.open({file:f+"/searchreplace.htm",width:420+parseInt(e.getLang("searchreplace.delta_width",0)),height:170+parseInt(e.getLang("searchreplace.delta_height",0)),inline:1,auto_focus:0},{mode:a,search_string:e.selection.getContent({format:"text"}),plugin_url:f})}e.addCommand("mceSearch",function(){d("search")});e.addCommand("mceReplace",function(){d("replace")});e.addButton("search",{title:"searchreplace.search_desc",cmd:"mceSearch"});e.addButton("replace",{title:"searchreplace.replace_desc",cmd:"mceReplace"});e.addShortcut("ctrl+f","searchreplace.search_desc","mceSearch")},getInfo:function(){return{longname:"Search/Replace",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/searchreplace",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("searchreplace",tinymce.plugins.SearchReplacePlugin)})();(function(){var j=tinymce.DOM,f=tinymce.dom.Element,g=tinymce.dom.Event,h=tinymce.each,k=tinymce.is;tinymce.create("tinymce.plugins.InlinePopups",{init:function(b,a){b.onBeforeRenderUI.add(function(){b.windowManager=new tinymce.InlineWindowManager(b);j.loadCSS(a+"/skins/"+(b.settings.inlinepopups_skin||"clearlooks2")+"/window.css")})},getInfo:function(){return{longname:"InlinePopups",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/inlinepopups",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.create("tinymce.InlineWindowManager:tinymce.WindowManager",{InlineWindowManager:function(b){var a=this;a.parent(b);a.zIndex=300000;a.count=0;a.windows={}},open:function(a,u){var C=this,z,t="",b=C.editor,B=0,F=0,A,e,d,c,p,E,D;a=a||{};u=u||{};if(!a.inline){return C.parent(a,u)}if(!a.type){C.bookmark=b.selection.getBookmark(1)}z=j.uniqueId();A=j.getViewPort();a.width=parseInt(a.width||320);a.height=parseInt(a.height||240)+(tinymce.isIE?8:0);a.min_width=parseInt(a.min_width||150);a.min_height=parseInt(a.min_height||100);a.max_width=parseInt(a.max_width||2000);a.max_height=parseInt(a.max_height||2000);a.left=a.left||Math.round(Math.max(A.x,A.x+(A.w/2)-(a.width/2)));a.top=a.top||Math.round(Math.max(A.y,A.y+(A.h/2)-(a.height/2)));a.movable=a.resizable=true;u.mce_width=a.width;u.mce_height=a.height;u.mce_inline=true;u.mce_window_id=z;u.mce_auto_focus=a.auto_focus;C.features=a;C.params=u;C.onOpen.dispatch(C,a,u);if(a.type){t+=" mceModal";if(a.type){t+=" mce"+a.type.substring(0,1).toUpperCase()+a.type.substring(1)}a.resizable=false}if(a.statusbar){t+=" mceStatusbar"}if(a.resizable){t+=" mceResizable"}if(a.minimizable){t+=" mceMinimizable"}if(a.maximizable){t+=" mceMaximizable"}if(a.movable){t+=" mceMovable"}C._addAll(j.doc.body,["div",{id:z,"class":b.settings.inlinepopups_skin||"clearlooks2",style:"width:100px;height:100px"},["div",{id:z+"_wrapper","class":"mceWrapper"+t},["div",{id:z+"_top","class":"mceTop"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:z+"_title"},a.title||""]],["div",{id:z+"_middle","class":"mceMiddle"},["div",{id:z+"_left","class":"mceLeft"}],["span",{id:z+"_content"}],["div",{id:z+"_right","class":"mceRight"}]],["div",{id:z+"_bottom","class":"mceBottom"},["div",{"class":"mceLeft"}],["div",{"class":"mceCenter"}],["div",{"class":"mceRight"}],["span",{id:z+"_status"},"Content"]],["a",{"class":"mceMove",tabindex:"-1",href:"javascript:;"}],["a",{"class":"mceMin",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMax",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceMed",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{"class":"mceClose",tabindex:"-1",href:"javascript:;",onmousedown:"return false;"}],["a",{id:z+"_resize_n","class":"mceResize mceResizeN",tabindex:"-1",href:"javascript:;"}],["a",{id:z+"_resize_s","class":"mceResize mceResizeS",tabindex:"-1",href:"javascript:;"}],["a",{id:z+"_resize_w","class":"mceResize mceResizeW",tabindex:"-1",href:"javascript:;"}],["a",{id:z+"_resize_e","class":"mceResize mceResizeE",tabindex:"-1",href:"javascript:;"}],["a",{id:z+"_resize_nw","class":"mceResize mceResizeNW",tabindex:"-1",href:"javascript:;"}],["a",{id:z+"_resize_ne","class":"mceResize mceResizeNE",tabindex:"-1",href:"javascript:;"}],["a",{id:z+"_resize_sw","class":"mceResize mceResizeSW",tabindex:"-1",href:"javascript:;"}],["a",{id:z+"_resize_se","class":"mceResize mceResizeSE",tabindex:"-1",href:"javascript:;"}]]]);j.setStyles(z,{top:-10000,left:-10000});if(tinymce.isGecko){j.setStyle(z,"overflow","auto")}if(!a.type){B+=j.get(z+"_left").clientWidth;B+=j.get(z+"_right").clientWidth;F+=j.get(z+"_top").clientHeight;F+=j.get(z+"_bottom").clientHeight}j.setStyles(z,{top:a.top,left:a.left,width:a.width+B,height:a.height+F});D=a.url||a.file;if(D){if(tinymce.relaxedDomain){D+=(D.indexOf("?")==-1?"?":"&")+"mce_rdomain="+tinymce.relaxedDomain}D=tinymce._addVer(D)}if(!a.type){j.add(z+"_content","iframe",{id:z+"_ifr",src:'javascript:""',frameBorder:0,style:"border:0;width:10px;height:10px"});j.setStyles(z+"_ifr",{width:a.width,height:a.height});j.setAttrib(z+"_ifr","src",D)}else{j.add(z+"_wrapper","a",{id:z+"_ok","class":"mceButton mceOk",href:"javascript:;",onmousedown:"return false;"},"Ok");if(a.type=="confirm"){j.add(z+"_wrapper","a",{"class":"mceButton mceCancel",href:"javascript:;",onmousedown:"return false;"},"Cancel")}j.add(z+"_middle","div",{"class":"mceIcon"});j.setHTML(z+"_content",a.content.replace("\n","<br />"))}d=g.add(z,"mousedown",function(m){var l=m.target,n,o;n=C.windows[z];C.focus(z);if(l.nodeName=="A"||l.nodeName=="a"){if(l.className=="mceMax"){n.oldPos=n.element.getXY();n.oldSize=n.element.getSize();o=j.getViewPort();o.w-=2;o.h-=2;n.element.moveTo(o.x,o.y);n.element.resizeTo(o.w,o.h);j.setStyles(z+"_ifr",{width:o.w-n.deltaWidth,height:o.h-n.deltaHeight});j.addClass(z+"_wrapper","mceMaximized")}else{if(l.className=="mceMed"){n.element.moveTo(n.oldPos.x,n.oldPos.y);n.element.resizeTo(n.oldSize.w,n.oldSize.h);n.iframeElement.resizeTo(n.oldSize.w-n.deltaWidth,n.oldSize.h-n.deltaHeight);j.removeClass(z+"_wrapper","mceMaximized")}else{if(l.className=="mceMove"){return C._startDrag(z,m,l.className)}else{if(j.hasClass(l,"mceResize")){return C._startDrag(z,m,l.className.substring(13))}}}}}});c=g.add(z,"click",function(l){var m=l.target;C.focus(z);if(m.nodeName=="A"||m.nodeName=="a"){switch(m.className){case"mceClose":C.close(null,z);return g.cancel(l);case"mceButton mceOk":case"mceButton mceCancel":a.button_func(m.className=="mceButton mceOk");return g.cancel(l)}}});E=C.windows[z]={id:z,mousedown_func:d,click_func:c,element:new f(z,{blocker:1,container:b.getContainer()}),iframeElement:new f(z+"_ifr"),features:a,deltaWidth:B,deltaHeight:F};E.iframeElement.on("focus",function(){C.focus(z)});if(C.count==0&&C.editor.getParam("dialog_type","modal")=="modal"){j.add(j.doc.body,"div",{id:"mceModalBlocker","class":(C.editor.settings.inlinepopups_skin||"clearlooks2")+"_modalBlocker",style:{zIndex:C.zIndex-1}});j.show("mceModalBlocker")}else{j.setStyle("mceModalBlocker","z-index",C.zIndex-1)}if(tinymce.isIE6||/Firefox\/2\./.test(navigator.userAgent)||(tinymce.isIE&&!j.boxModel)){j.setStyles("mceModalBlocker",{position:"absolute",left:A.x,top:A.y,width:A.w-2,height:A.h-2})}C.focus(z);C._fixIELayout(z,1);if(j.get(z+"_ok")){j.get(z+"_ok").focus()}C.count++;return E},focus:function(a){var b=this,c;if(c=b.windows[a]){c.zIndex=this.zIndex++;c.element.setStyle("zIndex",c.zIndex);c.element.update();a=a+"_wrapper";j.removeClass(b.lastId,"mceFocus");j.addClass(a,"mceFocus");b.lastId=a}},_addAll:function(b,d){var e,a,m=this,c=tinymce.DOM;if(k(d,"string")){b.appendChild(c.doc.createTextNode(d))}else{if(d.length){b=b.appendChild(c.create(d[0],d[1]));for(e=2;e<d.length;e++){m._addAll(b,d[e])}}}},_startDrag:function(e,d,H){var P=this,t,a,L=j.doc,Y,S=P.windows[e],W=S.element,b=W.getXY(),c,N,p,X,O,J,K,U,V,R,T,Q,M;X={x:0,y:0};O=j.getViewPort();O.w-=2;O.h-=2;U=d.screenX;V=d.screenY;R=T=Q=M=0;t=g.add(L,"mouseup",function(l){g.remove(L,"mouseup",t);g.remove(L,"mousemove",a);if(Y){Y.remove()}W.moveBy(R,T);W.resizeBy(Q,M);N=W.getSize();j.setStyles(e+"_ifr",{width:N.w-S.deltaWidth,height:N.h-S.deltaHeight});P._fixIELayout(e,1);return g.cancel(l)});if(H!="Move"){I()}function I(){if(Y){return}P._fixIELayout(e,0);j.add(L.body,"div",{id:"mceEventBlocker","class":"mceEventBlocker "+(P.editor.settings.inlinepopups_skin||"clearlooks2"),style:{zIndex:P.zIndex+1}});if(tinymce.isIE6||(tinymce.isIE&&!j.boxModel)){j.setStyles("mceEventBlocker",{position:"absolute",left:O.x,top:O.y,width:O.w-2,height:O.h-2})}Y=new f("mceEventBlocker");Y.update();c=W.getXY();N=W.getSize();J=X.x+c.x-O.x;K=X.y+c.y-O.y;j.add(Y.get(),"div",{id:"mcePlaceHolder","class":"mcePlaceHolder",style:{left:J,top:K,width:N.w,height:N.h}});p=new f("mcePlaceHolder")}a=g.add(L,"mousemove",function(l){var o,n,m;I();o=l.screenX-U;n=l.screenY-V;switch(H){case"ResizeW":R=o;Q=0-o;break;case"ResizeE":Q=o;break;case"ResizeN":case"ResizeNW":case"ResizeNE":if(H=="ResizeNW"){R=o;Q=0-o}else{if(H=="ResizeNE"){Q=o}}T=n;M=0-n;break;case"ResizeS":case"ResizeSW":case"ResizeSE":if(H=="ResizeSW"){R=o;Q=0-o}else{if(H=="ResizeSE"){Q=o}}M=n;break;case"mceMove":R=o;T=n;break}if(Q<(m=S.features.min_width-N.w)){if(R!==0){R+=Q-m}Q=m}if(M<(m=S.features.min_height-N.h)){if(T!==0){T+=M-m}M=m}Q=Math.min(Q,S.features.max_width-N.w);M=Math.min(M,S.features.max_height-N.h);R=Math.max(R,O.x-(J+O.x));T=Math.max(T,O.y-(K+O.y));R=Math.min(R,(O.w+O.x)-(J+N.w+O.x));T=Math.min(T,(O.h+O.y)-(K+N.h+O.y));if(R+T!==0){if(J+R<0){R=0}if(K+T<0){T=0}p.moveTo(J+R,K+T)}if(Q+M!==0){p.resizeTo(N.w+Q,N.h+M)}return g.cancel(l)});return g.cancel(d)},resizeBy:function(c,b,a){var d=this.windows[a];if(d){d.element.resizeBy(c,b);d.iframeElement.resizeBy(c,b)}},close:function(c,a){var e=this,m,b=j.doc,n=0,d,a;a=e._findId(a||c);if(!e.windows[a]){e.parent(c);return}e.count--;if(e.count==0){j.remove("mceModalBlocker")}if(m=e.windows[a]){e.onClose.dispatch(e);g.remove(b,"mousedown",m.mousedownFunc);g.remove(b,"click",m.clickFunc);g.clear(a);g.clear(a+"_ifr");j.setAttrib(a+"_ifr","src",'javascript:""');m.element.remove();delete e.windows[a];h(e.windows,function(l){if(l.zIndex>n){d=l;n=l.zIndex}});if(d){e.focus(d.id)}}},setTitle:function(c,b){var a;c=this._findId(c);if(a=j.get(c+"_title")){a.innerHTML=j.encode(b)}},alert:function(d,e,a){var b=this,c;c=b.open({title:b,type:"alert",button_func:function(l){if(e){e.call(l||b,l)}b.close(null,c.id)},content:j.encode(b.editor.getLang(d,d)),inline:1,width:400,height:130})},confirm:function(d,e,a){var b=this,c;c=b.open({title:b,type:"confirm",button_func:function(l){if(e){e.call(l||b,l)}b.close(null,c.id)},content:j.encode(b.editor.getLang(d,d)),inline:1,width:400,height:130})},_findId:function(b){var a=this;if(typeof(b)=="string"){return b}h(a.windows,function(d){var c=j.get(d.id+"_ifr");if(c&&b==c.contentWindow){b=d.id;return false}});return b},_fixIELayout:function(a,b){var d,c;if(!tinymce.isIE6){return}h(["n","s","w","e","nw","ne","sw","se"],function(l){var e=j.get(a+"_resize_"+l);j.setStyles(e,{width:b?e.clientWidth:"",height:b?e.clientHeight:"",cursor:j.getStyle(e,"cursor",1)});j.setStyle(a+"_bottom","bottom","-1px");e=0});if(d=this.windows[a]){d.element.hide();d.element.show();h(j.select("div,a",a),function(e,l){if(e.currentStyle.backgroundImage!="none"){c=new Image();c.src=e.currentStyle.backgroundImage.replace(/url\(\"(.+)\"\)/,"$1")}});j.get(a).style.filter=""}}});tinymce.PluginManager.add("inlinepopups",tinymce.plugins.InlinePopups)})();(function(){tinymce.create("tinymce.plugins.XHTMLXtrasPlugin",{init:function(d,c){d.addCommand("mceCite",function(){d.windowManager.open({file:c+"/cite.htm",width:350+parseInt(d.getLang("xhtmlxtras.cite_delta_width",0)),height:250+parseInt(d.getLang("xhtmlxtras.cite_delta_height",0)),inline:1},{plugin_url:c})});d.addCommand("mceAcronym",function(){d.windowManager.open({file:c+"/acronym.htm",width:350+parseInt(d.getLang("xhtmlxtras.acronym_delta_width",0)),height:250+parseInt(d.getLang("xhtmlxtras.acronym_delta_width",0)),inline:1},{plugin_url:c})});d.addCommand("mceAbbr",function(){d.windowManager.open({file:c+"/abbr.htm",width:350+parseInt(d.getLang("xhtmlxtras.abbr_delta_width",0)),height:250+parseInt(d.getLang("xhtmlxtras.abbr_delta_width",0)),inline:1},{plugin_url:c})});d.addCommand("mceDel",function(){d.windowManager.open({file:c+"/del.htm",width:340+parseInt(d.getLang("xhtmlxtras.del_delta_width",0)),height:310+parseInt(d.getLang("xhtmlxtras.del_delta_width",0)),inline:1},{plugin_url:c})});d.addCommand("mceIns",function(){d.windowManager.open({file:c+"/ins.htm",width:340+parseInt(d.getLang("xhtmlxtras.ins_delta_width",0)),height:310+parseInt(d.getLang("xhtmlxtras.ins_delta_width",0)),inline:1},{plugin_url:c})});d.addCommand("mceAttributes",function(){d.windowManager.open({file:c+"/attributes.htm",width:380,height:370,inline:1},{plugin_url:c})});d.addButton("cite",{title:"xhtmlxtras.cite_desc",cmd:"mceCite"});d.addButton("acronym",{title:"xhtmlxtras.acronym_desc",cmd:"mceAcronym"});d.addButton("abbr",{title:"xhtmlxtras.abbr_desc",cmd:"mceAbbr"});d.addButton("del",{title:"xhtmlxtras.del_desc",cmd:"mceDel"});d.addButton("ins",{title:"xhtmlxtras.ins_desc",cmd:"mceIns"});d.addButton("attribs",{title:"xhtmlxtras.attribs_desc",cmd:"mceAttributes"});d.onNodeChange.add(function(g,h,a,b){a=g.dom.getParent(a,"CITE,ACRONYM,ABBR,DEL,INS");h.setDisabled("cite",b);h.setDisabled("acronym",b);h.setDisabled("abbr",b);h.setDisabled("del",b);h.setDisabled("ins",b);h.setDisabled("attribs",a&&a.nodeName=="BODY");h.setActive("cite",0);h.setActive("acronym",0);h.setActive("abbr",0);h.setActive("del",0);h.setActive("ins",0);if(a){do{h.setDisabled(a.nodeName.toLowerCase(),0);h.setActive(a.nodeName.toLowerCase(),1)}while(a=a.parentNode)}});d.onPreInit.add(function(){d.dom.create("abbr")})},getInfo:function(){return{longname:"XHTML Xtras Plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/xhtmlxtras",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("xhtmlxtras",tinymce.plugins.XHTMLXtrasPlugin)})();(function(){var h=tinymce.each,g=null,f={paste_auto_cleanup_on_paste:true,paste_block_drop:false,paste_retain_style_properties:"none",paste_strip_class_attributes:"mso",paste_remove_spans:false,paste_remove_styles:false,paste_remove_styles_if_webkit:true,paste_convert_middot_lists:true,paste_convert_headers_to_strong:false,paste_dialog_width:"450",paste_dialog_height:"400",paste_text_use_dialog:false,paste_text_sticky:false,paste_text_notifyalways:false,paste_text_linebreaktype:"p",paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"]]};function e(b,a){return b.getParam(a,f[a])}tinymce.create("tinymce.plugins.PastePlugin",{init:function(j,d){var c=this;c.editor=j;c.url=d;c.onPreProcess=new tinymce.util.Dispatcher(c);c.onPostProcess=new tinymce.util.Dispatcher(c);c.onPreProcess.add(c._preProcess);c.onPostProcess.add(c._postProcess);c.onPreProcess.add(function(m,l){j.execCallback("paste_preprocess",m,l)});c.onPostProcess.add(function(m,l){j.execCallback("paste_postprocess",m,l)});j.pasteAsPlainText=false;function a(m,o){var n=j.dom;c.onPreProcess.dispatch(c,m);m.node=n.create("div",0,m.content);c.onPostProcess.dispatch(c,m);m.content=j.serializer.serialize(m.node,{getInner:1});if((!o)&&(j.pasteAsPlainText)){c._insertPlainText(j,n,m.content);if(!e(j,"paste_text_sticky")){j.pasteAsPlainText=false;j.controlManager.setActive("pastetext",false)}}else{if(/<(p|h[1-6]|ul|ol)/.test(m.content)){c._insertBlockContent(j,n,m.content)}else{c._insert(m.content)}}}j.addCommand("mceInsertClipboardContent",function(m,l){a(l,true)});if(!e(j,"paste_text_use_dialog")){j.addCommand("mcePasteText",function(n,o){var m=tinymce.util.Cookie;j.pasteAsPlainText=!j.pasteAsPlainText;j.controlManager.setActive("pastetext",j.pasteAsPlainText);if((j.pasteAsPlainText)&&(!m.get("tinymcePasteText"))){if(e(j,"paste_text_sticky")){j.windowManager.alert(j.translate("paste.plaintext_mode_sticky"))}else{j.windowManager.alert(j.translate("paste.plaintext_mode_sticky"))}if(!e(j,"paste_text_notifyalways")){m.set("tinymcePasteText","1",new Date(new Date().getFullYear()+1,12,31))}}})}j.addButton("pastetext",{title:"paste.paste_text_desc",cmd:"mcePasteText"});j.addButton("selectall",{title:"paste.selectall_desc",cmd:"selectall"});function b(D){var z,t,B,A=j.selection,u=j.dom,n=j.getBody(),C;if(j.pasteAsPlainText&&(D.clipboardData||u.doc.dataTransfer)){D.preventDefault();a({content:(D.clipboardData||u.doc.dataTransfer).getData("Text")},true);return}if(u.get("_mcePaste")){return}z=u.add(n,"div",{id:"_mcePaste","class":"mcePaste"},'\uFEFF<br _mce_bogus="1">');if(n!=j.getDoc().body){C=u.getPos(j.selection.getStart(),n).y}else{C=n.scrollTop}u.setStyles(z,{position:"absolute",left:-10000,top:C,width:1,height:1,overflow:"hidden"});if(tinymce.isIE){B=u.doc.body.createTextRange();B.moveToElementText(z);B.execCommand("Paste");u.remove(z);if(z.innerHTML==="\uFEFF"){j.execCommand("mcePasteWord");D.preventDefault();return}a({content:z.innerHTML});return tinymce.dom.Event.cancel(D)}else{function v(k){k.preventDefault()}u.bind(j.getDoc(),"mousedown",v);u.bind(j.getDoc(),"keydown",v);t=j.selection.getRng();z=z.firstChild;B=j.getDoc().createRange();B.setStart(z,0);B.setEnd(z,1);A.setRng(B);window.setTimeout(function(){var k="",l=u.select("div.mcePaste");h(l,function(m){var o=m.firstChild;if(o&&o.nodeName=="DIV"&&o.style.marginTop&&o.style.backgroundColor){u.remove(o,1)}h(u.select("div.mcePaste",m),function(p){u.remove(p,1)});h(u.select("span.Apple-style-span",m),function(p){u.remove(p,1)});h(u.select("br[_mce_bogus]",m),function(p){u.remove(p)});k+=m.innerHTML});h(l,function(m){u.remove(m)});if(t){A.setRng(t)}a({content:k});u.unbind(j.getDoc(),"mousedown",v);u.unbind(j.getDoc(),"keydown",v)},0)}}if(e(j,"paste_auto_cleanup_on_paste")){if(tinymce.isOpera||/Firefox\/2/.test(navigator.userAgent)){j.onKeyDown.add(function(m,l){if(((tinymce.isMac?l.metaKey:l.ctrlKey)&&l.keyCode==86)||(l.shiftKey&&l.keyCode==45)){b(l)}})}else{j.onPaste.addToTop(function(m,l){return b(l)})}}if(e(j,"paste_block_drop")){j.onInit.add(function(){j.dom.bind(j.getBody(),["dragend","dragover","draggesture","dragdrop","drop","drag"],function(k){k.preventDefault();k.stopPropagation();return false})})}c._legacySupport()},getInfo:function(){return{longname:"Paste text/word",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_preProcess:function(t,v){var o=this.editor,r=v.content,a=tinymce.grep,b=tinymce.explode,u=tinymce.trim,d,s;function z(j){h(j,function(k){if(k.constructor==RegExp){r=r.replace(k,"")}else{r=r.replace(k[0],k[1])}})}if(/class="?Mso|style="[^"]*\bmso-|w:WordDocument/i.test(r)||v.wordContent){v.wordContent=true;z([/^\s*(&nbsp;)+/gi,/(&nbsp;|<br[^>]*>)+\s*$/gi]);if(e(o,"paste_convert_headers_to_strong")){r=r.replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>")}if(e(o,"paste_convert_middot_lists")){z([[/<!--\[if !supportLists\]-->/gi,"$&__MCE_ITEM__"],[/(<span[^>]+(?:mso-list:|:\s*symbol)[^>]+>)/gi,"$1__MCE_ITEM__"]])}z([/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\u00a0"]]);do{d=r.length;r=r.replace(/(<[a-z][^>]*\s)(?:id|name|language|type|on\w+|\w+:\w+)=(?:"[^"]*"|\w+)\s?/gi,"$1")}while(d!=r.length);if(e(o,"paste_retain_style_properties").replace(/^none$/i,"").length==0){r=r.replace(/<\/?span[^>]*>/gi,"")}else{z([[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(k,j){return(j.length>0)?j.replace(/./," ").slice(Math.floor(j.length/2)).split("").join("\u00a0"):""}],[/(<[a-z][^>]*)\sstyle="([^"]*)"/gi,function(k,m,l){var j=[],p=0,n=b(u(l).replace(/&quot;/gi,"'"),";");h(n,function(B){var A,D,C=b(B,":");function q(E){return E+((E!=="0")&&(/\d$/.test(E)))?"px":""}if(C.length==2){A=C[0].toLowerCase();D=C[1].toLowerCase();switch(A){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":j[p++]=A.replace(/^mso-|-alt$/g,"")+":"+q(D);return;case"horiz-align":j[p++]="text-align:"+D;return;case"vert-align":j[p++]="vertical-align:"+D;return;case"font-color":case"mso-foreground":j[p++]="color:"+D;return;case"mso-background":case"mso-highlight":j[p++]="background:"+D;return;case"mso-default-height":j[p++]="min-height:"+q(D);return;case"mso-default-width":j[p++]="min-width:"+q(D);return;case"mso-padding-between-alt":j[p++]="border-collapse:separate;border-spacing:"+q(D);return;case"text-line-through":if((D=="single")||(D=="double")){j[p++]="text-decoration:line-through"}return;case"mso-zero-height":if(D=="yes"){j[p++]="display:none"}return}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/.test(A)){return}j[p++]=A+":"+C[1]}});if(p>0){return m+' style="'+j.join(";")+'"'}else{return m}}]])}}if(e(o,"paste_convert_headers_to_strong")){z([[/<h[1-6][^>]*>/gi,"<p><strong>"],[/<\/h[1-6][^>]*>/gi,"</strong></p>"]])}s=e(o,"paste_strip_class_attributes");if(s!=="none"){function c(k,l){if(s==="all"){return""}var j=a(b(l.replace(/^(["'])(.*)\1$/,"$2")," "),function(m){return(/^(?!mso)/i.test(m))});return j.length?' class="'+j.join(" ")+'"':""}r=r.replace(/ class="([^"]+)"/gi,c);r=r.replace(/ class=(\w+)/gi,c)}if(e(o,"paste_remove_spans")){r=r.replace(/<\/?span[^>]*>/gi,"")}v.content=r},_postProcess:function(c,a){var d=this,k=d.editor,b=k.dom,l;if(a.wordContent){h(b.select("a",a.node),function(j){if(!j.href||j.href.indexOf("#_Toc")!=-1){b.remove(j,1)}});if(e(k,"paste_convert_middot_lists")){d._convertLists(c,a)}l=e(k,"paste_retain_style_properties");if((tinymce.is(l,"string"))&&(l!=="all")&&(l!=="*")){l=tinymce.explode(l.replace(/^none$/i,""));h(b.select("*",a.node),function(u){var t={},q=0,j,s,r;if(l){for(j=0;j<l.length;j++){s=l[j];r=b.getStyle(u,s);if(r){t[s]=r;q++}}}b.setAttrib(u,"style","");if(l&&q>0){b.setStyles(u,t)}else{if(u.nodeName=="SPAN"&&!u.className){b.remove(u,true)}}})}}if(e(k,"paste_remove_styles")||(e(k,"paste_remove_styles_if_webkit")&&tinymce.isWebKit)){h(b.select("*[style]",a.node),function(j){j.removeAttribute("style");j.removeAttribute("_mce_style")})}else{if(tinymce.isWebKit){h(b.select("*",a.node),function(j){j.removeAttribute("_mce_style")})}}},_convertLists:function(q,s){var o=q.editor.dom,p,b,t=-1,r,a=[],c,d;h(o.select("p",s.node),function(k){var n,j="",l,m,A,z;for(n=k.firstChild;n&&n.nodeType==3;n=n.nextSibling){j+=n.nodeValue}j=k.innerHTML.replace(/<\/?\w+[^>]*>/gi,"").replace(/&nbsp;/g,"\u00a0");if(/^(__MCE_ITEM__)+[\u2022\u00b7\u00a7\u00d8o]\s*\u00a0*/.test(j)){l="ul"}if(/^__MCE_ITEM__\s*\w+\.\s*\u00a0{2,}/.test(j)){l="ol"}if(l){r=parseFloat(k.style.marginLeft||0);if(r>t){a.push(r)}if(!p||l!=c){p=o.create(l);o.insertAfter(p,k)}else{if(r>t){p=b.appendChild(o.create(l))}else{if(r<t){A=tinymce.inArray(a,r);z=o.getParents(p.parentNode,l);p=z[z.length-1-A]||p}}}h(o.select("span",k),function(u){var v=u.innerHTML.replace(/<\/?\w+[^>]*>/gi,"");if(l=="ul"&&/^[\u2022\u00b7\u00a7\u00d8o]/.test(v)){o.remove(u)}else{if(/^[\s\S]*\w+\.(&nbsp;|\u00a0)*\s*/.test(v)){o.remove(u)}}});m=k.innerHTML;if(l=="ul"){m=k.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^[\u2022\u00b7\u00a7\u00d8o]\s*(&nbsp;|\u00a0)+\s*/,"")}else{m=k.innerHTML.replace(/__MCE_ITEM__/g,"").replace(/^\s*\w+\.(&nbsp;|\u00a0)+\s*/,"")}b=p.appendChild(o.create("li",0,m));o.remove(k);t=r;c=l}else{p=t=0}});d=s.node.innerHTML;if(d.indexOf("__MCE_ITEM__")!=-1){s.node.innerHTML=d.replace(/__MCE_ITEM__/g,"")}},_insertBlockContent:function(s,z,r){var B,u,A=s.selection,a,d,C,c,v,t="mce_marker";function b(j){var k;if(tinymce.isIE){k=s.getDoc().body.createTextRange();k.moveToElementText(j);k.collapse(false);k.select()}else{A.select(j,1);A.collapse(false)}}this._insert('<span id="'+t+'"></span>',1);u=z.get(t);B=z.getParent(u,"p,h1,h2,h3,h4,h5,h6,ul,ol,th,td");if(B&&!/TD|TH/.test(B.nodeName)){u=z.split(B,u);h(z.create("div",0,r).childNodes,function(j){a=u.parentNode.insertBefore(j.cloneNode(true),u)});b(a)}else{z.setOuterHTML(u,r);A.select(s.getBody(),1);A.collapse(0)}while(d=z.get(t)){z.remove(d)}d=A.getStart();C=z.getViewPort(s.getWin());c=s.dom.getPos(d).y;v=d.clientHeight;if(c<C.y||c+v>C.y+C.h){s.getDoc().body.scrollTop=c<C.y?c:c-C.h+25}},_insert:function(b,d){var c=this.editor,a=c.selection.getRng();if(!c.selection.isCollapsed()&&a.startContainer!=a.endContainer){c.getDoc().execCommand("Delete",false,null)}c.execCommand(tinymce.isGecko?"insertHTML":"mceInsertContent",false,b,{skip_undo:d})},_insertPlainText:function(L,c,d){var B,A,J,K,D,O,F,N,H=L.getWin(),a=L.getDoc(),C=L.selection,I=tinymce.is,b=tinymce.inArray,M=e(L,"paste_text_linebreaktype"),G=e(L,"paste_text_replacements");function E(j){h(j,function(k){if(k.constructor==RegExp){d=d.replace(k,"")}else{d=d.replace(k[0],k[1])}})}if((typeof(d)==="string")&&(d.length>0)){if(!g){g=("34,quot,38,amp,39,apos,60,lt,62,gt,"+L.serializer.settings.entities).split(",")}if(/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test(d)){E([/[\n\r]+/g])}else{E([/\r+/g])}E([[/<\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,"\n\n"],[/<br[^>]*>|<\/tr>/gi,"\n"],[/<\/t[dh]>\s*<t[dh][^>]*>/gi,"\t"],/<[a-z!\/?][^>]*>/gi,[/&nbsp;/gi," "],[/&(#\d+|[a-z0-9]{1,10});/gi,function(j,k){if(k.charAt(0)==="#"){return String.fromCharCode(k.slice(1))}else{return((j=b(g,k))>0)?String.fromCharCode(g[j-1]):" "}}],[/(?:(?!\n)\s)*(\n+)(?:(?!\n)\s)*/gi,"$1"],[/\n{3,}/g,"\n\n"],/^\s+|\s+$/g]);d=c.encode(d);if(!C.isCollapsed()){a.execCommand("Delete",false,null)}if(I(G,"array")||(I(G,"array"))){E(G)}else{if(I(G,"string")){E(new RegExp(G,"gi"))}}if(M=="none"){E([[/\n+/g," "]])}else{if(M=="br"){E([[/\n/g,"<br />"]])}else{E([/^\s+|\s+$/g,[/\n\n/g,"</p><p>"],[/\n/g,"<br />"]])}}if((J=d.indexOf("</p><p>"))!=-1){K=d.lastIndexOf("</p><p>");D=C.getNode();O=[];do{if(D.nodeType==1){if(D.nodeName=="TD"||D.nodeName=="BODY"){break}O[O.length]=D}}while(D=D.parentNode);if(O.length>0){F=d.substring(0,J);N="";for(B=0,A=O.length;B<A;B++){F+="</"+O[B].nodeName.toLowerCase()+">";N+="<"+O[O.length-B-1].nodeName.toLowerCase()+">"}if(J==K){d=F+N+d.substring(J+7)}else{d=F+d.substring(J+4,K+4)+N+d.substring(K+7)}}}L.execCommand("mceInsertRawHTML",false,d+'<span id="_plain_text_marker">&nbsp;</span>');window.setTimeout(function(){var m=c.get("_plain_text_marker"),n,l,j,k;C.select(m,false);a.execCommand("Delete",false,null);m=null;n=C.getStart();l=c.getViewPort(H);j=c.getPos(n).y;k=n.clientHeight;if((j<l.y)||(j+k>l.y+l.h)){a.body.scrollTop=j<l.y?j:j-l.h+25}},0)}},_legacySupport:function(){var a=this,b=a.editor;b.addCommand("mcePasteWord",function(){b.windowManager.open({file:a.url+"/pasteword.htm",width:parseInt(e(b,"paste_dialog_width")),height:parseInt(e(b,"paste_dialog_height")),inline:1})});if(e(b,"paste_text_use_dialog")){b.addCommand("mcePasteText",function(){b.windowManager.open({file:a.url+"/pastetext.htm",width:parseInt(e(b,"paste_dialog_width")),height:parseInt(e(b,"paste_dialog_height")),inline:1})})}b.addButton("pasteword",{title:"paste.paste_word_desc",cmd:"mcePasteWord"})}});tinymce.PluginManager.add("paste",tinymce.plugins.PastePlugin)})();(function(){tinymce.create("tinymce.plugins.AdvancedImagePlugin",{init:function(a,b){a.addCommand("mceAdvImage",function(){if(a.dom.getAttrib(a.selection.getNode(),"class").indexOf("mceItem")!=-1){return}a.windowManager.open({file:b+"/image.htm",width:600+parseInt(a.getLang("advimage.delta_width",0)),height:500+parseInt(a.getLang("advimage.delta_height",0)),inline:1},{plugin_url:b})});a.addButton("image",{title:"advimage.image_desc",cmd:"mceAdvImage"})},getInfo:function(){return{longname:"Advanced image",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advimage",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("advimage",tinymce.plugins.AdvancedImagePlugin)})();(function(){tinymce.PluginManager.requireLangPack("clearbr");tinymce.create("tinymce.plugins.ClearbrPlugin",{init:function(a,b){a.addCommand("mcePasteClearbr",function(){var c='<br clear="all" />';tinyMCE.get("body").execCommand("mceInsertContent",false,c)});a.addButton("clearbr",{title:"clearbr.desc",cmd:"mcePasteClearbr"});a.onNodeChange.add(function(d,c,e){c.setActive("clearbr",e.nodeName=="IMG")})},createControl:function(b,a){return null},getInfo:function(){return{longname:"Clearbr TinyMCE plugin",author:"Susanne.Tober@uibk.ac.at",authorurl:"http://www.uibk.ac.at/",infourl:"http://www.uibk.ac.at/zid/systeme/xims/tinymce_clearbr.html",version:"0.03"}}});tinymce.PluginManager.add("clearbr",tinymce.plugins.ClearbrPlugin)})();tinyMCE.addI18n("en.clearbr",{desc:"Stop text flow"});tinyMCE.addI18n("de.clearbr",{desc:"Textumfluss unterbrechen"});(function(){tinymce.PluginManager.requireLangPack("uibkextras");tinymce.create("tinymce.plugins.UibkextrasPlugin",{init:function(c,d){var b=tinyMCE.get("body").getParam("uibkextras_ressourceUrl");c.addCommand("mcePasteNewIcon",function(){var g='<span title="new" class="sprite icon_new" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteArrowBlackIcon",function(){var g='<span title="black arrow" class="sprite icon_arrowblack" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteArrowOrangeIcon",function(){var g='<span title="orange arrow" class="sprite icon_arroworange" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteImageIcon",function(){var g='<span title="Image" class="sprite icon_image" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteDocumentIcon",function(){var g='<span title="Document" class="sprite icon_document" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteMsWordIcon",function(){var g='<span title="Word" class="sprite icon_word" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteMsExcelIcon",function(){var g='<span title="Excel" class="sprite icon_excel" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteMsPPTIcon",function(){var g='<span title="Powerpoint" class="sprite icon_ppt" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePastePDFIcon",function(){var g='<span title="PDF" class="sprite icon_pdf" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteEmailIcon",function(){var g='<span title="Email" class="sprite icon_email" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteIntranetIcon",function(){var g='<span title="Intranet" class="sprite icon_intranet" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});c.addCommand("mcePasteExternalLinkIcon",function(){var g='<span title="External Link" class="sprite icon_externallink" ></span>';tinyMCE.get("body").execCommand("mceInsertContent",false,g)});var a=tinyMCE.get("body").getParam("uibkextras_iconNames").split(",");for(var e=0;e<a.length;e++){var f=a[e].split("=");c.addButton("uibkextras_"+f[0]+"",{title:"uibkextras"+f[0]+".desc",cmd:"mcePaste"+f[0]+"Icon"});c.onNodeChange.add(function(h,g,j){g.setActive("uibkextras_"+f[0],j.nodeName=="IMG")})}},createControl:function(b,a){return null},getInfo:function(){return{longname:"UIBK image-buttons-extras TinyMCE plugin",author:"Severin.Gehwolf@uibk.ac.at",authorurl:"http://www.uibk.ac.at/",infourl:"http://www.uibk.ac.at/zid/systeme/xims/tinymce_uibkextras.html",version:"0.02"}}});tinymce.PluginManager.add("uibkextras",tinymce.plugins.UibkextrasPlugin)})();tinyMCE.addI18n("en.uibkextrasMsWord",{desc:"Insert MS Word Icon"});tinyMCE.addI18n("en.uibkextrasMsExcel",{desc:"Insert MS Excel Icon"});tinyMCE.addI18n("en.uibkextrasMsPPT",{desc:"Insert MS Power Point Icon"});tinyMCE.addI18n("en.uibkextrasDocument",{desc:"Insert Document Icon"});tinyMCE.addI18n("en.uibkextrasEMail",{desc:"Insert e-Mail Icon"});tinyMCE.addI18n("en.uibkextrasPDF",{desc:"Insert PDF Icon"});tinyMCE.addI18n("en.uibkextrasFolder",{desc:"Insert Folder Icon"});tinyMCE.addI18n("en.uibkextrasImage",{desc:"Insert Image Icon"});tinyMCE.addI18n("de.uibkextrasIntranet",{desc:"Insert Intranet Icon"});tinyMCE.addI18n("de.uibkextrasExternalLink",{desc:"Insert External Link Icon"});tinyMCE.addI18n("de.uibkextrasNew",{desc:"Insert New Icon"});tinyMCE.addI18n("de.uibkextrasArrowBlack",{desc:"Insert Black Arrow Icon"});tinyMCE.addI18n("de.uibkextrasArrowOrange",{desc:"Insert Orange Arrow Icon"});tinyMCE.addI18n("de.uibkextrasMsWord",{desc:"MS Word Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasMsExcel",{desc:"MS Excel Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasMsPPT",{desc:"MS PowerPoint Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasDocument",{desc:"Dokument Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasPDF",{desc:"PDF Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasEmail",{desc:"e-Mail Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasFolder",{desc:"Ordner Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasImage",{desc:"Bild Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasIntranet",{desc:"Intranet Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasExternalLink",{desc:"Externer Link Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasNew",{desc:"Neu Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasArrowBlack",{desc:"Schwarzer Pfeil Icon einf\u00FCgen"});tinyMCE.addI18n("de.uibkextrasArrowOrange",{desc:"Oranger Pfeil Icon einf\u00FCgen"});(function(){tinymce.PluginManager.requireLangPack("caption");tinymce.create("tinymce.plugins.CaptionPlugin",{init:function(b,c){b.addCommand("mceCaption",function(){if(b.dom.getAttrib(b.selection.getNode(),"class").indexOf("mceItem")!=-1){return}b.windowManager.open({file:c+"/caption.htm",width:480,height:230,inline:1},{plugin_url:c})});b.addButton("caption",{title:"caption.desc",cmd:"mceCaption"});b.onNodeChange.add(function(e,d,f){d.setActive("caption",f.nodeName=="IMG")})},getInfo:function(){return{longname:"Image Caption",author:"Susanne Tober",authorurl:"http://www.uibk.ac.at/zid/",infourl:"http://www.uibk.ac.at/zid/systeme/xims/",version:tinymce.majorVersion+"."+tinymce.minorVersion}},updateCaption:function(b){var d={wrapperElement:"div",wrapperClass:"caption",captionElement:"p",imageAttr:"alt",requireText:true,copyStyle:true,removeStyle:true,removeAlign:true,copyAlignmentToClass:false,copyFloatToClass:true,autoWidth:true,};var e=$(b.selection.getNode());var c=$(e).parent();if(c.is("div")){c.attr("style",e.attr("style"));c.width(e.width());c.height("");if(d.removeStyle){e.removeAttr("style")}if(d.removeAlign){e.removeAttr("align")}c.removeAttr("_mce_style");e.removeAttr("_mce_style")}return}},function a(b){var d=$(b.selection.getNode());var c=$(d).parent();while(!c.hasClass("caption")){c=c.parent()}style=c.attr("style");style=style.substr(0,style.indexOf("width")-1);d.attr("style",style);d.unwrap()});tinymce.PluginManager.add("caption",tinymce.plugins.CaptionPlugin)})();tinyMCE.addI18n("en.caption",{desc:"Insert / edit caption",});tinyMCE.addI18n("de.caption",{desc:"Bildunterschrift einf\u00FCgen / ersetzen"});(function(){tinymce.PluginManager.requireLangPack("inoutdent2ndline");tinymce.create("tinymce.plugins.InOutdent2ndLinePlugin",{init:function(a,b){a.addCommand("mceIndent2ndLine",function(){a.formatter.toggle("indent2ndline")});a.addCommand("mceOutdent2ndLine",function(){a.formatter.toggle("outdent2ndline")});a.addButton("indent2ndline",{title:"indent2ndline.desc",cmd:"mceIndent2ndLine"});a.addButton("outdent2ndline",{title:"outdent2ndline.desc",cmd:"mceOutdent2ndLine"});a.onNodeChange.add(function(d,c,e){c.setActive("indent2ndline",e.nodeName=="P");c.setActive("outdent2ndline",e.nodeName=="P")})},createControl:function(b,a){return null},getInfo:function(){return{longname:"Example plugin",author:"Some author",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/example",version:"1.0"}}});tinymce.PluginManager.add("inoutdent2ndline",tinymce.plugins.InOutdent2ndLinePlugin)})();tinyMCE.addI18n("en.indent2ndline",{desc:"Erste Zeile einruecken"});tinyMCE.addI18n("en.outdent2ndline",{desc:"Erste Zeile ausruecken"});tinyMCE.addI18n("de.indent2ndline",{desc:"Erste Zeile einr\u00FCcken"});tinyMCE.addI18n("de.outdent2ndline",{desc:"Erste Zeile ausr\u00FCcken"});tinyMCE_GZ.end();